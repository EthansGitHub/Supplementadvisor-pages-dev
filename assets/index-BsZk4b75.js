(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ep={exports:{}},Yl={},Tp={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function TC(){if(dw)return We;dw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,R={};function b(H,ne,O){this.props=H,this.context=ne,this.refs=R,this.updater=O||x}b.prototype.isReactComponent={},b.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},b.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function N(){}N.prototype=b.prototype;function B(H,ne,O){this.props=H,this.context=ne,this.refs=R,this.updater=O||x}var z=B.prototype=new N;z.constructor=B,k(z,b.prototype),z.isPureReactComponent=!0;var te=Array.isArray,Z=Object.prototype.hasOwnProperty,q={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function A(H,ne,O){var Ae,Fe={},se=null,be=null;if(ne!=null)for(Ae in ne.ref!==void 0&&(be=ne.ref),ne.key!==void 0&&(se=""+ne.key),ne)Z.call(ne,Ae)&&!M.hasOwnProperty(Ae)&&(Fe[Ae]=ne[Ae]);var Se=arguments.length-2;if(Se===1)Fe.children=O;else if(1<Se){for(var pe=Array(Se),_e=0;_e<Se;_e++)pe[_e]=arguments[_e+2];Fe.children=pe}if(H&&H.defaultProps)for(Ae in Se=H.defaultProps,Se)Fe[Ae]===void 0&&(Fe[Ae]=Se[Ae]);return{$$typeof:t,type:H,key:se,ref:be,props:Fe,_owner:q.current}}function V(H,ne){return{$$typeof:t,type:H.type,key:ne,ref:H.ref,props:H.props,_owner:H._owner}}function I(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(O){return ne[O]})}var j=/\/+/g;function C(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):ne.toString(36)}function J(H,ne,O,Ae,Fe){var se=typeof H;(se==="undefined"||se==="boolean")&&(H=null);var be=!1;if(H===null)be=!0;else switch(se){case"string":case"number":be=!0;break;case"object":switch(H.$$typeof){case t:case e:be=!0}}if(be)return be=H,Fe=Fe(be),H=Ae===""?"."+C(be,0):Ae,te(Fe)?(O="",H!=null&&(O=H.replace(j,"$&/")+"/"),J(Fe,ne,O,"",function(_e){return _e})):Fe!=null&&(I(Fe)&&(Fe=V(Fe,O+(!Fe.key||be&&be.key===Fe.key?"":(""+Fe.key).replace(j,"$&/")+"/")+H)),ne.push(Fe)),1;if(be=0,Ae=Ae===""?".":Ae+":",te(H))for(var Se=0;Se<H.length;Se++){se=H[Se];var pe=Ae+C(se,Se);be+=J(se,ne,O,pe,Fe)}else if(pe=v(H),typeof pe=="function")for(H=pe.call(H),Se=0;!(se=H.next()).done;)se=se.value,pe=Ae+C(se,Se++),be+=J(se,ne,O,pe,Fe);else if(se==="object")throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return be}function ee(H,ne,O){if(H==null)return H;var Ae=[],Fe=0;return J(H,Ae,"","",function(se){return ne.call(O,se,Fe++)}),Ae}function Ie(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(O){(H._status===0||H._status===-1)&&(H._status=1,H._result=O)},function(O){(H._status===0||H._status===-1)&&(H._status=2,H._result=O)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var we={current:null},ae={transition:null},ge={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ae,ReactCurrentOwner:q};function D(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ee,forEach:function(H,ne,O){ee(H,function(){ne.apply(this,arguments)},O)},count:function(H){var ne=0;return ee(H,function(){ne++}),ne},toArray:function(H){return ee(H,function(ne){return ne})||[]},only:function(H){if(!I(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},We.Component=b,We.Fragment=n,We.Profiler=i,We.PureComponent=B,We.StrictMode=r,We.Suspense=h,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,We.act=D,We.cloneElement=function(H,ne,O){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ae=k({},H.props),Fe=H.key,se=H.ref,be=H._owner;if(ne!=null){if(ne.ref!==void 0&&(se=ne.ref,be=q.current),ne.key!==void 0&&(Fe=""+ne.key),H.type&&H.type.defaultProps)var Se=H.type.defaultProps;for(pe in ne)Z.call(ne,pe)&&!M.hasOwnProperty(pe)&&(Ae[pe]=ne[pe]===void 0&&Se!==void 0?Se[pe]:ne[pe])}var pe=arguments.length-2;if(pe===1)Ae.children=O;else if(1<pe){Se=Array(pe);for(var _e=0;_e<pe;_e++)Se[_e]=arguments[_e+2];Ae.children=Se}return{$$typeof:t,type:H.type,key:Fe,ref:se,props:Ae,_owner:be}},We.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},We.createElement=A,We.createFactory=function(H){var ne=A.bind(null,H);return ne.type=H,ne},We.createRef=function(){return{current:null}},We.forwardRef=function(H){return{$$typeof:c,render:H}},We.isValidElement=I,We.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:Ie}},We.memo=function(H,ne){return{$$typeof:f,type:H,compare:ne===void 0?null:ne}},We.startTransition=function(H){var ne=ae.transition;ae.transition={};try{H()}finally{ae.transition=ne}},We.unstable_act=D,We.useCallback=function(H,ne){return we.current.useCallback(H,ne)},We.useContext=function(H){return we.current.useContext(H)},We.useDebugValue=function(){},We.useDeferredValue=function(H){return we.current.useDeferredValue(H)},We.useEffect=function(H,ne){return we.current.useEffect(H,ne)},We.useId=function(){return we.current.useId()},We.useImperativeHandle=function(H,ne,O){return we.current.useImperativeHandle(H,ne,O)},We.useInsertionEffect=function(H,ne){return we.current.useInsertionEffect(H,ne)},We.useLayoutEffect=function(H,ne){return we.current.useLayoutEffect(H,ne)},We.useMemo=function(H,ne){return we.current.useMemo(H,ne)},We.useReducer=function(H,ne,O){return we.current.useReducer(H,ne,O)},We.useRef=function(H){return we.current.useRef(H)},We.useState=function(H){return we.current.useState(H)},We.useSyncExternalStore=function(H,ne,O){return we.current.useSyncExternalStore(H,ne,O)},We.useTransition=function(){return we.current.useTransition()},We.version="18.3.1",We}var pw;function pg(){return pw||(pw=1,Tp.exports=TC()),Tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function SC(){if(mw)return Yl;mw=1;var t=pg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var m,g={},v=null,x=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(m in h)r.call(h,m)&&!a.hasOwnProperty(m)&&(g[m]=h[m]);if(c&&c.defaultProps)for(m in h=c.defaultProps,h)g[m]===void 0&&(g[m]=h[m]);return{$$typeof:e,type:c,key:v,ref:x,props:g,_owner:i.current}}return Yl.Fragment=n,Yl.jsx=l,Yl.jsxs=l,Yl}var gw;function kC(){return gw||(gw=1,Ep.exports=SC()),Ep.exports}var S=kC(),yh={},Sp={exports:{}},Fn={},kp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function IC(){return yw||(yw=1,(function(t){function e(ae,ge){var D=ae.length;ae.push(ge);e:for(;0<D;){var H=D-1>>>1,ne=ae[H];if(0<i(ne,ge))ae[H]=ge,ae[D]=ne,D=H;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ge=ae[0],D=ae.pop();if(D!==ge){ae[0]=D;e:for(var H=0,ne=ae.length,O=ne>>>1;H<O;){var Ae=2*(H+1)-1,Fe=ae[Ae],se=Ae+1,be=ae[se];if(0>i(Fe,D))se<ne&&0>i(be,Fe)?(ae[H]=be,ae[se]=D,H=se):(ae[H]=Fe,ae[Ae]=D,H=Ae);else if(se<ne&&0>i(be,D))ae[H]=be,ae[se]=D,H=se;else break e}}return ge}function i(ae,ge){var D=ae.sortIndex-ge.sortIndex;return D!==0?D:ae.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],m=1,g=null,v=3,x=!1,k=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ae){for(var ge=n(f);ge!==null;){if(ge.callback===null)r(f);else if(ge.startTime<=ae)r(f),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(f)}}function te(ae){if(R=!1,z(ae),!k)if(n(h)!==null)k=!0,Ie(Z);else{var ge=n(f);ge!==null&&we(te,ge.startTime-ae)}}function Z(ae,ge){k=!1,R&&(R=!1,N(A),A=-1),x=!0;var D=v;try{for(z(ge),g=n(h);g!==null&&(!(g.expirationTime>ge)||ae&&!L());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var ne=H(g.expirationTime<=ge);ge=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(h)&&r(h),z(ge)}else r(h);g=n(h)}if(g!==null)var O=!0;else{var Ae=n(f);Ae!==null&&we(te,Ae.startTime-ge),O=!1}return O}finally{g=null,v=D,x=!1}}var q=!1,M=null,A=-1,V=5,I=-1;function L(){return!(t.unstable_now()-I<V)}function j(){if(M!==null){var ae=t.unstable_now();I=ae;var ge=!0;try{ge=M(!0,ae)}finally{ge?C():(q=!1,M=null)}}else q=!1}var C;if(typeof B=="function")C=function(){B(j)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=j,C=function(){ee.postMessage(null)}}else C=function(){b(j,0)};function Ie(ae){M=ae,q||(q=!0,C())}function we(ae,ge){A=b(function(){ae(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,Ie(Z))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var ge=3;break;default:ge=v}var D=v;v=ge;try{return ae()}finally{v=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var D=v;v=ae;try{return ge()}finally{v=D}},t.unstable_scheduleCallback=function(ae,ge,D){var H=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?H+D:H):D=H,ae){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=D+ne,ae={id:m++,callback:ge,priorityLevel:ae,startTime:D,expirationTime:ne,sortIndex:-1},D>H?(ae.sortIndex=D,e(f,ae),n(h)===null&&ae===n(f)&&(R?(N(A),A=-1):R=!0,we(te,D-H))):(ae.sortIndex=ne,e(h,ae),k||x||(k=!0,Ie(Z))),ae},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(ae){var ge=v;return function(){var D=v;v=ge;try{return ae.apply(this,arguments)}finally{v=D}}}})(Ip)),Ip}var vw;function AC(){return vw||(vw=1,kp.exports=IC()),kp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function CC(){if(ww)return Fn;ww=1;var t=pg(),e=AC();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(s){return h.call(g,s)?!0:h.call(m,s)?!1:f.test(s)?g[s]=!0:(m[s]=!0,!1)}function x(s,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,o,u,p){if(o===null||typeof o>"u"||x(s,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(s,o,u,p,y,w,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new R(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new R(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new R(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new R(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new R(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new R(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new R(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new R(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new R(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,B);b[o]=new R(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,B);b[o]=new R(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,B);b[o]=new R(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new R(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new R(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,u,p){var y=b.hasOwnProperty(o)?b[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,y,p)&&(u=null),p||y===null?v(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(o=y.attributeName,p=y.attributeNamespace,u===null?s.removeAttribute(o):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?s.setAttributeNS(p,o,u):s.setAttribute(o,u))))}var te=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),q=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ae&&s[ae]||s["@@iterator"],typeof s=="function"?s:null)}var D=Object.assign,H;function ne(s){if(H===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+s}var O=!1;function Ae(s,o){if(!s||O)return"";O=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){p=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),w=p.stack.split(`
`),T=y.length-1,F=w.length-1;1<=T&&0<=F&&y[T]!==w[F];)F--;for(;1<=T&&0<=F;T--,F--)if(y[T]!==w[F]){if(T!==1||F!==1)do if(T--,F--,0>F||y[T]!==w[F]){var U=`
`+y[T].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=T&&0<=F);break}}}finally{O=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ne(s):""}function Fe(s){switch(s.tag){case 5:return ne(s.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case q:return"Portal";case V:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case J:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case j:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ee:return o=s.displayName||null,o!==null?o:se(s.type)||"Memo";case Ie:o=s._payload,s=s._init;try{return se(s(o))}catch{}}return null}function be(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Se(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function pe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _e(s){var o=pe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){p=""+T,w.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Tt(s){s._valueTracker||(s._valueTracker=_e(s))}function Cn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=pe(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function Wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ht(s,o){var u=o.checked;return D({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function kt(s,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Se(o.value!=null?o.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ot(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function dn(s,o){Ot(s,o);var u=Se(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ge(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ge(s,o.type,Se(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Ft(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ge(s,o,u){(o!=="number"||Wt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var $e=Array.isArray;function ft(s,o,u,p){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Se(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function lt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function at(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if($e(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Se(u)}}function bn(s,o){var u=Se(o.value),p=Se(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function dt(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Q(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Q(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Pe,qe=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,y){MSApp.execUnsafeLocalFunction(function(){return s(o,u,p,y)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Pe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Je(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(s){rr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),jt[o]=jt[s]})});function Yt(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||jt.hasOwnProperty(s)&&jt[s]?(""+o).trim():o+"px"}function ir(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=Yt(u,o[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,y):s[u]=y}}var wr=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(s,o){if(o){if(wr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function zn(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xt=null;function Lo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fi=null,di=null,Pt=null;function ll(s){if(s=Ll(s)){if(typeof fi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Nc(o),fi(s.stateNode,s.type,o))}}function Hi(s){di?Pt?Pt.push(s):Pt=[s]:di=s}function qi(){if(di){var s=di,o=Pt;if(Pt=di=null,ll(s),o)for(s=0;s<o.length;s++)ll(o[s])}}function oc(s,o){return s(o)}function ac(){}var Vr=!1;function lc(s,o,u){if(Vr)return s(o,u);Vr=!0;try{return oc(s,o,u)}finally{Vr=!1,(di!==null||Pt!==null)&&(ac(),qi())}}function js(s,o){var u=s.stateNode;if(u===null)return null;var p=Nc(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Wi=!1;if(c)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Wi=!1}function uc(s,o,u,p,y,w,T,F,U){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(ue){this.onError(ue)}}var pi=!1,Lr=null,Mo=!1,sr=null,cc={onError:function(s){pi=!0,Lr=s}};function hc(s,o,u,p,y,w,T,F,U){pi=!1,Lr=null,uc.apply(cc,arguments)}function ul(s,o,u,p,y,w,T,F,U){if(hc.apply(this,arguments),pi){if(pi){var Y=Lr;pi=!1,Lr=null}else throw Error(n(198));Mo||(Mo=!0,sr=Y)}}function _r(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function cl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function fc(s){if(_r(s)!==s)throw Error(n(188))}function dc(s){var o=s.alternate;if(!o){if(o=_r(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,p=o;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return fc(y),s;if(w===p)return fc(y),o;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=y,p=w;else{for(var T=!1,F=y.child;F;){if(F===u){T=!0,u=y,p=w;break}if(F===p){T=!0,p=y,u=w;break}F=F.sibling}if(!T){for(F=w.child;F;){if(F===u){T=!0,u=w,p=y;break}if(F===p){T=!0,p=w,u=y;break}F=F.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function pc(s){return s=dc(s),s!==null?Bs(s):null}function Bs(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Bs(s);if(o!==null)return o;s=s.sibling}return null}var hl=e.unstable_scheduleCallback,Oo=e.unstable_cancelCallback,Us=e.unstable_shouldYield,mi=e.unstable_requestPaint,vt=e.unstable_now,Zf=e.unstable_getCurrentPriorityLevel,Fo=e.unstable_ImmediatePriority,fl=e.unstable_UserBlockingPriority,zs=e.unstable_NormalPriority,dl=e.unstable_LowPriority,jo=e.unstable_IdlePriority,$s=null,$n=null;function mc(s){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot($s,s,void 0,(s.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:Hs,Mr=Math.log,or=Math.LN2;function Hs(s){return s>>>=0,s===0?32:31-(Mr(s)/or|0)|0}var Or=64,Ki=4194304;function it(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gi(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,w=s.pingedLanes,T=u&268435455;if(T!==0){var F=T&~y;F!==0?p=it(F):(w&=T,w!==0&&(p=it(w)))}else T=u&~y,T!==0?p=it(T):w!==0&&(p=it(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,w=o&-o,y>=w||y===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)u=31-Hn(o),y=1<<u,p|=s[u],o&=~y;return p}function qs(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,w=s.pendingLanes;0<w;){var T=31-Hn(w),F=1<<T,U=y[T];U===-1?((F&u)===0||(F&p)!==0)&&(y[T]=qs(F,o)):U<=o&&(s.expiredLanes|=F),w&=~F}}function pl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ml(){var s=Or;return Or<<=1,(Or&4194240)===0&&(Or=64),s}function gl(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Gs(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Hn(o),s[o]=u}function ed(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-Hn(u),w=1<<y;o[y]=0,p[y]=-1,s[y]=-1,u&=~w}}function yl(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-Hn(u),y=1<<p;y&o|s[p]&o&&(s[p]|=o),u&=~y}}var Ze=0;function Fr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var vl,Bo,wl,_l,xl,jr=!1,Uo=[],Br=null,Ur=null,sn=null,Ks=new Map,yi=new Map,qn=[],gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qi(s,o){switch(s){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Ks.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(o.pointerId)}}function xr(s,o,u,p,y,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Ll(o),o!==null&&Bo(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function yc(s,o,u,p,y){switch(o){case"focusin":return Br=xr(Br,s,o,u,p,y),!0;case"dragenter":return Ur=xr(Ur,s,o,u,p,y),!0;case"mouseover":return sn=xr(sn,s,o,u,p,y),!0;case"pointerover":var w=y.pointerId;return Ks.set(w,xr(Ks.get(w)||null,s,o,u,p,y)),!0;case"gotpointercapture":return w=y.pointerId,yi.set(w,xr(yi.get(w)||null,s,o,u,p,y)),!0}return!1}function zo(s){var o=Js(s.target);if(o!==null){var u=_r(o);if(u!==null){if(o=u.tag,o===13){if(o=cl(u),o!==null){s.blockedOn=o,xl(s.priority,function(){wl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ut(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=$o(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Xt=p,u.target.dispatchEvent(p),Xt=null}else return o=Ll(u),o!==null&&Bo(o),s.blockedOn=u,!1;o.shift()}return!0}function vc(s,o,u){ut(s)&&u.delete(o)}function td(){jr=!1,Br!==null&&ut(Br)&&(Br=null),Ur!==null&&ut(Ur)&&(Ur=null),sn!==null&&ut(sn)&&(sn=null),Ks.forEach(vc),yi.forEach(vc)}function Yi(s,o){s.blockedOn===o&&(s.blockedOn=null,jr||(jr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,td)))}function Xi(s){function o(y){return Yi(y,s)}if(0<Uo.length){Yi(Uo[0],s);for(var u=1;u<Uo.length;u++){var p=Uo[u];p.blockedOn===s&&(p.blockedOn=null)}}for(Br!==null&&Yi(Br,s),Ur!==null&&Yi(Ur,s),sn!==null&&Yi(sn,s),Ks.forEach(o),yi.forEach(o),u=0;u<qn.length;u++)p=qn[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<qn.length&&(u=qn[0],u.blockedOn===null);)zo(u),u.blockedOn===null&&qn.shift()}var vi=te.ReactCurrentBatchConfig,wi=!0;function zr(s,o,u,p){var y=Ze,w=vi.transition;vi.transition=null;try{Ze=1,El(s,o,u,p)}finally{Ze=y,vi.transition=w}}function wc(s,o,u,p){var y=Ze,w=vi.transition;vi.transition=null;try{Ze=4,El(s,o,u,p)}finally{Ze=y,vi.transition=w}}function El(s,o,u,p){if(wi){var y=$o(s,o,u,p);if(y===null)fd(s,o,p,$r,u),Qi(s,p);else if(yc(y,s,o,u,p))p.stopPropagation();else if(Qi(s,p),o&4&&-1<gc.indexOf(s)){for(;y!==null;){var w=Ll(y);if(w!==null&&vl(w),w=$o(s,o,u,p),w===null&&fd(s,o,p,$r,u),w===y)break;y=w}y!==null&&p.stopPropagation()}else fd(s,o,p,null,u)}}var $r=null;function $o(s,o,u,p){if($r=null,s=Lo(p),s=Js(s),s!==null)if(o=_r(s),o===null)s=null;else if(u=o.tag,u===13){if(s=cl(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return $r=s,null}function Ho(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zf()){case Fo:return 1;case fl:return 4;case zs:case dl:return 16;case jo:return 536870912;default:return 16}default:return 16}}var Wn=null,qo=null,_i=null;function _c(){if(_i)return _i;var s,o=qo,u=o.length,p,y="value"in Wn?Wn.value:Wn.textContent,w=y.length;for(s=0;s<u&&o[s]===y[s];s++);var T=u-s;for(p=1;p<=T&&o[u-p]===y[w-p];p++);return _i=y.slice(s,1<p?1-p:void 0)}function Qs(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Hr(){return!0}function Tl(){return!1}function pn(s){function o(u,p,y,w,T){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(u=s[F],this[F]=u?u(w):w[F]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Hr:Tl,this.isPropagationStopped=Tl,this}return D(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),o}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=pn(qr),Ji=D({},qr,{view:0,detail:0}),Wo=pn(Ji),Go,Ko,Gn,Xs=D({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Gn&&(Gn&&s.type==="mousemove"?(Go=s.screenX-Gn.screenX,Ko=s.screenY-Gn.screenY):Ko=Go=0,Gn=s),Go)},movementY:function(s){return"movementY"in s?s.movementY:Ko}}),Sl=pn(Xs),xc=D({},Xs,{dataTransfer:0}),Ec=pn(xc),Qo=D({},Ji,{relatedTarget:0}),on=pn(Qo),Tc=D({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sc=pn(Tc),Zi=D({},qr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=pn(Zi),_=D({},qr,{data:0}),E=pn(_),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=X[s])?!!o[s]:!1}function Ue(){return me}var Dt=D({},Ji,{key:function(s){if(s.key){var o=P[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Qs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(s){return s.type==="keypress"?Qs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ot=pn(Dt),Bt=D({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kn=pn(Bt),xi=D({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),Wr=pn(xi),Gr=D({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=pn(Gr),kl=D({},Xs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),yA=pn(kl),vA=[9,13,27,32],nd=c&&"CompositionEvent"in window,Il=null;c&&"documentMode"in document&&(Il=document.documentMode);var wA=c&&"TextEvent"in window&&!Il,sv=c&&(!nd||Il&&8<Il&&11>=Il),ov=" ",av=!1;function lv(s,o){switch(s){case"keyup":return vA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xo=!1;function _A(s,o){switch(s){case"compositionend":return uv(o);case"keypress":return o.which!==32?null:(av=!0,ov);case"textInput":return s=o.data,s===ov&&av?null:s;default:return null}}function xA(s,o){if(Xo)return s==="compositionend"||!nd&&lv(s,o)?(s=_c(),_i=qo=Wn=null,Xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sv&&o.locale!=="ko"?null:o.data;default:return null}}var EA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!EA[s.type]:o==="textarea"}function hv(s,o,u,p){Hi(p),o=bc(o,"onChange"),0<o.length&&(u=new Ys("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var Al=null,Cl=null;function TA(s){bv(s,0)}function kc(s){var o=na(s);if(Cn(o))return s}function SA(s,o){if(s==="change")return o}var fv=!1;if(c){var rd;if(c){var id="oninput"in document;if(!id){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),id=typeof dv.oninput=="function"}rd=id}else rd=!1;fv=rd&&(!document.documentMode||9<document.documentMode)}function pv(){Al&&(Al.detachEvent("onpropertychange",mv),Cl=Al=null)}function mv(s){if(s.propertyName==="value"&&kc(Cl)){var o=[];hv(o,Cl,s,Lo(s)),lc(TA,o)}}function kA(s,o,u){s==="focusin"?(pv(),Al=o,Cl=u,Al.attachEvent("onpropertychange",mv)):s==="focusout"&&pv()}function IA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kc(Cl)}function AA(s,o){if(s==="click")return kc(o)}function CA(s,o){if(s==="input"||s==="change")return kc(o)}function bA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Er=typeof Object.is=="function"?Object.is:bA;function bl(s,o){if(Er(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!h.call(o,y)||!Er(s[y],o[y]))return!1}return!0}function gv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yv(s,o){var u=gv(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gv(u)}}function vv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?vv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function wv(){for(var s=window,o=Wt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Wt(s.document)}return o}function sd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function PA(s){var o=wv(),u=s.focusedElem,p=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&vv(u.ownerDocument.documentElement,u)){if(p!==null&&sd(u)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!s.extend&&w>p&&(y=p,p=w,w=y),y=yv(u,w);var T=yv(u,p);y&&T&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),w>p?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var RA=c&&"documentMode"in document&&11>=document.documentMode,Jo=null,od=null,Pl=null,ad=!1;function _v(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ad||Jo==null||Jo!==Wt(p)||(p=Jo,"selectionStart"in p&&sd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Pl&&bl(Pl,p)||(Pl=p,p=bc(od,"onSelect"),0<p.length&&(o=new Ys("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Jo)))}function Ic(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Zo={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},ld={},xv={};c&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Ac(s){if(ld[s])return ld[s];if(!Zo[s])return s;var o=Zo[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in xv)return ld[s]=o[u];return s}var Ev=Ac("animationend"),Tv=Ac("animationiteration"),Sv=Ac("animationstart"),kv=Ac("transitionend"),Iv=new Map,Av="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(s,o){Iv.set(s,o),a(o,[s])}for(var ud=0;ud<Av.length;ud++){var cd=Av[ud],NA=cd.toLowerCase(),DA=cd[0].toUpperCase()+cd.slice(1);es(NA,"on"+DA)}es(Ev,"onAnimationEnd"),es(Tv,"onAnimationIteration"),es(Sv,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(kv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Cv(s,o,u){var p=s.type||"unknown-event";s.currentTarget=u,ul(p,o,void 0,s),s.currentTarget=null}function bv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var T=p.length-1;0<=T;T--){var F=p[T],U=F.instance,Y=F.currentTarget;if(F=F.listener,U!==w&&y.isPropagationStopped())break e;Cv(y,F,Y),w=U}else for(T=0;T<p.length;T++){if(F=p[T],U=F.instance,Y=F.currentTarget,F=F.listener,U!==w&&y.isPropagationStopped())break e;Cv(y,F,Y),w=U}}}if(Mo)throw s=sr,Mo=!1,sr=null,s}function wt(s,o){var u=o[vd];u===void 0&&(u=o[vd]=new Set);var p=s+"__bubble";u.has(p)||(Pv(o,s,2,!1),u.add(p))}function hd(s,o,u){var p=0;o&&(p|=4),Pv(u,s,p,o)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Nl(s){if(!s[Cc]){s[Cc]=!0,r.forEach(function(u){u!=="selectionchange"&&(VA.has(u)||hd(u,!1,s),hd(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Cc]||(o[Cc]=!0,hd("selectionchange",!1,o))}}function Pv(s,o,u,p){switch(Ho(o)){case 1:var y=zr;break;case 4:y=wc;break;default:y=El}u=y.bind(null,o,u,s),y=void 0,!Wi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function fd(s,o,u,p,y){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var F=p.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(T===4)for(T=p.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;T=T.return}for(;F!==null;){if(T=Js(F),T===null)return;if(U=T.tag,U===5||U===6){p=w=T;continue e}F=F.parentNode}}p=p.return}lc(function(){var Y=w,ue=Lo(u),ce=[];e:{var le=Iv.get(s);if(le!==void 0){var ye=Ys,Te=s;switch(s){case"keypress":if(Qs(u)===0)break e;case"keydown":case"keyup":ye=ot;break;case"focusin":Te="focus",ye=on;break;case"focusout":Te="blur",ye=on;break;case"beforeblur":case"afterblur":ye=on;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Wr;break;case Ev:case Tv:case Sv:ye=Sc;break;case kv:ye=Yo;break;case"scroll":ye=Wo;break;case"wheel":ye=yA;break;case"copy":case"cut":case"paste":ye=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Kn}var ke=(o&4)!==0,Vt=!ke&&s==="scroll",W=ke?le!==null?le+"Capture":null:le;ke=[];for(var $=Y,K;$!==null;){K=$;var de=K.stateNode;if(K.tag===5&&de!==null&&(K=de,W!==null&&(de=js($,W),de!=null&&ke.push(Dl($,de,K)))),Vt)break;$=$.return}0<ke.length&&(le=new ye(le,Te,null,u,ue),ce.push({event:le,listeners:ke}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",le&&u!==Xt&&(Te=u.relatedTarget||u.fromElement)&&(Js(Te)||Te[Ei]))break e;if((ye||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,ye?(Te=u.relatedTarget||u.toElement,ye=Y,Te=Te?Js(Te):null,Te!==null&&(Vt=_r(Te),Te!==Vt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ye=null,Te=Y),ye!==Te)){if(ke=Sl,de="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Kn,de="onPointerLeave",W="onPointerEnter",$="pointer"),Vt=ye==null?le:na(ye),K=Te==null?le:na(Te),le=new ke(de,$+"leave",ye,u,ue),le.target=Vt,le.relatedTarget=K,de=null,Js(ue)===Y&&(ke=new ke(W,$+"enter",Te,u,ue),ke.target=K,ke.relatedTarget=Vt,de=ke),Vt=de,ye&&Te)t:{for(ke=ye,W=Te,$=0,K=ke;K;K=ea(K))$++;for(K=0,de=W;de;de=ea(de))K++;for(;0<$-K;)ke=ea(ke),$--;for(;0<K-$;)W=ea(W),K--;for(;$--;){if(ke===W||W!==null&&ke===W.alternate)break t;ke=ea(ke),W=ea(W)}ke=null}else ke=null;ye!==null&&Rv(ce,le,ye,ke,!1),Te!==null&&Vt!==null&&Rv(ce,Vt,Te,ke,!0)}}e:{if(le=Y?na(Y):window,ye=le.nodeName&&le.nodeName.toLowerCase(),ye==="select"||ye==="input"&&le.type==="file")var Ce=SA;else if(cv(le))if(fv)Ce=CA;else{Ce=IA;var Ne=kA}else(ye=le.nodeName)&&ye.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ce=AA);if(Ce&&(Ce=Ce(s,Y))){hv(ce,Ce,u,ue);break e}Ne&&Ne(s,le,Y),s==="focusout"&&(Ne=le._wrapperState)&&Ne.controlled&&le.type==="number"&&Ge(le,"number",le.value)}switch(Ne=Y?na(Y):window,s){case"focusin":(cv(Ne)||Ne.contentEditable==="true")&&(Jo=Ne,od=Y,Pl=null);break;case"focusout":Pl=od=Jo=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,_v(ce,u,ue);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":_v(ce,u,ue)}var De;if(nd)e:{switch(s){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xo?lv(s,u)&&(je="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(sv&&u.locale!=="ko"&&(Xo||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xo&&(De=_c()):(Wn=ue,qo="value"in Wn?Wn.value:Wn.textContent,Xo=!0)),Ne=bc(Y,je),0<Ne.length&&(je=new E(je,s,null,u,ue),ce.push({event:je,listeners:Ne}),De?je.data=De:(De=uv(u),De!==null&&(je.data=De)))),(De=wA?_A(s,u):xA(s,u))&&(Y=bc(Y,"onBeforeInput"),0<Y.length&&(ue=new E("onBeforeInput","beforeinput",null,u,ue),ce.push({event:ue,listeners:Y}),ue.data=De))}bv(ce,o)})}function Dl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function bc(s,o){for(var u=o+"Capture",p=[];s!==null;){var y=s,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=js(s,u),w!=null&&p.unshift(Dl(s,w,y)),w=js(s,o),w!=null&&p.push(Dl(s,w,y))),s=s.return}return p}function ea(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Rv(s,o,u,p,y){for(var w=o._reactName,T=[];u!==null&&u!==p;){var F=u,U=F.alternate,Y=F.stateNode;if(U!==null&&U===p)break;F.tag===5&&Y!==null&&(F=Y,y?(U=js(u,w),U!=null&&T.unshift(Dl(u,U,F))):y||(U=js(u,w),U!=null&&T.push(Dl(u,U,F)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var LA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Nv(s){return(typeof s=="string"?s:""+s).replace(LA,`
`).replace(MA,"")}function Pc(s,o,u){if(o=Nv(o),Nv(s)!==o&&u)throw Error(n(425))}function Rc(){}var dd=null,pd=null;function md(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(s){return Dv.resolve(null).then(s).catch(jA)}:gd;function jA(s){setTimeout(function(){throw s})}function yd(s,o){var u=o,p=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){s.removeChild(y),Xi(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Xi(o)}function ts(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Vv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Kr="__reactFiber$"+ta,Vl="__reactProps$"+ta,Ei="__reactContainer$"+ta,vd="__reactEvents$"+ta,BA="__reactListeners$"+ta,UA="__reactHandles$"+ta;function Js(s){var o=s[Kr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Ei]||u[Kr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Vv(s);s!==null;){if(u=s[Kr])return u;s=Vv(s)}return o}s=u,u=s.parentNode}return null}function Ll(s){return s=s[Kr]||s[Ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function na(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Nc(s){return s[Vl]||null}var wd=[],ra=-1;function ns(s){return{current:s}}function _t(s){0>ra||(s.current=wd[ra],wd[ra]=null,ra--)}function pt(s,o){ra++,wd[ra]=s.current,s.current=o}var rs={},mn=ns(rs),Dn=ns(!1),Zs=rs;function ia(s,o){var u=s.type.contextTypes;if(!u)return rs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in u)y[w]=o[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function Vn(s){return s=s.childContextTypes,s!=null}function Dc(){_t(Dn),_t(mn)}function Lv(s,o,u){if(mn.current!==rs)throw Error(n(168));pt(mn,o),pt(Dn,u)}function Mv(s,o,u){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,be(s)||"Unknown",y));return D({},u,p)}function Vc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||rs,Zs=mn.current,pt(mn,s),pt(Dn,Dn.current),!0}function Ov(s,o,u){var p=s.stateNode;if(!p)throw Error(n(169));u?(s=Mv(s,o,Zs),p.__reactInternalMemoizedMergedChildContext=s,_t(Dn),_t(mn),pt(mn,s)):_t(Dn),pt(Dn,u)}var Ti=null,Lc=!1,_d=!1;function Fv(s){Ti===null?Ti=[s]:Ti.push(s)}function zA(s){Lc=!0,Fv(s)}function is(){if(!_d&&Ti!==null){_d=!0;var s=0,o=Ze;try{var u=Ti;for(Ze=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Ti=null,Lc=!1}catch(y){throw Ti!==null&&(Ti=Ti.slice(s+1)),hl(Fo,is),y}finally{Ze=o,_d=!1}}return null}var sa=[],oa=0,Mc=null,Oc=0,ar=[],lr=0,eo=null,Si=1,ki="";function to(s,o){sa[oa++]=Oc,sa[oa++]=Mc,Mc=s,Oc=o}function jv(s,o,u){ar[lr++]=Si,ar[lr++]=ki,ar[lr++]=eo,eo=s;var p=Si;s=ki;var y=32-Hn(p)-1;p&=~(1<<y),u+=1;var w=32-Hn(o)+y;if(30<w){var T=y-y%5;w=(p&(1<<T)-1).toString(32),p>>=T,y-=T,Si=1<<32-Hn(o)+y|u<<y|p,ki=w+s}else Si=1<<w|u<<y|p,ki=s}function xd(s){s.return!==null&&(to(s,1),jv(s,1,0))}function Ed(s){for(;s===Mc;)Mc=sa[--oa],sa[oa]=null,Oc=sa[--oa],sa[oa]=null;for(;s===eo;)eo=ar[--lr],ar[lr]=null,ki=ar[--lr],ar[lr]=null,Si=ar[--lr],ar[lr]=null}var Qn=null,Yn=null,St=!1,Tr=null;function Bv(s,o){var u=fr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Uv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Qn=s,Yn=ts(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Qn=s,Yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=eo!==null?{id:Si,overflow:ki}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=fr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Qn=s,Yn=null,!0):!1;default:return!1}}function Td(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sd(s){if(St){var o=Yn;if(o){var u=o;if(!Uv(s,o)){if(Td(s))throw Error(n(418));o=ts(u.nextSibling);var p=Qn;o&&Uv(s,o)?Bv(p,u):(s.flags=s.flags&-4097|2,St=!1,Qn=s)}}else{if(Td(s))throw Error(n(418));s.flags=s.flags&-4097|2,St=!1,Qn=s}}}function zv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qn=s}function Fc(s){if(s!==Qn)return!1;if(!St)return zv(s),St=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!md(s.type,s.memoizedProps)),o&&(o=Yn)){if(Td(s))throw $v(),Error(n(418));for(;o;)Bv(s,o),o=ts(o.nextSibling)}if(zv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Yn=ts(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Yn=null}}else Yn=Qn?ts(s.stateNode.nextSibling):null;return!0}function $v(){for(var s=Yn;s;)s=ts(s.nextSibling)}function aa(){Yn=Qn=null,St=!1}function kd(s){Tr===null?Tr=[s]:Tr.push(s)}var $A=te.ReactCurrentBatchConfig;function Ml(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,s));var y=p,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(T){var F=y.refs;T===null?delete F[w]:F[w]=T},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function jc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Hv(s){var o=s._init;return o(s._payload)}function qv(s){function o(W,$){if(s){var K=W.deletions;K===null?(W.deletions=[$],W.flags|=16):K.push($)}}function u(W,$){if(!s)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function p(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function y(W,$){return W=fs(W,$),W.index=0,W.sibling=null,W}function w(W,$,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<$?(W.flags|=2,$):K):(W.flags|=2,$)):(W.flags|=1048576,$)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function F(W,$,K,de){return $===null||$.tag!==6?($=gp(K,W.mode,de),$.return=W,$):($=y($,K),$.return=W,$)}function U(W,$,K,de){var Ce=K.type;return Ce===M?ue(W,$,K.props.children,de,K.key):$!==null&&($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Ie&&Hv(Ce)===$.type)?(de=y($,K.props),de.ref=Ml(W,$,K),de.return=W,de):(de=uh(K.type,K.key,K.props,null,W.mode,de),de.ref=Ml(W,$,K),de.return=W,de)}function Y(W,$,K,de){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=yp(K,W.mode,de),$.return=W,$):($=y($,K.children||[]),$.return=W,$)}function ue(W,$,K,de,Ce){return $===null||$.tag!==7?($=uo(K,W.mode,de,Ce),$.return=W,$):($=y($,K),$.return=W,$)}function ce(W,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=gp(""+$,W.mode,K),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Z:return K=uh($.type,$.key,$.props,null,W.mode,K),K.ref=Ml(W,null,$),K.return=W,K;case q:return $=yp($,W.mode,K),$.return=W,$;case Ie:var de=$._init;return ce(W,de($._payload),K)}if($e($)||ge($))return $=uo($,W.mode,K,null),$.return=W,$;jc(W,$)}return null}function le(W,$,K,de){var Ce=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ce!==null?null:F(W,$,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:return K.key===Ce?U(W,$,K,de):null;case q:return K.key===Ce?Y(W,$,K,de):null;case Ie:return Ce=K._init,le(W,$,Ce(K._payload),de)}if($e(K)||ge(K))return Ce!==null?null:ue(W,$,K,de,null);jc(W,K)}return null}function ye(W,$,K,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number")return W=W.get(K)||null,F($,W,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case Z:return W=W.get(de.key===null?K:de.key)||null,U($,W,de,Ce);case q:return W=W.get(de.key===null?K:de.key)||null,Y($,W,de,Ce);case Ie:var Ne=de._init;return ye(W,$,K,Ne(de._payload),Ce)}if($e(de)||ge(de))return W=W.get(K)||null,ue($,W,de,Ce,null);jc($,de)}return null}function Te(W,$,K,de){for(var Ce=null,Ne=null,De=$,je=$=0,en=null;De!==null&&je<K.length;je++){De.index>je?(en=De,De=null):en=De.sibling;var rt=le(W,De,K[je],de);if(rt===null){De===null&&(De=en);break}s&&De&&rt.alternate===null&&o(W,De),$=w(rt,$,je),Ne===null?Ce=rt:Ne.sibling=rt,Ne=rt,De=en}if(je===K.length)return u(W,De),St&&to(W,je),Ce;if(De===null){for(;je<K.length;je++)De=ce(W,K[je],de),De!==null&&($=w(De,$,je),Ne===null?Ce=De:Ne.sibling=De,Ne=De);return St&&to(W,je),Ce}for(De=p(W,De);je<K.length;je++)en=ye(De,W,je,K[je],de),en!==null&&(s&&en.alternate!==null&&De.delete(en.key===null?je:en.key),$=w(en,$,je),Ne===null?Ce=en:Ne.sibling=en,Ne=en);return s&&De.forEach(function(ds){return o(W,ds)}),St&&to(W,je),Ce}function ke(W,$,K,de){var Ce=ge(K);if(typeof Ce!="function")throw Error(n(150));if(K=Ce.call(K),K==null)throw Error(n(151));for(var Ne=Ce=null,De=$,je=$=0,en=null,rt=K.next();De!==null&&!rt.done;je++,rt=K.next()){De.index>je?(en=De,De=null):en=De.sibling;var ds=le(W,De,rt.value,de);if(ds===null){De===null&&(De=en);break}s&&De&&ds.alternate===null&&o(W,De),$=w(ds,$,je),Ne===null?Ce=ds:Ne.sibling=ds,Ne=ds,De=en}if(rt.done)return u(W,De),St&&to(W,je),Ce;if(De===null){for(;!rt.done;je++,rt=K.next())rt=ce(W,rt.value,de),rt!==null&&($=w(rt,$,je),Ne===null?Ce=rt:Ne.sibling=rt,Ne=rt);return St&&to(W,je),Ce}for(De=p(W,De);!rt.done;je++,rt=K.next())rt=ye(De,W,je,rt.value,de),rt!==null&&(s&&rt.alternate!==null&&De.delete(rt.key===null?je:rt.key),$=w(rt,$,je),Ne===null?Ce=rt:Ne.sibling=rt,Ne=rt);return s&&De.forEach(function(EC){return o(W,EC)}),St&&to(W,je),Ce}function Vt(W,$,K,de){if(typeof K=="object"&&K!==null&&K.type===M&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Z:e:{for(var Ce=K.key,Ne=$;Ne!==null;){if(Ne.key===Ce){if(Ce=K.type,Ce===M){if(Ne.tag===7){u(W,Ne.sibling),$=y(Ne,K.props.children),$.return=W,W=$;break e}}else if(Ne.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Ie&&Hv(Ce)===Ne.type){u(W,Ne.sibling),$=y(Ne,K.props),$.ref=Ml(W,Ne,K),$.return=W,W=$;break e}u(W,Ne);break}else o(W,Ne);Ne=Ne.sibling}K.type===M?($=uo(K.props.children,W.mode,de,K.key),$.return=W,W=$):(de=uh(K.type,K.key,K.props,null,W.mode,de),de.ref=Ml(W,$,K),de.return=W,W=de)}return T(W);case q:e:{for(Ne=K.key;$!==null;){if($.key===Ne)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){u(W,$.sibling),$=y($,K.children||[]),$.return=W,W=$;break e}else{u(W,$);break}else o(W,$);$=$.sibling}$=yp(K,W.mode,de),$.return=W,W=$}return T(W);case Ie:return Ne=K._init,Vt(W,$,Ne(K._payload),de)}if($e(K))return Te(W,$,K,de);if(ge(K))return ke(W,$,K,de);jc(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(u(W,$.sibling),$=y($,K),$.return=W,W=$):(u(W,$),$=gp(K,W.mode,de),$.return=W,W=$),T(W)):u(W,$)}return Vt}var la=qv(!0),Wv=qv(!1),Bc=ns(null),Uc=null,ua=null,Id=null;function Ad(){Id=ua=Uc=null}function Cd(s){var o=Bc.current;_t(Bc),s._currentValue=o}function bd(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function ca(s,o){Uc=s,Id=ua=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Ln=!0),s.firstContext=null)}function ur(s){var o=s._currentValue;if(Id!==s)if(s={context:s,memoizedValue:o,next:null},ua===null){if(Uc===null)throw Error(n(308));ua=s,Uc.dependencies={lanes:0,firstContext:s}}else ua=ua.next=s;return o}var no=null;function Pd(s){no===null?no=[s]:no.push(s)}function Gv(s,o,u,p){var y=o.interleaved;return y===null?(u.next=u,Pd(o)):(u.next=y.next,y.next=u),o.interleaved=u,Ii(s,p)}function Ii(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ss=!1;function Rd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ai(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function os(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(nt&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,Ii(s,u)}return y=p.interleaved,y===null?(o.next=o,Pd(p)):(o.next=y.next,y.next=o),p.interleaved=o,Ii(s,u)}function zc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,yl(s,u)}}function Qv(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?y=w=T:w=w.next=T,u=u.next}while(u!==null);w===null?y=w=o:w=w.next=o}else y=w=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function $c(s,o,u,p){var y=s.updateQueue;ss=!1;var w=y.firstBaseUpdate,T=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var U=F,Y=U.next;U.next=null,T===null?w=Y:T.next=Y,T=U;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,F=ue.lastBaseUpdate,F!==T&&(F===null?ue.firstBaseUpdate=Y:F.next=Y,ue.lastBaseUpdate=U))}if(w!==null){var ce=y.baseState;T=0,ue=Y=U=null,F=w;do{var le=F.lane,ye=F.eventTime;if((p&le)===le){ue!==null&&(ue=ue.next={eventTime:ye,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Te=s,ke=F;switch(le=o,ye=u,ke.tag){case 1:if(Te=ke.payload,typeof Te=="function"){ce=Te.call(ye,ce,le);break e}ce=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ke.payload,le=typeof Te=="function"?Te.call(ye,ce,le):Te,le==null)break e;ce=D({},ce,le);break e;case 2:ss=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,le=y.effects,le===null?y.effects=[F]:le.push(F))}else ye={eventTime:ye,lane:le,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ue===null?(Y=ue=ye,U=ce):ue=ue.next=ye,T|=le;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;le=F,F=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ue===null&&(U=ce),y.baseState=U,y.firstBaseUpdate=Y,y.lastBaseUpdate=ue,o=y.shared.interleaved,o!==null){y=o;do T|=y.lane,y=y.next;while(y!==o)}else w===null&&(y.shared.lanes=0);so|=T,s.lanes=T,s.memoizedState=ce}}function Yv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Ol={},Qr=ns(Ol),Fl=ns(Ol),jl=ns(Ol);function ro(s){if(s===Ol)throw Error(n(174));return s}function Nd(s,o){switch(pt(jl,o),pt(Fl,s),pt(Qr,Ol),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:oe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=oe(o,s)}_t(Qr),pt(Qr,o)}function ha(){_t(Qr),_t(Fl),_t(jl)}function Xv(s){ro(jl.current);var o=ro(Qr.current),u=oe(o,s.type);o!==u&&(pt(Fl,s),pt(Qr,u))}function Dd(s){Fl.current===s&&(_t(Qr),_t(Fl))}var It=ns(0);function Hc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vd=[];function Ld(){for(var s=0;s<Vd.length;s++)Vd[s]._workInProgressVersionPrimary=null;Vd.length=0}var qc=te.ReactCurrentDispatcher,Md=te.ReactCurrentBatchConfig,io=0,At=null,Gt=null,Jt=null,Wc=!1,Bl=!1,Ul=0,HA=0;function gn(){throw Error(n(321))}function Od(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Er(s[u],o[u]))return!1;return!0}function Fd(s,o,u,p,y,w){if(io=w,At=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qc.current=s===null||s.memoizedState===null?KA:QA,s=u(p,y),Bl){w=0;do{if(Bl=!1,Ul=0,25<=w)throw Error(n(301));w+=1,Jt=Gt=null,o.updateQueue=null,qc.current=YA,s=u(p,y)}while(Bl)}if(qc.current=Qc,o=Gt!==null&&Gt.next!==null,io=0,Jt=Gt=At=null,Wc=!1,o)throw Error(n(300));return s}function jd(){var s=Ul!==0;return Ul=0,s}function Yr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?At.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function cr(){if(Gt===null){var s=At.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var o=Jt===null?At.memoizedState:Jt.next;if(o!==null)Jt=o,Gt=s;else{if(s===null)throw Error(n(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Jt===null?At.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function zl(s,o){return typeof o=="function"?o(s):o}function Bd(s){var o=cr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=Gt,y=p.baseQueue,w=u.pending;if(w!==null){if(y!==null){var T=y.next;y.next=w.next,w.next=T}p.baseQueue=y=w,u.pending=null}if(y!==null){w=y.next,p=p.baseState;var F=T=null,U=null,Y=w;do{var ue=Y.lane;if((io&ue)===ue)U!==null&&(U=U.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var ce={lane:ue,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};U===null?(F=U=ce,T=p):U=U.next=ce,At.lanes|=ue,so|=ue}Y=Y.next}while(Y!==null&&Y!==w);U===null?T=p:U.next=F,Er(p,o.memoizedState)||(Ln=!0),o.memoizedState=p,o.baseState=T,o.baseQueue=U,u.lastRenderedState=p}if(s=u.interleaved,s!==null){y=s;do w=y.lane,At.lanes|=w,so|=w,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Ud(s){var o=cr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,w=o.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do w=s(w,T.action),T=T.next;while(T!==y);Er(w,o.memoizedState)||(Ln=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function Jv(){}function Zv(s,o){var u=At,p=cr(),y=o(),w=!Er(p.memoizedState,y);if(w&&(p.memoizedState=y,Ln=!0),p=p.queue,zd(n1.bind(null,u,p,s),[s]),p.getSnapshot!==o||w||Jt!==null&&Jt.memoizedState.tag&1){if(u.flags|=2048,$l(9,t1.bind(null,u,p,y,o),void 0,null),Zt===null)throw Error(n(349));(io&30)!==0||e1(u,o,y)}return y}function e1(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=At.updateQueue,o===null?(o={lastEffect:null,stores:null},At.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function t1(s,o,u,p){o.value=u,o.getSnapshot=p,r1(o)&&i1(s)}function n1(s,o,u){return u(function(){r1(o)&&i1(s)})}function r1(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Er(s,u)}catch{return!0}}function i1(s){var o=Ii(s,1);o!==null&&Ar(o,s,1,-1)}function s1(s){var o=Yr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:s},o.queue=s,s=s.dispatch=GA.bind(null,At,s),[o.memoizedState,s]}function $l(s,o,u,p){return s={tag:s,create:o,destroy:u,deps:p,next:null},o=At.updateQueue,o===null?(o={lastEffect:null,stores:null},At.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s)),s}function o1(){return cr().memoizedState}function Gc(s,o,u,p){var y=Yr();At.flags|=s,y.memoizedState=$l(1|o,u,void 0,p===void 0?null:p)}function Kc(s,o,u,p){var y=cr();p=p===void 0?null:p;var w=void 0;if(Gt!==null){var T=Gt.memoizedState;if(w=T.destroy,p!==null&&Od(p,T.deps)){y.memoizedState=$l(o,u,w,p);return}}At.flags|=s,y.memoizedState=$l(1|o,u,w,p)}function a1(s,o){return Gc(8390656,8,s,o)}function zd(s,o){return Kc(2048,8,s,o)}function l1(s,o){return Kc(4,2,s,o)}function u1(s,o){return Kc(4,4,s,o)}function c1(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function h1(s,o,u){return u=u!=null?u.concat([s]):null,Kc(4,4,c1.bind(null,o,s),u)}function $d(){}function f1(s,o){var u=cr();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Od(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function d1(s,o){var u=cr();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Od(o,p[1])?p[0]:(s=s(),u.memoizedState=[s,o],s)}function p1(s,o,u){return(io&21)===0?(s.baseState&&(s.baseState=!1,Ln=!0),s.memoizedState=u):(Er(u,o)||(u=ml(),At.lanes|=u,so|=u,s.baseState=!0),o)}function qA(s,o){var u=Ze;Ze=u!==0&&4>u?u:4,s(!0);var p=Md.transition;Md.transition={};try{s(!1),o()}finally{Ze=u,Md.transition=p}}function m1(){return cr().memoizedState}function WA(s,o,u){var p=cs(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},g1(s))y1(o,u);else if(u=Gv(s,o,u,p),u!==null){var y=Rn();Ar(u,s,p,y),v1(u,o,p)}}function GA(s,o,u){var p=cs(s),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(g1(s))y1(o,y);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,F=w(T,u);if(y.hasEagerState=!0,y.eagerState=F,Er(F,T)){var U=o.interleaved;U===null?(y.next=y,Pd(o)):(y.next=U.next,U.next=y),o.interleaved=y;return}}catch{}finally{}u=Gv(s,o,y,p),u!==null&&(y=Rn(),Ar(u,s,p,y),v1(u,o,p))}}function g1(s){var o=s.alternate;return s===At||o!==null&&o===At}function y1(s,o){Bl=Wc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function v1(s,o,u){if((u&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,yl(s,u)}}var Qc={readContext:ur,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},KA={readContext:ur,useCallback:function(s,o){return Yr().memoizedState=[s,o===void 0?null:o],s},useContext:ur,useEffect:a1,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Gc(4194308,4,c1.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Gc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Gc(4,2,s,o)},useMemo:function(s,o){var u=Yr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var p=Yr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=WA.bind(null,At,s),[p.memoizedState,s]},useRef:function(s){var o=Yr();return s={current:s},o.memoizedState=s},useState:s1,useDebugValue:$d,useDeferredValue:function(s){return Yr().memoizedState=s},useTransition:function(){var s=s1(!1),o=s[0];return s=qA.bind(null,s[1]),Yr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var p=At,y=Yr();if(St){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Zt===null)throw Error(n(349));(io&30)!==0||e1(p,o,u)}y.memoizedState=u;var w={value:u,getSnapshot:o};return y.queue=w,a1(n1.bind(null,p,w,s),[s]),p.flags|=2048,$l(9,t1.bind(null,p,w,u,o),void 0,null),u},useId:function(){var s=Yr(),o=Zt.identifierPrefix;if(St){var u=ki,p=Si;u=(p&~(1<<32-Hn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ul++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=HA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},QA={readContext:ur,useCallback:f1,useContext:ur,useEffect:zd,useImperativeHandle:h1,useInsertionEffect:l1,useLayoutEffect:u1,useMemo:d1,useReducer:Bd,useRef:o1,useState:function(){return Bd(zl)},useDebugValue:$d,useDeferredValue:function(s){var o=cr();return p1(o,Gt.memoizedState,s)},useTransition:function(){var s=Bd(zl)[0],o=cr().memoizedState;return[s,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:m1,unstable_isNewReconciler:!1},YA={readContext:ur,useCallback:f1,useContext:ur,useEffect:zd,useImperativeHandle:h1,useInsertionEffect:l1,useLayoutEffect:u1,useMemo:d1,useReducer:Ud,useRef:o1,useState:function(){return Ud(zl)},useDebugValue:$d,useDeferredValue:function(s){var o=cr();return Gt===null?o.memoizedState=s:p1(o,Gt.memoizedState,s)},useTransition:function(){var s=Ud(zl)[0],o=cr().memoizedState;return[s,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:m1,unstable_isNewReconciler:!1};function Sr(s,o){if(s&&s.defaultProps){o=D({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Hd(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:D({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Yc={isMounted:function(s){return(s=s._reactInternals)?_r(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=Rn(),y=cs(s),w=Ai(p,y);w.payload=o,u!=null&&(w.callback=u),o=os(s,w,y),o!==null&&(Ar(o,s,y,p),zc(o,s,y))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=Rn(),y=cs(s),w=Ai(p,y);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=os(s,w,y),o!==null&&(Ar(o,s,y,p),zc(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Rn(),p=cs(s),y=Ai(u,p);y.tag=2,o!=null&&(y.callback=o),o=os(s,y,p),o!==null&&(Ar(o,s,p,u),zc(o,s,p))}};function w1(s,o,u,p,y,w,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,T):o.prototype&&o.prototype.isPureReactComponent?!bl(u,p)||!bl(y,w):!0}function _1(s,o,u){var p=!1,y=rs,w=o.contextType;return typeof w=="object"&&w!==null?w=ur(w):(y=Vn(o)?Zs:mn.current,p=o.contextTypes,w=(p=p!=null)?ia(s,y):rs),o=new o(u,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yc,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=w),o}function x1(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&Yc.enqueueReplaceState(o,o.state,null)}function qd(s,o,u,p){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},Rd(s);var w=o.contextType;typeof w=="object"&&w!==null?y.context=ur(w):(w=Vn(o)?Zs:mn.current,y.context=ia(s,w)),y.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hd(s,o,w,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Yc.enqueueReplaceState(y,y.state,null),$c(s,u,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function fa(s,o){try{var u="",p=o;do u+=Fe(p),p=p.return;while(p);var y=u}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:y,digest:null}}function Wd(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Gd(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function E1(s,o,u){u=Ai(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){rh||(rh=!0,lp=p),Gd(s,o)},u}function T1(s,o,u){u=Ai(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;u.payload=function(){return p(y)},u.callback=function(){Gd(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Gd(s,o),typeof p!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function S1(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new XA;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(y.add(u),s=hC.bind(null,s,o,u),o.then(s,s))}function k1(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function I1(s,o,u,p,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ai(-1,1),o.tag=2,os(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var JA=te.ReactCurrentOwner,Ln=!1;function Pn(s,o,u,p){o.child=s===null?Wv(o,null,u,p):la(o,s.child,u,p)}function A1(s,o,u,p,y){u=u.render;var w=o.ref;return ca(o,y),p=Fd(s,o,u,p,w,y),u=jd(),s!==null&&!Ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,Ci(s,o,y)):(St&&u&&xd(o),o.flags|=1,Pn(s,o,p,y),o.child)}function C1(s,o,u,p,y){if(s===null){var w=u.type;return typeof w=="function"&&!mp(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,b1(s,o,w,p,y)):(s=uh(u.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&y)===0){var T=w.memoizedProps;if(u=u.compare,u=u!==null?u:bl,u(T,p)&&s.ref===o.ref)return Ci(s,o,y)}return o.flags|=1,s=fs(w,p),s.ref=o.ref,s.return=o,o.child=s}function b1(s,o,u,p,y){if(s!==null){var w=s.memoizedProps;if(bl(w,p)&&s.ref===o.ref)if(Ln=!1,o.pendingProps=p=w,(s.lanes&y)!==0)(s.flags&131072)!==0&&(Ln=!0);else return o.lanes=s.lanes,Ci(s,o,y)}return Kd(s,o,u,p,y)}function P1(s,o,u){var p=o.pendingProps,y=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(pa,Xn),Xn|=u;else{if((u&1073741824)===0)return s=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,pt(pa,Xn),Xn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,pt(pa,Xn),Xn|=p}else w!==null?(p=w.baseLanes|u,o.memoizedState=null):p=u,pt(pa,Xn),Xn|=p;return Pn(s,o,y,u),o.child}function R1(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Kd(s,o,u,p,y){var w=Vn(u)?Zs:mn.current;return w=ia(o,w),ca(o,y),u=Fd(s,o,u,p,w,y),p=jd(),s!==null&&!Ln?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,Ci(s,o,y)):(St&&p&&xd(o),o.flags|=1,Pn(s,o,u,y),o.child)}function N1(s,o,u,p,y){if(Vn(u)){var w=!0;Vc(o)}else w=!1;if(ca(o,y),o.stateNode===null)Jc(s,o),_1(o,u,p),qd(o,u,p,y),p=!0;else if(s===null){var T=o.stateNode,F=o.memoizedProps;T.props=F;var U=T.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=ur(Y):(Y=Vn(u)?Zs:mn.current,Y=ia(o,Y));var ue=u.getDerivedStateFromProps,ce=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function";ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==p||U!==Y)&&x1(o,T,p,Y),ss=!1;var le=o.memoizedState;T.state=le,$c(o,p,T,y),U=o.memoizedState,F!==p||le!==U||Dn.current||ss?(typeof ue=="function"&&(Hd(o,u,ue,p),U=o.memoizedState),(F=ss||w1(o,u,F,p,le,U,Y))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=U),T.props=p,T.state=U,T.context=Y,p=F):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{T=o.stateNode,Kv(s,o),F=o.memoizedProps,Y=o.type===o.elementType?F:Sr(o.type,F),T.props=Y,ce=o.pendingProps,le=T.context,U=u.contextType,typeof U=="object"&&U!==null?U=ur(U):(U=Vn(u)?Zs:mn.current,U=ia(o,U));var ye=u.getDerivedStateFromProps;(ue=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(F!==ce||le!==U)&&x1(o,T,p,U),ss=!1,le=o.memoizedState,T.state=le,$c(o,p,T,y);var Te=o.memoizedState;F!==ce||le!==Te||Dn.current||ss?(typeof ye=="function"&&(Hd(o,u,ye,p),Te=o.memoizedState),(Y=ss||w1(o,u,Y,p,le,Te,U)||!1)?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,Te,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,Te,U)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Te),T.props=p,T.state=Te,T.context=U,p=Y):(typeof T.componentDidUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),p=!1)}return Qd(s,o,u,p,w,y)}function Qd(s,o,u,p,y,w){R1(s,o);var T=(o.flags&128)!==0;if(!p&&!T)return y&&Ov(o,u,!1),Ci(s,o,w);p=o.stateNode,JA.current=o;var F=T&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&T?(o.child=la(o,s.child,null,w),o.child=la(o,null,F,w)):Pn(s,o,F,w),o.memoizedState=p.state,y&&Ov(o,u,!0),o.child}function D1(s){var o=s.stateNode;o.pendingContext?Lv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Lv(s,o.context,!1),Nd(s,o.containerInfo)}function V1(s,o,u,p,y){return aa(),kd(y),o.flags|=256,Pn(s,o,u,p),o.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Xd(s){return{baseLanes:s,cachePool:null,transitions:null}}function L1(s,o,u){var p=o.pendingProps,y=It.current,w=!1,T=(o.flags&128)!==0,F;if((F=T)||(F=s!==null&&s.memoizedState===null?!1:(y&2)!==0),F?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),pt(It,y&1),s===null)return Sd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=p.children,s=p.fallback,w?(p=o.mode,w=o.child,T={mode:"hidden",children:T},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=T):w=ch(T,p,0,null),s=uo(s,p,u,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Xd(u),o.memoizedState=Yd,s):Jd(o,T));if(y=s.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return ZA(s,o,T,p,F,y,u);if(w){w=p.fallback,T=o.mode,y=s.child,F=y.sibling;var U={mode:"hidden",children:p.children};return(T&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=U,o.deletions=null):(p=fs(y,U),p.subtreeFlags=y.subtreeFlags&14680064),F!==null?w=fs(F,w):(w=uo(w,T,u,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,T=s.child.memoizedState,T=T===null?Xd(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},w.memoizedState=T,w.childLanes=s.childLanes&~u,o.memoizedState=Yd,p}return w=s.child,s=w.sibling,p=fs(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=p,o.memoizedState=null,p}function Jd(s,o){return o=ch({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Xc(s,o,u,p){return p!==null&&kd(p),la(o,s.child,null,u),s=Jd(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function ZA(s,o,u,p,y,w,T){if(u)return o.flags&256?(o.flags&=-257,p=Wd(Error(n(422))),Xc(s,o,T,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=p.fallback,y=o.mode,p=ch({mode:"visible",children:p.children},y,0,null),w=uo(w,y,T,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&la(o,s.child,null,T),o.child.memoizedState=Xd(T),o.memoizedState=Yd,w);if((o.mode&1)===0)return Xc(s,o,T,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var F=p.dgst;return p=F,w=Error(n(419)),p=Wd(w,p,void 0),Xc(s,o,T,p)}if(F=(T&s.childLanes)!==0,Ln||F){if(p=Zt,p!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|T))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Ii(s,y),Ar(p,s,y,-1))}return pp(),p=Wd(Error(n(421))),Xc(s,o,T,p)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=fC.bind(null,s),y._reactRetry=o,null):(s=w.treeContext,Yn=ts(y.nextSibling),Qn=o,St=!0,Tr=null,s!==null&&(ar[lr++]=Si,ar[lr++]=ki,ar[lr++]=eo,Si=s.id,ki=s.overflow,eo=o),o=Jd(o,p.children),o.flags|=4096,o)}function M1(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),bd(s.return,o,u)}function Zd(s,o,u,p,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=y)}function O1(s,o,u){var p=o.pendingProps,y=p.revealOrder,w=p.tail;if(Pn(s,o,p.children,u),p=It.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&M1(s,u,o);else if(s.tag===19)M1(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(pt(It,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&Hc(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Zd(o,!1,y,u,w);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Hc(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Zd(o,!0,u,null,w);break;case"together":Zd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Jc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ci(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=fs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=fs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function eC(s,o,u){switch(o.tag){case 3:D1(o),aa();break;case 5:Xv(o);break;case 1:Vn(o.type)&&Vc(o);break;case 4:Nd(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;pt(Bc,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(pt(It,It.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?L1(s,o,u):(pt(It,It.current&1),s=Ci(s,o,u),s!==null?s.sibling:null);pt(It,It.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(s.flags&128)!==0){if(p)return O1(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pt(It,It.current),p)break;return null;case 22:case 23:return o.lanes=0,P1(s,o,u)}return Ci(s,o,u)}var F1,ep,j1,B1;F1=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},ep=function(){},j1=function(s,o,u,p){var y=s.memoizedProps;if(y!==p){s=o.stateNode,ro(Qr.current);var w=null;switch(u){case"input":y=ht(s,y),p=ht(s,p),w=[];break;case"select":y=D({},y,{value:void 0}),p=D({},p,{value:void 0}),w=[];break;case"textarea":y=lt(s,y),p=lt(s,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Rc)}yt(u,p);var T;u=null;for(Y in y)if(!p.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var F=y[Y];for(T in F)F.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?w||(w=[]):(w=w||[]).push(Y,null));for(Y in p){var U=p[Y];if(F=y?.[Y],p.hasOwnProperty(Y)&&U!==F&&(U!=null||F!=null))if(Y==="style")if(F){for(T in F)!F.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in U)U.hasOwnProperty(T)&&F[T]!==U[T]&&(u||(u={}),u[T]=U[T])}else u||(w||(w=[]),w.push(Y,u)),u=U;else Y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,F=F?F.__html:void 0,U!=null&&F!==U&&(w=w||[]).push(Y,U)):Y==="children"?typeof U!="string"&&typeof U!="number"||(w=w||[]).push(Y,""+U):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(U!=null&&Y==="onScroll"&&wt("scroll",s),w||F===U||(w=[])):(w=w||[]).push(Y,U))}u&&(w=w||[]).push("style",u);var Y=w;(o.updateQueue=Y)&&(o.flags|=4)}},B1=function(s,o,u,p){u!==p&&(o.flags|=4)};function Hl(s,o){if(!St)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function yn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function tC(s,o,u){var p=o.pendingProps;switch(Ed(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return Vn(o.type)&&Dc(),yn(o),null;case 3:return p=o.stateNode,ha(),_t(Dn),_t(mn),Ld(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Fc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Tr!==null&&(hp(Tr),Tr=null))),ep(s,o),yn(o),null;case 5:Dd(o);var y=ro(jl.current);if(u=o.type,s!==null&&o.stateNode!=null)j1(s,o,u,p,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return yn(o),null}if(s=ro(Qr.current),Fc(o)){p=o.stateNode,u=o.type;var w=o.memoizedProps;switch(p[Kr]=o,p[Vl]=w,s=(o.mode&1)!==0,u){case"dialog":wt("cancel",p),wt("close",p);break;case"iframe":case"object":case"embed":wt("load",p);break;case"video":case"audio":for(y=0;y<Rl.length;y++)wt(Rl[y],p);break;case"source":wt("error",p);break;case"img":case"image":case"link":wt("error",p),wt("load",p);break;case"details":wt("toggle",p);break;case"input":kt(p,w),wt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},wt("invalid",p);break;case"textarea":at(p,w),wt("invalid",p)}yt(u,w),y=null;for(var T in w)if(w.hasOwnProperty(T)){var F=w[T];T==="children"?typeof F=="string"?p.textContent!==F&&(w.suppressHydrationWarning!==!0&&Pc(p.textContent,F,s),y=["children",F]):typeof F=="number"&&p.textContent!==""+F&&(w.suppressHydrationWarning!==!0&&Pc(p.textContent,F,s),y=["children",""+F]):i.hasOwnProperty(T)&&F!=null&&T==="onScroll"&&wt("scroll",p)}switch(u){case"input":Tt(p),Ft(p,w,!0);break;case"textarea":Tt(p),dt(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Rc)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Q(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=T.createElement(u,{is:p.is}):(s=T.createElement(u),u==="select"&&(T=s,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):s=T.createElementNS(s,u),s[Kr]=o,s[Vl]=p,F1(s,o,!1,!1),o.stateNode=s;e:{switch(T=zn(u,p),u){case"dialog":wt("cancel",s),wt("close",s),y=p;break;case"iframe":case"object":case"embed":wt("load",s),y=p;break;case"video":case"audio":for(y=0;y<Rl.length;y++)wt(Rl[y],s);y=p;break;case"source":wt("error",s),y=p;break;case"img":case"image":case"link":wt("error",s),wt("load",s),y=p;break;case"details":wt("toggle",s),y=p;break;case"input":kt(s,p),y=ht(s,p),wt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=D({},p,{value:void 0}),wt("invalid",s);break;case"textarea":at(s,p),y=lt(s,p),wt("invalid",s);break;default:y=p}yt(u,y),F=y;for(w in F)if(F.hasOwnProperty(w)){var U=F[w];w==="style"?ir(s,U):w==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&qe(s,U)):w==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&Je(s,U):typeof U=="number"&&Je(s,""+U):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?U!=null&&w==="onScroll"&&wt("scroll",s):U!=null&&z(s,w,U,T))}switch(u){case"input":Tt(s),Ft(s,p,!1);break;case"textarea":Tt(s),dt(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Se(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?ft(s,!!p.multiple,w,!1):p.defaultValue!=null&&ft(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Rc)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return yn(o),null;case 6:if(s&&o.stateNode!=null)B1(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(u=ro(jl.current),ro(Qr.current),Fc(o)){if(p=o.stateNode,u=o.memoizedProps,p[Kr]=o,(w=p.nodeValue!==u)&&(s=Qn,s!==null))switch(s.tag){case 3:Pc(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pc(p.nodeValue,u,(s.mode&1)!==0)}w&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Kr]=o,o.stateNode=p}return yn(o),null;case 13:if(_t(It),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(St&&Yn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)$v(),aa(),o.flags|=98560,w=!1;else if(w=Fc(o),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Kr]=o}else aa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),w=!1}else Tr!==null&&(hp(Tr),Tr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(It.current&1)!==0?Kt===0&&(Kt=3):pp())),o.updateQueue!==null&&(o.flags|=4),yn(o),null);case 4:return ha(),ep(s,o),s===null&&Nl(o.stateNode.containerInfo),yn(o),null;case 10:return Cd(o.type._context),yn(o),null;case 17:return Vn(o.type)&&Dc(),yn(o),null;case 19:if(_t(It),w=o.memoizedState,w===null)return yn(o),null;if(p=(o.flags&128)!==0,T=w.rendering,T===null)if(p)Hl(w,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Hc(s),T!==null){for(o.flags|=128,Hl(w,!1),p=T.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)w=u,s=p,w.flags&=14680066,T=w.alternate,T===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=T.childLanes,w.lanes=T.lanes,w.child=T.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=T.memoizedProps,w.memoizedState=T.memoizedState,w.updateQueue=T.updateQueue,w.type=T.type,s=T.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return pt(It,It.current&1|2),o.child}s=s.sibling}w.tail!==null&&vt()>ma&&(o.flags|=128,p=!0,Hl(w,!1),o.lanes=4194304)}else{if(!p)if(s=Hc(T),s!==null){if(o.flags|=128,p=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Hl(w,!0),w.tail===null&&w.tailMode==="hidden"&&!T.alternate&&!St)return yn(o),null}else 2*vt()-w.renderingStartTime>ma&&u!==1073741824&&(o.flags|=128,p=!0,Hl(w,!1),o.lanes=4194304);w.isBackwards?(T.sibling=o.child,o.child=T):(u=w.last,u!==null?u.sibling=T:o.child=T,w.last=T)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=vt(),o.sibling=null,u=It.current,pt(It,p?u&1|2:u&1),o):(yn(o),null);case 22:case 23:return dp(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Xn&1073741824)!==0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function nC(s,o){switch(Ed(o),o.tag){case 1:return Vn(o.type)&&Dc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ha(),_t(Dn),_t(mn),Ld(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Dd(o),null;case 13:if(_t(It),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));aa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return _t(It),null;case 4:return ha(),null;case 10:return Cd(o.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var Zc=!1,vn=!1,rC=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function da(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Rt(s,o,p)}else u.current=null}function tp(s,o,u){try{u()}catch(p){Rt(s,o,p)}}var U1=!1;function iC(s,o){if(dd=wi,s=wv(),sd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var T=0,F=-1,U=-1,Y=0,ue=0,ce=s,le=null;t:for(;;){for(var ye;ce!==u||y!==0&&ce.nodeType!==3||(F=T+y),ce!==w||p!==0&&ce.nodeType!==3||(U=T+p),ce.nodeType===3&&(T+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)le=ce,ce=ye;for(;;){if(ce===s)break t;if(le===u&&++Y===y&&(F=T),le===w&&++ue===p&&(U=T),(ye=ce.nextSibling)!==null)break;ce=le,le=ce.parentNode}ce=ye}u=F===-1||U===-1?null:{start:F,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(pd={focusedElem:s,selectionRange:u},wi=!1,Ee=o;Ee!==null;)if(o=Ee,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ee=s;else for(;Ee!==null;){o=Ee;try{var Te=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var ke=Te.memoizedProps,Vt=Te.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?ke:Sr(o.type,ke),Vt);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Rt(o,o.return,de)}if(s=o.sibling,s!==null){s.return=o.return,Ee=s;break}Ee=o.return}return Te=U1,U1=!1,Te}function ql(s,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var w=y.destroy;y.destroy=void 0,w!==void 0&&tp(o,u,w)}y=y.next}while(y!==p)}}function eh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function np(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function z1(s){var o=s.alternate;o!==null&&(s.alternate=null,z1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Kr],delete o[Vl],delete o[vd],delete o[BA],delete o[UA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function $1(s){return s.tag===5||s.tag===3||s.tag===4}function H1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rp(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Rc));else if(p!==4&&(s=s.child,s!==null))for(rp(s,o,u),s=s.sibling;s!==null;)rp(s,o,u),s=s.sibling}function ip(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(ip(s,o,u),s=s.sibling;s!==null;)ip(s,o,u),s=s.sibling}var an=null,kr=!1;function as(s,o,u){for(u=u.child;u!==null;)q1(s,o,u),u=u.sibling}function q1(s,o,u){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount($s,u)}catch{}switch(u.tag){case 5:vn||da(u,o);case 6:var p=an,y=kr;an=null,as(s,o,u),an=p,kr=y,an!==null&&(kr?(s=an,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):an.removeChild(u.stateNode));break;case 18:an!==null&&(kr?(s=an,u=u.stateNode,s.nodeType===8?yd(s.parentNode,u):s.nodeType===1&&yd(s,u),Xi(s)):yd(an,u.stateNode));break;case 4:p=an,y=kr,an=u.stateNode.containerInfo,kr=!0,as(s,o,u),an=p,kr=y;break;case 0:case 11:case 14:case 15:if(!vn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,T=w.destroy;w=w.tag,T!==void 0&&((w&2)!==0||(w&4)!==0)&&tp(u,o,T),y=y.next}while(y!==p)}as(s,o,u);break;case 1:if(!vn&&(da(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(F){Rt(u,o,F)}as(s,o,u);break;case 21:as(s,o,u);break;case 22:u.mode&1?(vn=(p=vn)||u.memoizedState!==null,as(s,o,u),vn=p):as(s,o,u);break;default:as(s,o,u)}}function W1(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new rC),o.forEach(function(p){var y=dC.bind(null,s,p);u.has(p)||(u.add(p),p.then(y,y))})}}function Ir(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var w=s,T=o,F=T;e:for(;F!==null;){switch(F.tag){case 5:an=F.stateNode,kr=!1;break e;case 3:an=F.stateNode.containerInfo,kr=!0;break e;case 4:an=F.stateNode.containerInfo,kr=!0;break e}F=F.return}if(an===null)throw Error(n(160));q1(w,T,y),an=null,kr=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(Y){Rt(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)G1(o,s),o=o.sibling}function G1(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ir(o,s),Xr(s),p&4){try{ql(3,s,s.return),eh(3,s)}catch(ke){Rt(s,s.return,ke)}try{ql(5,s,s.return)}catch(ke){Rt(s,s.return,ke)}}break;case 1:Ir(o,s),Xr(s),p&512&&u!==null&&da(u,u.return);break;case 5:if(Ir(o,s),Xr(s),p&512&&u!==null&&da(u,u.return),s.flags&32){var y=s.stateNode;try{Je(y,"")}catch(ke){Rt(s,s.return,ke)}}if(p&4&&(y=s.stateNode,y!=null)){var w=s.memoizedProps,T=u!==null?u.memoizedProps:w,F=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{F==="input"&&w.type==="radio"&&w.name!=null&&Ot(y,w),zn(F,T);var Y=zn(F,w);for(T=0;T<U.length;T+=2){var ue=U[T],ce=U[T+1];ue==="style"?ir(y,ce):ue==="dangerouslySetInnerHTML"?qe(y,ce):ue==="children"?Je(y,ce):z(y,ue,ce,Y)}switch(F){case"input":dn(y,w);break;case"textarea":bn(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var ye=w.value;ye!=null?ft(y,!!w.multiple,ye,!1):le!==!!w.multiple&&(w.defaultValue!=null?ft(y,!!w.multiple,w.defaultValue,!0):ft(y,!!w.multiple,w.multiple?[]:"",!1))}y[Vl]=w}catch(ke){Rt(s,s.return,ke)}}break;case 6:if(Ir(o,s),Xr(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,w=s.memoizedProps;try{y.nodeValue=w}catch(ke){Rt(s,s.return,ke)}}break;case 3:if(Ir(o,s),Xr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Xi(o.containerInfo)}catch(ke){Rt(s,s.return,ke)}break;case 4:Ir(o,s),Xr(s);break;case 13:Ir(o,s),Xr(s),y=s.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(ap=vt())),p&4&&W1(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(vn=(Y=vn)||ue,Ir(o,s),vn=Y):Ir(o,s),Xr(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ue&&(s.mode&1)!==0)for(Ee=s,ue=s.child;ue!==null;){for(ce=Ee=ue;Ee!==null;){switch(le=Ee,ye=le.child,le.tag){case 0:case 11:case 14:case 15:ql(4,le,le.return);break;case 1:da(le,le.return);var Te=le.stateNode;if(typeof Te.componentWillUnmount=="function"){p=le,u=le.return;try{o=p,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(ke){Rt(p,u,ke)}}break;case 5:da(le,le.return);break;case 22:if(le.memoizedState!==null){Y1(ce);continue}}ye!==null?(ye.return=le,Ee=ye):Y1(ce)}ue=ue.sibling}e:for(ue=null,ce=s;;){if(ce.tag===5){if(ue===null){ue=ce;try{y=ce.stateNode,Y?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(F=ce.stateNode,U=ce.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,F.style.display=Yt("display",T))}catch(ke){Rt(s,s.return,ke)}}}else if(ce.tag===6){if(ue===null)try{ce.stateNode.nodeValue=Y?"":ce.memoizedProps}catch(ke){Rt(s,s.return,ke)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ue===ce&&(ue=null),ce=ce.return}ue===ce&&(ue=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Ir(o,s),Xr(s),p&4&&W1(s);break;case 21:break;default:Ir(o,s),Xr(s)}}function Xr(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if($1(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Je(y,""),p.flags&=-33);var w=H1(s);ip(s,w,y);break;case 3:case 4:var T=p.stateNode.containerInfo,F=H1(s);rp(s,F,T);break;default:throw Error(n(161))}}catch(U){Rt(s,s.return,U)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function sC(s,o,u){Ee=s,K1(s)}function K1(s,o,u){for(var p=(s.mode&1)!==0;Ee!==null;){var y=Ee,w=y.child;if(y.tag===22&&p){var T=y.memoizedState!==null||Zc;if(!T){var F=y.alternate,U=F!==null&&F.memoizedState!==null||vn;F=Zc;var Y=vn;if(Zc=T,(vn=U)&&!Y)for(Ee=y;Ee!==null;)T=Ee,U=T.child,T.tag===22&&T.memoizedState!==null?X1(y):U!==null?(U.return=T,Ee=U):X1(y);for(;w!==null;)Ee=w,K1(w),w=w.sibling;Ee=y,Zc=F,vn=Y}Q1(s)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,Ee=w):Q1(s)}}function Q1(s){for(;Ee!==null;){var o=Ee;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:vn||eh(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!vn)if(u===null)p.componentDidMount();else{var y=o.elementType===o.type?u.memoizedProps:Sr(o.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Yv(o,w,p);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Yv(o,T,u)}break;case 5:var F=o.stateNode;if(u===null&&o.flags&4){u=F;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ue=Y.memoizedState;if(ue!==null){var ce=ue.dehydrated;ce!==null&&Xi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vn||o.flags&512&&np(o)}catch(le){Rt(o,o.return,le)}}if(o===s){Ee=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ee=u;break}Ee=o.return}}function Y1(s){for(;Ee!==null;){var o=Ee;if(o===s){Ee=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ee=u;break}Ee=o.return}}function X1(s){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{eh(4,o)}catch(U){Rt(o,u,U)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(U){Rt(o,y,U)}}var w=o.return;try{np(o)}catch(U){Rt(o,w,U)}break;case 5:var T=o.return;try{np(o)}catch(U){Rt(o,T,U)}}}catch(U){Rt(o,o.return,U)}if(o===s){Ee=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Ee=F;break}Ee=o.return}}var oC=Math.ceil,th=te.ReactCurrentDispatcher,sp=te.ReactCurrentOwner,hr=te.ReactCurrentBatchConfig,nt=0,Zt=null,Ut=null,ln=0,Xn=0,pa=ns(0),Kt=0,Wl=null,so=0,nh=0,op=0,Gl=null,Mn=null,ap=0,ma=1/0,bi=null,rh=!1,lp=null,ls=null,ih=!1,us=null,sh=0,Kl=0,up=null,oh=-1,ah=0;function Rn(){return(nt&6)!==0?vt():oh!==-1?oh:oh=vt()}function cs(s){return(s.mode&1)===0?1:(nt&2)!==0&&ln!==0?ln&-ln:$A.transition!==null?(ah===0&&(ah=ml()),ah):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:Ho(s.type)),s)}function Ar(s,o,u,p){if(50<Kl)throw Kl=0,up=null,Error(n(185));Gs(s,u,p),((nt&2)===0||s!==Zt)&&(s===Zt&&((nt&2)===0&&(nh|=u),Kt===4&&hs(s,ln)),On(s,p),u===1&&nt===0&&(o.mode&1)===0&&(ma=vt()+500,Lc&&is()))}function On(s,o){var u=s.callbackNode;Ws(s,o);var p=gi(s,s===Zt?ln:0);if(p===0)u!==null&&Oo(u),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(u!=null&&Oo(u),o===1)s.tag===0?zA(Z1.bind(null,s)):Fv(Z1.bind(null,s)),FA(function(){(nt&6)===0&&is()}),u=null;else{switch(Fr(p)){case 1:u=Fo;break;case 4:u=fl;break;case 16:u=zs;break;case 536870912:u=jo;break;default:u=zs}u=aw(u,J1.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function J1(s,o){if(oh=-1,ah=0,(nt&6)!==0)throw Error(n(327));var u=s.callbackNode;if(ga()&&s.callbackNode!==u)return null;var p=gi(s,s===Zt?ln:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=lh(s,p);else{o=p;var y=nt;nt|=2;var w=tw();(Zt!==s||ln!==o)&&(bi=null,ma=vt()+500,ao(s,o));do try{uC();break}catch(F){ew(s,F)}while(!0);Ad(),th.current=w,nt=y,Ut!==null?o=0:(Zt=null,ln=0,o=Kt)}if(o!==0){if(o===2&&(y=pl(s),y!==0&&(p=y,o=cp(s,y))),o===1)throw u=Wl,ao(s,0),hs(s,p),On(s,vt()),u;if(o===6)hs(s,p);else{if(y=s.current.alternate,(p&30)===0&&!aC(y)&&(o=lh(s,p),o===2&&(w=pl(s),w!==0&&(p=w,o=cp(s,w))),o===1))throw u=Wl,ao(s,0),hs(s,p),On(s,vt()),u;switch(s.finishedWork=y,s.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:lo(s,Mn,bi);break;case 3:if(hs(s,p),(p&130023424)===p&&(o=ap+500-vt(),10<o)){if(gi(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){Rn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=gd(lo.bind(null,s,Mn,bi),o);break}lo(s,Mn,bi);break;case 4:if(hs(s,p),(p&4194240)===p)break;for(o=s.eventTimes,y=-1;0<p;){var T=31-Hn(p);w=1<<T,T=o[T],T>y&&(y=T),p&=~w}if(p=y,p=vt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*oC(p/1960))-p,10<p){s.timeoutHandle=gd(lo.bind(null,s,Mn,bi),p);break}lo(s,Mn,bi);break;case 5:lo(s,Mn,bi);break;default:throw Error(n(329))}}}return On(s,vt()),s.callbackNode===u?J1.bind(null,s):null}function cp(s,o){var u=Gl;return s.current.memoizedState.isDehydrated&&(ao(s,o).flags|=256),s=lh(s,o),s!==2&&(o=Mn,Mn=u,o!==null&&hp(o)),s}function hp(s){Mn===null?Mn=s:Mn.push.apply(Mn,s)}function aC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],w=y.getSnapshot;y=y.value;try{if(!Er(w(),y))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hs(s,o){for(o&=~op,o&=~nh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-Hn(o),p=1<<u;s[u]=-1,o&=~p}}function Z1(s){if((nt&6)!==0)throw Error(n(327));ga();var o=gi(s,0);if((o&1)===0)return On(s,vt()),null;var u=lh(s,o);if(s.tag!==0&&u===2){var p=pl(s);p!==0&&(o=p,u=cp(s,p))}if(u===1)throw u=Wl,ao(s,0),hs(s,o),On(s,vt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,lo(s,Mn,bi),On(s,vt()),null}function fp(s,o){var u=nt;nt|=1;try{return s(o)}finally{nt=u,nt===0&&(ma=vt()+500,Lc&&is())}}function oo(s){us!==null&&us.tag===0&&(nt&6)===0&&ga();var o=nt;nt|=1;var u=hr.transition,p=Ze;try{if(hr.transition=null,Ze=1,s)return s()}finally{Ze=p,hr.transition=u,nt=o,(nt&6)===0&&is()}}function dp(){Xn=pa.current,_t(pa)}function ao(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,OA(u)),Ut!==null)for(u=Ut.return;u!==null;){var p=u;switch(Ed(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Dc();break;case 3:ha(),_t(Dn),_t(mn),Ld();break;case 5:Dd(p);break;case 4:ha();break;case 13:_t(It);break;case 19:_t(It);break;case 10:Cd(p.type._context);break;case 22:case 23:dp()}u=u.return}if(Zt=s,Ut=s=fs(s.current,null),ln=Xn=o,Kt=0,Wl=null,op=nh=so=0,Mn=Gl=null,no!==null){for(o=0;o<no.length;o++)if(u=no[o],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,w=u.pending;if(w!==null){var T=w.next;w.next=y,p.next=T}u.pending=p}no=null}return s}function ew(s,o){do{var u=Ut;try{if(Ad(),qc.current=Qc,Wc){for(var p=At.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Wc=!1}if(io=0,Jt=Gt=At=null,Bl=!1,Ul=0,sp.current=null,u===null||u.return===null){Kt=1,Wl=o,Ut=null;break}e:{var w=s,T=u.return,F=u,U=o;if(o=ln,F.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Y=U,ue=F,ce=ue.tag;if((ue.mode&1)===0&&(ce===0||ce===11||ce===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var ye=k1(T);if(ye!==null){ye.flags&=-257,I1(ye,T,F,w,o),ye.mode&1&&S1(w,Y,o),o=ye,U=Y;var Te=o.updateQueue;if(Te===null){var ke=new Set;ke.add(U),o.updateQueue=ke}else Te.add(U);break e}else{if((o&1)===0){S1(w,Y,o),pp();break e}U=Error(n(426))}}else if(St&&F.mode&1){var Vt=k1(T);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),I1(Vt,T,F,w,o),kd(fa(U,F));break e}}w=U=fa(U,F),Kt!==4&&(Kt=2),Gl===null?Gl=[w]:Gl.push(w),w=T;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var W=E1(w,U,o);Qv(w,W);break e;case 1:F=U;var $=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ls===null||!ls.has(K)))){w.flags|=65536,o&=-o,w.lanes|=o;var de=T1(w,F,o);Qv(w,de);break e}}w=w.return}while(w!==null)}rw(u)}catch(Ce){o=Ce,Ut===u&&u!==null&&(Ut=u=u.return);continue}break}while(!0)}function tw(){var s=th.current;return th.current=Qc,s===null?Qc:s}function pp(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),Zt===null||(so&268435455)===0&&(nh&268435455)===0||hs(Zt,ln)}function lh(s,o){var u=nt;nt|=2;var p=tw();(Zt!==s||ln!==o)&&(bi=null,ao(s,o));do try{lC();break}catch(y){ew(s,y)}while(!0);if(Ad(),nt=u,th.current=p,Ut!==null)throw Error(n(261));return Zt=null,ln=0,Kt}function lC(){for(;Ut!==null;)nw(Ut)}function uC(){for(;Ut!==null&&!Us();)nw(Ut)}function nw(s){var o=ow(s.alternate,s,Xn);s.memoizedProps=s.pendingProps,o===null?rw(s):Ut=o,sp.current=null}function rw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=tC(u,o,Xn),u!==null){Ut=u;return}}else{if(u=nC(u,o),u!==null){u.flags&=32767,Ut=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,Ut=null;return}}if(o=o.sibling,o!==null){Ut=o;return}Ut=o=s}while(o!==null);Kt===0&&(Kt=5)}function lo(s,o,u){var p=Ze,y=hr.transition;try{hr.transition=null,Ze=1,cC(s,o,u,p)}finally{hr.transition=y,Ze=p}return null}function cC(s,o,u,p){do ga();while(us!==null);if((nt&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=u.lanes|u.childLanes;if(ed(s,w),s===Zt&&(Ut=Zt=null,ln=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ih||(ih=!0,aw(zs,function(){return ga(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=hr.transition,hr.transition=null;var T=Ze;Ze=1;var F=nt;nt|=4,sp.current=null,iC(s,u),G1(u,s),PA(pd),wi=!!dd,pd=dd=null,s.current=u,sC(u),mi(),nt=F,Ze=T,hr.transition=w}else s.current=u;if(ih&&(ih=!1,us=s,sh=y),w=s.pendingLanes,w===0&&(ls=null),mc(u.stateNode),On(s,vt()),o!==null)for(p=s.onRecoverableError,u=0;u<o.length;u++)y=o[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(rh)throw rh=!1,s=lp,lp=null,s;return(sh&1)!==0&&s.tag!==0&&ga(),w=s.pendingLanes,(w&1)!==0?s===up?Kl++:(Kl=0,up=s):Kl=0,is(),null}function ga(){if(us!==null){var s=Fr(sh),o=hr.transition,u=Ze;try{if(hr.transition=null,Ze=16>s?16:s,us===null)var p=!1;else{if(s=us,us=null,sh=0,(nt&6)!==0)throw Error(n(331));var y=nt;for(nt|=4,Ee=s.current;Ee!==null;){var w=Ee,T=w.child;if((Ee.flags&16)!==0){var F=w.deletions;if(F!==null){for(var U=0;U<F.length;U++){var Y=F[U];for(Ee=Y;Ee!==null;){var ue=Ee;switch(ue.tag){case 0:case 11:case 15:ql(8,ue,w)}var ce=ue.child;if(ce!==null)ce.return=ue,Ee=ce;else for(;Ee!==null;){ue=Ee;var le=ue.sibling,ye=ue.return;if(z1(ue),ue===Y){Ee=null;break}if(le!==null){le.return=ye,Ee=le;break}Ee=ye}}}var Te=w.alternate;if(Te!==null){var ke=Te.child;if(ke!==null){Te.child=null;do{var Vt=ke.sibling;ke.sibling=null,ke=Vt}while(ke!==null)}}Ee=w}}if((w.subtreeFlags&2064)!==0&&T!==null)T.return=w,Ee=T;else e:for(;Ee!==null;){if(w=Ee,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ql(9,w,w.return)}var W=w.sibling;if(W!==null){W.return=w.return,Ee=W;break e}Ee=w.return}}var $=s.current;for(Ee=$;Ee!==null;){T=Ee;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,Ee=K;else e:for(T=$;Ee!==null;){if(F=Ee,(F.flags&2048)!==0)try{switch(F.tag){case 0:case 11:case 15:eh(9,F)}}catch(Ce){Rt(F,F.return,Ce)}if(F===T){Ee=null;break e}var de=F.sibling;if(de!==null){de.return=F.return,Ee=de;break e}Ee=F.return}}if(nt=y,is(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot($s,s)}catch{}p=!0}return p}finally{Ze=u,hr.transition=o}}return!1}function iw(s,o,u){o=fa(u,o),o=E1(s,o,1),s=os(s,o,1),o=Rn(),s!==null&&(Gs(s,1,o),On(s,o))}function Rt(s,o,u){if(s.tag===3)iw(s,s,u);else for(;o!==null;){if(o.tag===3){iw(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ls===null||!ls.has(p))){s=fa(u,s),s=T1(o,s,1),o=os(o,s,1),s=Rn(),o!==null&&(Gs(o,1,s),On(o,s));break}}o=o.return}}function hC(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),o=Rn(),s.pingedLanes|=s.suspendedLanes&u,Zt===s&&(ln&u)===u&&(Kt===4||Kt===3&&(ln&130023424)===ln&&500>vt()-ap?ao(s,0):op|=u),On(s,o)}function sw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ki,Ki<<=1,(Ki&130023424)===0&&(Ki=4194304)));var u=Rn();s=Ii(s,o),s!==null&&(Gs(s,o,u),On(s,u))}function fC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),sw(s,u)}function dC(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),sw(s,u)}var ow;ow=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Dn.current)Ln=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Ln=!1,eC(s,o,u);Ln=(s.flags&131072)!==0}else Ln=!1,St&&(o.flags&1048576)!==0&&jv(o,Oc,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Jc(s,o),s=o.pendingProps;var y=ia(o,mn.current);ca(o,u),y=Fd(null,o,p,s,y,u);var w=jd();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vn(p)?(w=!0,Vc(o)):w=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Rd(o),y.updater=Yc,o.stateNode=y,y._reactInternals=o,qd(o,p,s,u),o=Qd(null,o,p,!0,w,u)):(o.tag=0,St&&w&&xd(o),Pn(null,o,y,u),o=o.child),o;case 16:p=o.elementType;e:{switch(Jc(s,o),s=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=mC(p),s=Sr(p,s),y){case 0:o=Kd(null,o,p,s,u);break e;case 1:o=N1(null,o,p,s,u);break e;case 11:o=A1(null,o,p,s,u);break e;case 14:o=C1(null,o,p,Sr(p.type,s),u);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Sr(p,y),Kd(s,o,p,y,u);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Sr(p,y),N1(s,o,p,y,u);case 3:e:{if(D1(o),s===null)throw Error(n(387));p=o.pendingProps,w=o.memoizedState,y=w.element,Kv(s,o),$c(o,p,null,u);var T=o.memoizedState;if(p=T.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){y=fa(Error(n(423)),o),o=V1(s,o,p,u,y);break e}else if(p!==y){y=fa(Error(n(424)),o),o=V1(s,o,p,u,y);break e}else for(Yn=ts(o.stateNode.containerInfo.firstChild),Qn=o,St=!0,Tr=null,u=Wv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(aa(),p===y){o=Ci(s,o,u);break e}Pn(s,o,p,u)}o=o.child}return o;case 5:return Xv(o),s===null&&Sd(o),p=o.type,y=o.pendingProps,w=s!==null?s.memoizedProps:null,T=y.children,md(p,y)?T=null:w!==null&&md(p,w)&&(o.flags|=32),R1(s,o),Pn(s,o,T,u),o.child;case 6:return s===null&&Sd(o),null;case 13:return L1(s,o,u);case 4:return Nd(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=la(o,null,p,u):Pn(s,o,p,u),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Sr(p,y),A1(s,o,p,y,u);case 7:return Pn(s,o,o.pendingProps,u),o.child;case 8:return Pn(s,o,o.pendingProps.children,u),o.child;case 12:return Pn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,w=o.memoizedProps,T=y.value,pt(Bc,p._currentValue),p._currentValue=T,w!==null)if(Er(w.value,T)){if(w.children===y.children&&!Dn.current){o=Ci(s,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var F=w.dependencies;if(F!==null){T=w.child;for(var U=F.firstContext;U!==null;){if(U.context===p){if(w.tag===1){U=Ai(-1,u&-u),U.tag=2;var Y=w.updateQueue;if(Y!==null){Y=Y.shared;var ue=Y.pending;ue===null?U.next=U:(U.next=ue.next,ue.next=U),Y.pending=U}}w.lanes|=u,U=w.alternate,U!==null&&(U.lanes|=u),bd(w.return,u,o),F.lanes|=u;break}U=U.next}}else if(w.tag===10)T=w.type===o.type?null:w.child;else if(w.tag===18){if(T=w.return,T===null)throw Error(n(341));T.lanes|=u,F=T.alternate,F!==null&&(F.lanes|=u),bd(T,u,o),T=w.sibling}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===o){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}Pn(s,o,y.children,u),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,ca(o,u),y=ur(y),p=p(y),o.flags|=1,Pn(s,o,p,u),o.child;case 14:return p=o.type,y=Sr(p,o.pendingProps),y=Sr(p.type,y),C1(s,o,p,y,u);case 15:return b1(s,o,o.type,o.pendingProps,u);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Sr(p,y),Jc(s,o),o.tag=1,Vn(p)?(s=!0,Vc(o)):s=!1,ca(o,u),_1(o,p,y),qd(o,p,y,u),Qd(null,o,p,!0,s,u);case 19:return O1(s,o,u);case 22:return P1(s,o,u)}throw Error(n(156,o.tag))};function aw(s,o){return hl(s,o)}function pC(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(s,o,u,p){return new pC(s,o,u,p)}function mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function mC(s){if(typeof s=="function")return mp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===j)return 11;if(s===ee)return 14}return 2}function fs(s,o){var u=s.alternate;return u===null?(u=fr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function uh(s,o,u,p,y,w){var T=2;if(p=s,typeof s=="function")mp(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case M:return uo(u.children,y,w,o);case A:T=8,y|=8;break;case V:return s=fr(12,u,o,y|2),s.elementType=V,s.lanes=w,s;case C:return s=fr(13,u,o,y),s.elementType=C,s.lanes=w,s;case J:return s=fr(19,u,o,y),s.elementType=J,s.lanes=w,s;case we:return ch(u,y,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:T=10;break e;case L:T=9;break e;case j:T=11;break e;case ee:T=14;break e;case Ie:T=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=fr(T,u,o,y),o.elementType=s,o.type=p,o.lanes=w,o}function uo(s,o,u,p){return s=fr(7,s,p,o),s.lanes=u,s}function ch(s,o,u,p){return s=fr(22,s,p,o),s.elementType=we,s.lanes=u,s.stateNode={isHidden:!1},s}function gp(s,o,u){return s=fr(6,s,null,o),s.lanes=u,s}function yp(s,o,u){return o=fr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function gC(s,o,u,p,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function vp(s,o,u,p,y,w,T,F,U){return s=new gC(s,o,u,F,U),o===1?(o=1,w===!0&&(o|=8)):o=0,w=fr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(w),s}function yC(s,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:s,containerInfo:o,implementation:u}}function lw(s){if(!s)return rs;s=s._reactInternals;e:{if(_r(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Vn(u))return Mv(s,u,o)}return o}function uw(s,o,u,p,y,w,T,F,U){return s=vp(u,p,!0,s,y,w,T,F,U),s.context=lw(null),u=s.current,p=Rn(),y=cs(u),w=Ai(p,y),w.callback=o??null,os(u,w,y),s.current.lanes=y,Gs(s,y,p),On(s,p),s}function hh(s,o,u,p){var y=o.current,w=Rn(),T=cs(y);return u=lw(u),o.context===null?o.context=u:o.pendingContext=u,o=Ai(w,T),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=os(y,o,T),s!==null&&(Ar(s,y,T,w),zc(s,y,T)),T}function fh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function cw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function wp(s,o){cw(s,o),(s=s.alternate)&&cw(s,o)}function vC(){return null}var hw=typeof reportError=="function"?reportError:function(s){console.error(s)};function _p(s){this._internalRoot=s}dh.prototype.render=_p.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));hh(s,o,null,null)},dh.prototype.unmount=_p.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){hh(null,s,null,null)}),o[Ei]=null}};function dh(s){this._internalRoot=s}dh.prototype.unstable_scheduleHydration=function(s){if(s){var o=_l();s={blockedOn:null,target:s,priority:o};for(var u=0;u<qn.length&&o!==0&&o<qn[u].priority;u++);qn.splice(u,0,s),u===0&&zo(s)}};function xp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ph(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function fw(){}function wC(s,o,u,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Y=fh(T);w.call(Y)}}var T=uw(o,p,s,0,null,!1,!1,"",fw);return s._reactRootContainer=T,s[Ei]=T.current,Nl(s.nodeType===8?s.parentNode:s),oo(),T}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var F=p;p=function(){var Y=fh(U);F.call(Y)}}var U=vp(s,0,!1,null,null,!1,!1,"",fw);return s._reactRootContainer=U,s[Ei]=U.current,Nl(s.nodeType===8?s.parentNode:s),oo(function(){hh(o,U,u,p)}),U}function mh(s,o,u,p,y){var w=u._reactRootContainer;if(w){var T=w;if(typeof y=="function"){var F=y;y=function(){var U=fh(T);F.call(U)}}hh(o,T,s,y)}else T=wC(u,o,s,y,p);return fh(T)}vl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=it(o.pendingLanes);u!==0&&(yl(o,u|1),On(o,vt()),(nt&6)===0&&(ma=vt()+500,is()))}break;case 13:oo(function(){var p=Ii(s,1);if(p!==null){var y=Rn();Ar(p,s,1,y)}}),wp(s,1)}},Bo=function(s){if(s.tag===13){var o=Ii(s,134217728);if(o!==null){var u=Rn();Ar(o,s,134217728,u)}wp(s,134217728)}},wl=function(s){if(s.tag===13){var o=cs(s),u=Ii(s,o);if(u!==null){var p=Rn();Ar(u,s,o,p)}wp(s,o)}},_l=function(){return Ze},xl=function(s,o){var u=Ze;try{return Ze=s,o()}finally{Ze=u}},fi=function(s,o,u){switch(o){case"input":if(dn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var y=Nc(p);if(!y)throw Error(n(90));Cn(p),dn(p,y)}}}break;case"textarea":bn(s,u);break;case"select":o=u.value,o!=null&&ft(s,!!u.multiple,o,!1)}},oc=fp,ac=oo;var _C={usingClientEntryPoint:!1,Events:[Ll,na,Nc,Hi,qi,fp]},Ql={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xC={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=pc(s),s===null?null:s.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||vC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{$s=gh.inject(xC),$n=gh}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C,Fn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(o))throw Error(n(200));return yC(s,o,null,u)},Fn.createRoot=function(s,o){if(!xp(s))throw Error(n(299));var u=!1,p="",y=hw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=vp(s,1,!1,null,null,u,!1,p,y),s[Ei]=o.current,Nl(s.nodeType===8?s.parentNode:s),new _p(o)},Fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=pc(o),s=s===null?null:s.stateNode,s},Fn.flushSync=function(s){return oo(s)},Fn.hydrate=function(s,o,u){if(!ph(o))throw Error(n(200));return mh(null,s,o,!0,u)},Fn.hydrateRoot=function(s,o,u){if(!xp(s))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,y=!1,w="",T=hw;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=uw(o,null,s,1,u??null,y,!1,w,T),s[Ei]=o.current,Nl(s),p)for(s=0;s<p.length;s++)u=p[s],y=u._getVersion,y=y(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,y]:o.mutableSourceEagerHydrationData.push(u,y);return new dh(o)},Fn.render=function(s,o,u){if(!ph(o))throw Error(n(200));return mh(null,s,o,!1,u)},Fn.unmountComponentAtNode=function(s){if(!ph(s))throw Error(n(40));return s._reactRootContainer?(oo(function(){mh(null,null,s,!1,function(){s._reactRootContainer=null,s[Ei]=null})}),!0):!1},Fn.unstable_batchedUpdates=fp,Fn.unstable_renderSubtreeIntoContainer=function(s,o,u,p){if(!ph(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return mh(s,o,u,!1,p)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var _w;function aE(){if(_w)return Sp.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sp.exports=CC(),Sp.exports}var xw;function bC(){if(xw)return yh;xw=1;var t=aE();return yh.createRoot=t.createRoot,yh.hydrateRoot=t.hydrateRoot,yh}var PC=bC(),he=pg();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ew=t=>{const e=NC(t);return e.charAt(0).toUpperCase()+e.slice(1)},lE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=he.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},h)=>he.createElement("svg",{ref:h,...DC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lE("lucide",i),...c},[...l.map(([f,m])=>he.createElement(f,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(t,e)=>{const n=he.forwardRef(({className:r,...i},a)=>he.createElement(VC,{ref:a,iconNode:e,className:lE(`lucide-${RC(Ew(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Ew(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ma=rn("arrow-left",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uE=rn("arrow-right",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gm=rn("check",OC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Tw=rn("clock",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],BC=rn("eye-off",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zC=rn("eye",UC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],HC=rn("history",$C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],WC=rn("hospital",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sw=rn("loader-circle",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],QC=rn("log-out",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],XC=rn("mail",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ap=rn("message-circle",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],eb=rn("pill",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],nb=rn("save",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ib=rn("shield",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ob=rn("trash-2",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lb=rn("user",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],cb=rn("utensils",ub),kw="/assets/website_main-DOW2vawO.jpg",Oa="/assets/logo-DiY3FfgK.png",hb=()=>{};var Iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;h||(x=64,l||(v=64)),r.push(n[m],n[g],n[v],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new db;const v=a<<2|c>>4;if(r.push(v),f!==64){const x=c<<4&240|f>>2;if(r.push(x),g!==64){const k=f<<6&192|g;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pb=function(t){const e=cE(t);return hE.encodeByteArray(e,!0)},Wh=function(t){return pb(t).replace(/\./g,"")},fE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=()=>mb().__FIREBASE_DEFAULTS__,yb=()=>{if(typeof process>"u"||typeof Iw>"u")return;const t=Iw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fE(t[1]);return e&&JSON.parse(e)},Sf=()=>{try{return hb()||gb()||yb()||vb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dE=t=>Sf()?.emulatorHosts?.[t],wb=t=>{const e=dE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pE=()=>Sf()?.config,mE=t=>Sf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wh(JSON.stringify(n)),Wh(JSON.stringify(l)),""].join(".")}const cu={};function Eb(){const t={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function Tb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Aw=!1;function yE(t,e){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||cu[t]===e||cu[t]||Aw)return;cu[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=Eb().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Aw=!0,l()},v}function m(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=Tb(r),x=n("text"),k=document.getElementById(x)||document.createElement("span"),R=n("learnmore"),b=document.getElementById(R)||document.createElement("a"),N=n("preprendIcon"),B=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;c(z),m(b,R);const te=f();h(B,N),z.append(B,k,b,te),document.body.appendChild(z)}a?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function kb(){const t=Sf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ab(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bb(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pb(){return!kb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rb(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Db,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?Vb(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ui(i,c,r)}}function Vb(t,e){return t.replace(Lb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Lb=/\{\$([^}]+)}/g;function Mb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Cw(a)&&Cw(l)){if(!xo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ob(t,e){const n=new Fb(t,e);return n.subscribe.bind(n)}class Fb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Cp),i.error===void 0&&(i.error=Cp),i.complete===void 0&&(i.complete=Cp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zb(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ub(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ub(t){return t===fo?void 0:t}function zb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const Hb={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},qb=Qe.INFO,Wb={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},Gb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Wb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=qb,this._logHandler=Gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const Kb=(t,e)=>e.some(n=>t instanceof n);let bw,Pw;function Qb(){return bw||(bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,ym=new WeakMap,wE=new WeakMap,bp=new WeakMap,gg=new WeakMap;function Xb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ts(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,t)}).catch(()=>{}),gg.set(e,t),e}function Jb(t){if(ym.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});ym.set(t,e)}let vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zb(t){vm=t(vm)}function eP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pp(this),e,...n);return wE.set(r,e.sort?e.sort():[e]),Ts(r)}:Yb().includes(t)?function(...e){return t.apply(Pp(this),e),Ts(vE.get(this))}:function(...e){return Ts(t.apply(Pp(this),e))}}function tP(t){return typeof t=="function"?eP(t):(t instanceof IDBTransaction&&Jb(t),Kb(t,Qb())?new Proxy(t,vm):t)}function Ts(t){if(t instanceof IDBRequest)return Xb(t);if(bp.has(t))return bp.get(t);const e=tP(t);return e!==t&&(bp.set(t,e),gg.set(e,t)),e}const Pp=t=>gg.get(t);function nP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=Ts(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ts(l.result),h.oldVersion,h.newVersion,Ts(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const rP=["get","getKey","getAll","getAllKeys","count"],iP=["put","add","delete","clear"],Rp=new Map;function Rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rP.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&h.done]))[0]};return Rp.set(e,a),a}Zb(t=>({...t,get:(e,n,r)=>Rw(e,n)||t.get(e,n,r),has:(e,n)=>!!Rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oP(t){return t.getComponent()?.type==="VERSION"}const wm="@firebase/app",Nw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new mg("@firebase/app"),aP="@firebase/app-compat",lP="@firebase/analytics-compat",uP="@firebase/analytics",cP="@firebase/app-check-compat",hP="@firebase/app-check",fP="@firebase/auth",dP="@firebase/auth-compat",pP="@firebase/database",mP="@firebase/data-connect",gP="@firebase/database-compat",yP="@firebase/functions",vP="@firebase/functions-compat",wP="@firebase/installations",_P="@firebase/installations-compat",xP="@firebase/messaging",EP="@firebase/messaging-compat",TP="@firebase/performance",SP="@firebase/performance-compat",kP="@firebase/remote-config",IP="@firebase/remote-config-compat",AP="@firebase/storage",CP="@firebase/storage-compat",bP="@firebase/firestore",PP="@firebase/ai",RP="@firebase/firestore-compat",NP="firebase",DP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",VP={[wm]:"fire-core",[aP]:"fire-core-compat",[uP]:"fire-analytics",[lP]:"fire-analytics-compat",[hP]:"fire-app-check",[cP]:"fire-app-check-compat",[fP]:"fire-auth",[dP]:"fire-auth-compat",[pP]:"fire-rtdb",[mP]:"fire-data-connect",[gP]:"fire-rtdb-compat",[yP]:"fire-fn",[vP]:"fire-fn-compat",[wP]:"fire-iid",[_P]:"fire-iid-compat",[xP]:"fire-fcm",[EP]:"fire-fcm-compat",[TP]:"fire-perf",[SP]:"fire-perf-compat",[kP]:"fire-rc",[IP]:"fire-rc-compat",[AP]:"fire-gcs",[CP]:"fire-gcs-compat",[bP]:"fire-fst",[RP]:"fire-fst-compat",[PP]:"fire-vertex","fire-js":"fire-js",[NP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,LP=new Map,xm=new Map;function Dw(t,e){try{t.container.addComponent(e)}catch(n){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fa(t){const e=t.name;if(xm.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,t);for(const n of Gh.values())Dw(n,t);for(const n of LP.values())Dw(n,t);return!0}function yg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new zu("app","Firebase",MP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=DP;function _E(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_m,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ss.create("bad-app-name",{appName:String(i)});if(n||(n=pE()),!n)throw Ss.create("no-options");const a=Gh.get(i);if(a){if(xo(n,a.options)&&xo(r,a.config))return a;throw Ss.create("duplicate-app",{appName:i})}const l=new $b(i);for(const h of xm.values())l.addComponent(h);const c=new OP(n,r,l);return Gh.set(i,c),c}function xE(t=_m){const e=Gh.get(t);if(!e&&t===_m&&pE())return _E();if(!e)throw Ss.create("no-app",{appName:t});return e}function ks(t,e,n){let r=VP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(l.join(" "));return}Fa(new Eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firebase-heartbeat-database",jP=1,Tu="firebase-heartbeat-store";let Np=null;function EE(){return Np||(Np=nP(FP,jP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),Np}async function BP(t){try{const n=(await EE()).transaction(Tu),r=await n.objectStore(Tu).get(TE(t));return await n.done,r}catch(e){if(e instanceof Ui)Mi.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(n.message)}}}async function Vw(t,e){try{const r=(await EE()).transaction(Tu,"readwrite");await r.objectStore(Tu).put(e,TE(t)),await r.done}catch(n){if(n instanceof Ui)Mi.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n?.message});Mi.warn(r.message)}}}function TE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1024,zP=30;class $P{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>zP){const i=WP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lw(),{heartbeatsToSend:n,unsentEntries:r}=HP(this._heartbeatsCache.heartbeats),i=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Mi.warn(e),""}}}function Lw(){return new Date().toISOString().substring(0,10)}function HP(t,e=UP){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Mw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rb()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}function WP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){Fa(new Eo("platform-logger",e=>new sP(e),"PRIVATE")),Fa(new Eo("heartbeat",e=>new $P(e),"PRIVATE")),ks(wm,Nw,t),ks(wm,Nw,"esm2020"),ks("fire-js","")}GP("");var KP="firebase",QP="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(KP,QP,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YP=SE,kE=new zu("auth","Firebase",SE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new mg("@firebase/auth");function XP(t,...e){Kh.logLevel<=Qe.WARN&&Kh.warn(`Auth (${Ya}): ${t}`,...e)}function Nh(t,...e){Kh.logLevel<=Qe.ERROR&&Kh.error(`Auth (${Ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,...e){throw wg(t,...e)}function Rr(t,...e){return wg(t,...e)}function vg(t,e,n){const r={...YP(),[e]:n};return new zu("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return vg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vr(t,"argument-error"),vg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kE.create(t,...e)}function Me(t,e,...n){if(!t)throw wg(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nh(e),new Error(e)}function Oi(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){return typeof self<"u"&&self.location?.href||""}function IE(){return Ow()==="http:"||Ow()==="https:"}function Ow(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IE()||Ab()||"connection"in navigator)?navigator.onLine:!0}function eR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oi(n>e,"Short delay should be less than long delay!"),this.isMobile=Sb()||Cb()}get(){return ZP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){Oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rR=new Hu(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ci(t,e,n,r,i={}){return CE(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=$u({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...a};return Ib()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(f.credentials="include"),AE.fetch()(await bE(t,t.config.apiHost,n,c),f)})}async function CE(t,e,n){t._canInitEmulator=!1;const r={...tR,...e};try{const i=new sR(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw vh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw vh(t,"user-disabled",l);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vg(t,m,f);vr(t,m)}}catch(i){if(i instanceof Ui)throw i;vr(t,"network-request-failed",{message:String(i)})}}async function qu(t,e,n,r,i={}){const a=await ci(t,e,n,r,i);return"mfaPendingCredential"in a&&vr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function bE(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?_g(t.config,i):`${t.config.apiScheme}://${i}`;return nR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function iR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),rR.get())})}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function Fw(t){return t!==void 0&&t.enterprise!==void 0}class oR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aR(t,e){return ci(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e){return ci(t,"POST","/v1/accounts:delete",e)}async function Yh(t,e){return ci(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uR(t,e=!1){const n=In(t),r=await n.getIdToken(e),i=xg(r);Me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:hu(Dp(i.auth_time)),issuedAtTime:hu(Dp(i.iat)),expirationTime:hu(Dp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Dp(t){return Number(t)*1e3}function xg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const i=fE(n);return i?JSON.parse(i):(Nh("Failed to decode base64 JWT payload"),null)}catch(i){return Nh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jw(t){const e=xg(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&cR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){const e=t.auth,n=await t.getIdToken(),r=await Su(t,Yh(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?PE(i.providerUserInfo):[],l=dR(t.providerData,a),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!l?.length,f=c?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Em(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function fR(t){const e=In(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e){const n=await CE(t,{},async()=>{const r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await bE(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&Qa(t.emulatorConfig.host)&&(h.credentials="include"),AE.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mR(t,e){return ci(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await pR(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new ba;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new hR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Em(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uR(this,e)}reload(){return fR(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await Su(this,lR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:x,providerData:k,stsTokenManager:R}=n;Me(g&&R,e,"internal-error");const b=ba.fromJSON(this.name,R);Me(typeof g=="string",e,"internal-error"),ps(r,e.name),ps(i,e.name),Me(typeof v=="boolean",e,"internal-error"),Me(typeof x=="boolean",e,"internal-error"),ps(a,e.name),ps(l,e.name),ps(c,e.name),ps(h,e.name),ps(f,e.name),ps(m,e.name);const N=new br({uid:g,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:b,createdAt:f,lastLoginAt:m});return k&&Array.isArray(k)&&(N.providerData=k.map(B=>({...B}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new ba;i.updateFromServerResponse(n);const a=new br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new ba;c.updateFromIdToken(r);const h=new br({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Em(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function Ni(t){Oi(t instanceof Function,"Expected a class definition");let e=Bw.get(t);return e?(Oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RE.type="NONE";const Uw=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yh(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pa(Ni(Uw),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ni(Uw);const l=Dh(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){let g;if(typeof m=="string"){const v=await Yh(e,{idToken:m}).catch(()=>{});if(!v)break;g=await br._fromGetAccountInfoResponse(e,v,m)}else g=br._fromJSON(e,m);f!==a&&(c=g),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Pa(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(FE(e))return"Webos";if(DE(e))return"Safari";if((e.includes("chrome/")||VE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NE(t=kn()){return/firefox\//i.test(t)}function DE(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VE(t=kn()){return/crios\//i.test(t)}function LE(t=kn()){return/iemobile/i.test(t)}function ME(t=kn()){return/android/i.test(t)}function OE(t=kn()){return/blackberry/i.test(t)}function FE(t=kn()){return/webos/i.test(t)}function Eg(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gR(t=kn()){return Eg(t)&&!!window.navigator?.standalone}function yR(){return bb()&&document.documentMode===10}function jE(t=kn()){return Eg(t)||ME(t)||FE(t)||OE(t)||/windows phone/i.test(t)||LE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e=[]){let n;switch(t){case"Browser":n=zw(kn());break;case"Worker":n=`${zw(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,e={}){return ci(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class xR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $w(this),this.idTokenSubscription=new $w(this),this.beforeStateQueue=new vR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yh(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Di(this));const n=e?In(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wR(this),n=new xR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zi(t){return In(t)}class $w{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ob(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(t){kf=t}function UE(t){return kf.loadJS(t)}function SR(){return kf.recaptchaEnterpriseScript}function kR(){return kf.gapiScript}function IR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AR{constructor(){this.enterprise=new CR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class CR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bR="recaptcha-enterprise",zE="NO_RECAPTCHA";class PR{constructor(e){this.type=bR,this.auth=zi(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{aR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new oR(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(a,l,c){const h=window.grecaptcha;Fw(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(zE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AR().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&Fw(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=SR();h.length!==0&&(h+=c),UE(h).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Hw(t,e,n,r=!1,i=!1){const a=new PR(t);let l;if(i)l=zE;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Jh(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Hw(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Hw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e){const n=yg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(xo(a,e??{}))return i;vr(i,"already-initialized")}return n.initialize({options:e})}function NR(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ni);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DR(t,e,n){const r=zi(t);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=$E(e),{host:l,port:c}=VR(e),h=c===null?"":`:${c}`,f={url:`${a}//${l}${h}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(xo(f,r.config.emulator)&&xo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Qa(l)?(gE(`${a}//${l}${h}`),yE("Auth",!0)):LR()}function $E(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VR(t){const e=$E(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:qw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:qw(l)}}}function qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function MR(t,e){return ci(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}async function FR(t,e){return ci(t,"POST","/v1/accounts:sendOobCode",ui(t,e))}async function jR(t,e){return FR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function UR(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Tg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,n,"signInWithPassword",OR);case"emailLink":return BR(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jh(e,r,"signUpPassword",MR);case"emailLink":return UR(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="http://localhost";class To extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new To(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){const e={requestUri:zR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HR(t){const e=nu(ru(t)).link,n=e?nu(ru(e)).deep_link_id:null,r=nu(ru(t)).deep_link_id;return(r?nu(ru(r)).link:null)||r||n||e||t}class Sg{constructor(e){const n=nu(ru(e)),r=n.apiKey??null,i=n.oobCode??null,a=$R(n.mode??null);Me(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HR(e);try{return new Sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sg.parseLink(n);return Me(r,"argument-error"),ku._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends kg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Wu{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Wu{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Wu{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.TWITTER_SIGN_IN_METHOD="twitter.com";_s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e){return qu(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await br._fromIdTokenResponse(e,r,i),l=Ww(r);return new So({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ww(r);return new So({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ww(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends Ui{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zh(e,n,r,i)}}function HE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(t,a,e,r):a})}async function WR(t,e,n=!1){const r=await Su(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return So._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(Di(r));const i="reauthenticate";try{const a=await Su(t,HE(r,i,e,t),n);Me(a.idToken,r,"internal-error");const l=xg(a.idToken);Me(l,r,"internal-error");const{sub:c}=l;return Me(t.uid===c,r,"user-mismatch"),So._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&vr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(t,e,n=!1){if(Zn(t.app))return Promise.reject(Di(t));const r="signIn",i=await HE(t,r,e),a=await So._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function KR(t,e){return qE(zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(t){const e=zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QR(t,e,n){const r=zi(t);await Jh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jR)}async function YR(t,e,n){if(Zn(t.app))return Promise.reject(Di(t));const r=zi(t),l=await Jh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&WE(t),h}),c=await So._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function XR(t,e,n){return Zn(t.app)?Promise.reject(Di(t)):KR(In(t),Xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return ci(t,"POST","/v1/accounts:createAuthUri",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e){const n=IE()?Qh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await JR(In(t),r);return i||[]}function e2(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function t2(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function n2(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}function r2(t){return In(t).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=1e3,s2=10;class KE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);yR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,s2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const o2=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QE.type="SESSION";const YE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new If(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,a)),h=await a2(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const f=Ig("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function u2(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function c2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){return navigator?.serviceWorker?.controller||null}function f2(){return XE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebaseLocalStorageDb",d2=1,tf="firebaseLocalStorage",ZE="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(t,e){return t.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function p2(){const t=indexedDB.deleteDatabase(JE);return new Gu(t).toPromise()}function Tm(){const t=indexedDB.open(JE,d2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tf,{keyPath:ZE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tf)?e(r):(r.close(),await p2(),e(await Tm()))})})}async function Gw(t,e,n){const r=Af(t,!0).put({[ZE]:e,value:n});return new Gu(r).toPromise()}async function m2(t,e){const n=Af(t,!1).get(e),r=await new Gu(n).toPromise();return r===void 0?null:r.value}function Kw(t,e){const n=Af(t,!0).delete(e);return new Gu(n).toPromise()}const g2=800,y2=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(f2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await c2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await Gw(e,ef,"1"),await Kw(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Af(i,!1).getAll();return new Gu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const v2=eT;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){return e?Ni(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w2(t){return qE(t.auth,new Ag(t),t.bypassAuthState)}function _2(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),GR(n,new Ag(t),t.bypassAuthState)}async function x2(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),WR(n,new Ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w2;case"linkViaPopup":case"linkViaRedirect":return x2;case"reauthViaPopup":case"reauthViaRedirect":return _2;default:vr(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Hu(2e3,1e4);async function T2(t,e,n){if(Zn(t.app))return Promise.reject(Rr(t,"operation-not-supported-in-this-environment"));const r=zi(t);JP(t,e,kg);const i=tT(r,n);return new yo(r,"signInViaPopup",e,i).executeNotNull()}class yo extends nT{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E2.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="pendingRedirect",Vh=new Map;class k2 extends nT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const r=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(t,e){const n=b2(e),r=C2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function A2(t,e){Vh.set(t._key(),e)}function C2(t){return Ni(t._redirectPersistence)}function b2(t){return Dh(S2,t.config.apiKey,t.name)}async function P2(t,e,n=!1){if(Zn(t.app))return Promise.reject(Di(t));const r=zi(t),i=tT(r,e),l=await new k2(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=600*1e3;class N2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}saveEventToCache(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}}function Qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function D2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e={}){return ci(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M2=/^https?/;async function O2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V2(t);for(const n of e)try{if(F2(n))return}catch{}vr(t,"unauthorized-domain")}function F2(t){const e=Qh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!M2.test(n))return!1;if(L2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Hu(3e4,6e4);function Yw(){const t=ei().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function B2(t){return new Promise((e,n)=>{function r(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),n(Rr(t,"network-request-failed"))},timeout:j2.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)r();else{const i=IR("iframefcb");return ei()[i]=()=>{gapi.load?r():n(Rr(t,"network-request-failed"))},UE(`${kR()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function U2(t){return Lh=Lh||B2(t),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Hu(5e3,15e3),$2="__/auth/iframe",H2="emulator/auth/iframe",q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G2(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_g(e,H2):`https://${t.config.authDomain}/${$2}`,r={apiKey:e.apiKey,appName:t.name,v:Ya},i=W2.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${$u(r).slice(1)}`}async function K2(t){const e=await U2(t),n=ei().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:G2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q2,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Rr(t,"network-request-failed"),c=ei().setTimeout(()=>{a(l)},z2.get());function h(){ei().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y2=500,X2=600,J2="_blank",Z2="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eN(t,e,n,r=Y2,i=X2){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...Q2,width:r.toString(),height:i.toString(),top:a,left:l},f=kn().toLowerCase();n&&(c=VE(f)?J2:n),NE(f)&&(e=e||Z2,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[x,k])=>`${v}${x}=${k},`,"");if(gR(f)&&c!=="_self")return tN(e||"",c),new Xw(null);const g=window.open(e||"",c,m);Me(g,t,"popup-blocked");try{g.focus()}catch{}return new Xw(g)}function tN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="__/auth/handler",rN="emulator/auth/handler",iN=encodeURIComponent("fac");async function Jw(t,e,n,r,i,a){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ya,eventId:i};if(e instanceof kg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Mb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Wu){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),f=h?`#${iN}=${encodeURIComponent(h)}`:"";return`${sN(t)}?${$u(c).slice(1)}${f}`}function sN({config:t}){return t.emulator?_g(t,rN):`https://${t.authDomain}/${nN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class oN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=P2,this._overrideRedirectResult=A2}async _openPopup(e,n,r,i){Oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Jw(e,n,r,Qh(),i);return eN(e,a,Ig())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Jw(e,n,r,Qh(),i);return u2(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K2(e),r=new N2(e);return n.register("authEvent",i=>(Me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vp,{type:Vp},i=>{const a=i?.[0]?.[Vp];a!==void 0&&n(!!a),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jE()||DE()||Eg()}}const aN=oN;var Zw="@firebase/auth",e_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cN(t){Fa(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(t)},f=new ER(r,i,a,h);return NR(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fa(new Eo("auth-internal",e=>{const n=zi(e.getProvider("auth").getImmediate());return(r=>new lN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(Zw,e_,uN(t)),ks(Zw,e_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=300,fN=mE("authIdTokenMaxAge")||hN;let t_=null;const dN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fN)return;const i=n?.token;t_!==i&&(t_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pN(t=xE()){const e=yg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RR(t,{popupRedirectResolver:aN,persistence:[v2,o2,YE]}),r=mE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=dN(a.toString());t2(n,l,()=>l(n.currentUser)),e2(n,c=>l(c))}}const i=dE("auth");return i&&DR(n,`http://${i}`),n}function mN(){return document.getElementsByTagName("head")?.[0]??document}TR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Rr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",mN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cN("Browser");const gN={apiKey:"AIzaSyD7E042zgdFA5rlpt7fT1OvdM28dUj3yl4",authDomain:"supplement-advisor-3b857.firebaseapp.com",projectId:"supplement-advisor-3b857",storageBucket:"supplement-advisor-3b857.firebasestorage.app",messagingSenderId:"448258585982",appId:"1:448258585982:web:f86ee1ba28f91461bf2f2f",measurementId:"G-MWH7YH74SP"},yN=_E(gN),po=pN(yN),vN=new Pi,iT=he.createContext(void 0);function Ja(){const t=he.useContext(iT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function wN({children:t}){const[e,n]=he.useState(null),[r,i]=he.useState(!0);he.useEffect(()=>n2(po,g=>{n(g?{uid:g.uid,email:g.email||"",displayName:g.displayName||void 0,photoURL:g.photoURL||void 0}:null),i(!1)}),[]);const f={user:e,loading:r,signInWithEmail:async(m,g)=>{try{await XR(po,m,g)}catch(v){if(v.code==="auth/wrong-password"||v.code==="auth/invalid-credential"||v.code==="auth/user-not-found")try{throw(await ZR(po,m)).includes("google.com")?new Error("Google"):new Error("")}catch(x){throw x.message==="Google"||x.message===""?x:new Error("")}else throw v.code==="auth/invalid-email"?new Error(""):v.code==="auth/too-many-requests"?new Error(""):new Error(v.message||"")}},signUpWithEmail:async(m,g)=>{try{await YR(po,m,g)}catch(v){throw v.code==="auth/email-already-in-use"?new Error(""):v.code==="auth/invalid-email"?new Error(""):v.code==="auth/weak-password"?new Error("6"):new Error("")}},signInWithGoogle:async()=>{try{await T2(po,vN)}catch(m){throw m.code==="auth/popup-closed-by-user"?new Error(""):m.code==="auth/popup-blocked"?new Error(""):m.code==="auth/cancelled-popup-request"?new Error(""):new Error(m.message||"Google")}},signOut:async()=>{try{await r2(po)}catch(m){throw new Error(m.message||"")}}};return S.jsx(iT.Provider,{value:f,children:t})}function Cf({onShowHistory:t,onSignOut:e}={}){const{user:n,signOut:r}=Ja(),[i,a]=he.useState(!1),[l,c]=he.useState(!1),h=he.useRef(null),f=he.useRef(void 0);if(he.useEffect(()=>{function b(N){h.current&&!h.current.contains(N.target)&&a(!1)}if(i)return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[i]),he.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),!n)return null;const m=()=>n.displayName?n.displayName[0].toUpperCase():n.email[0].toUpperCase(),g=()=>n.displayName?n.displayName:n.email.split("@")[0],v=()=>{c(!0)};he.useEffect(()=>{c(!1)},[n?.photoURL]);const x=async()=>{try{await r(),a(!1),e&&e()}catch(b){console.error("Failed to sign out:",b)}},k=()=>{f.current&&clearTimeout(f.current),a(!0)},R=()=>{f.current=setTimeout(()=>{a(!1)},300)};return S.jsxs("div",{className:"relative",ref:h,onMouseEnter:k,onMouseLeave:R,children:[S.jsx("button",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#72BCA3] to-[#5FA98D] border-2 border-[#111111] flex items-center justify-center text-white font-bold hover:scale-105 transition-transform","aria-label":"User menu",children:n.photoURL&&!l?S.jsx("img",{src:n.photoURL,alt:n.displayName||n.email,className:"w-full h-full rounded-full object-cover",onError:v}):S.jsx("span",{className:"text-lg",children:m()})}),i&&S.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border-3 border-[#111111] rounded-2xl overflow-hidden z-50",onMouseEnter:k,onMouseLeave:R,children:[S.jsx("div",{className:"p-4 border-b-2 border-[#111111]",children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#72BCA3] to-[#5FA98D] border-2 border-[#111111] flex items-center justify-center text-white font-bold",children:n.photoURL&&!l?S.jsx("img",{src:n.photoURL,alt:n.displayName||n.email,className:"w-full h-full rounded-full object-cover",onError:v}):S.jsx("span",{className:"text-xl",children:m()})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"text-[#111111] font-bold truncate",children:g()}),S.jsx("div",{className:"text-[#6B6B6B] text-sm truncate",children:n.email})]})]})}),S.jsxs("div",{className:"p-2",children:[t&&S.jsxs("button",{onClick:()=>{a(!1),t()},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-[#EAD5D1] rounded-xl transition-colors text-left",children:[S.jsx(HC,{className:"w-5 h-5 text-[#72BCA3]"}),S.jsx("span",{className:"text-[#111111]",children:""})]}),S.jsxs("button",{onClick:x,className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-[#EAD5D1] rounded-xl transition-colors text-left",children:[S.jsx(QC,{className:"w-5 h-5 text-[#C27566]"}),S.jsx("span",{className:"text-[#111111]",children:""})]})]})]})]})}function _N({onStart:t,onShowLogin:e,onShowHistory:n}){const{user:r}=Ja();return S.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F7F5F0"},children:[S.jsx("header",{className:"border-b-3 border-[#111111]",style:{backgroundColor:"#F7F5F0"},children:S.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:S.jsxs("div",{className:"flex items-center justify-between relative",children:[S.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-3 hover:opacity-80 transition-opacity lg:invisible",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:S.jsx("img",{src:Oa,alt:"",className:"w-full h-full object-cover"})}),S.jsx("h1",{className:"text-[#111111] brand-title",children:""})]}),S.jsxs("button",{onClick:()=>window.location.reload(),className:"hidden lg:flex absolute left-1/2 transform -translate-x-1/2 items-center gap-3 hover:opacity-80 transition-opacity",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:S.jsx("img",{src:Oa,alt:"",className:"w-full h-full object-cover"})}),S.jsx("h1",{className:"text-[#111111] brand-title",children:""})]}),S.jsx("div",{children:r?S.jsx(Cf,{onShowHistory:n}):S.jsx("button",{onClick:e,className:"px-6 py-2 bg-white border-2 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors font-medium",style:{boxShadow:"2px 2px 0 #111111"},children:""})})]})})}),S.jsx("main",{className:"flex-1 flex",children:S.jsxs("div",{className:"w-full flex flex-col lg:flex-row-reverse",children:[S.jsx("div",{className:"hidden lg:block lg:w-1/2",children:S.jsx("div",{className:"w-full h-full",children:S.jsx("img",{src:kw,alt:"",className:"w-full h-full object-cover"})})}),S.jsx("div",{className:"w-full lg:w-1/2 flex flex-col justify-center px-6 py-12 lg:px-12 lg:py-16",children:S.jsxs("div",{className:"max-w-xl",children:[S.jsxs("div",{className:"mb-8",children:[S.jsx("h2",{className:"text-[#72BCA3] text-2xl mb-3 font-bold",children:""}),S.jsx("p",{className:"text-[#6B6B6B]",children:""})]}),S.jsx("div",{className:"mb-8",children:S.jsxs("button",{onClick:t,className:"inline-flex items-center gap-3 px-8 py-4 bg-[#72BCA3] text-[#111111] rounded-full border-3 border-[#111111] hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all group",style:{boxShadow:"4px 4px 0 #111111"},onMouseEnter:i=>{i.currentTarget.style.boxShadow="5px 5px 0 #111111"},onMouseLeave:i=>{i.currentTarget.style.boxShadow="4px 4px 0 #111111"},children:[S.jsx("span",{children:""}),S.jsx(uE,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),S.jsxs("div",{className:"space-y-4 mb-8",children:[S.jsxs("div",{className:"p-4 border-3 border-[#111111] rounded-2xl bg-white hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all cursor-pointer",style:{boxShadow:"3px 3px 0 #111111"},onMouseEnter:i=>{i.currentTarget.style.boxShadow="5px 5px 0 #111111"},onMouseLeave:i=>{i.currentTarget.style.boxShadow="3px 3px 0 #111111"},children:[S.jsx("h3",{className:"mb-1 text-[#C27566] font-bold",children:""}),S.jsx("p",{className:"text-[#6B6B6B] text-xs",children:""})]}),S.jsxs("div",{className:"p-4 border-3 border-[#111111] rounded-2xl bg-white hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all cursor-pointer",style:{boxShadow:"3px 3px 0 #111111"},onMouseEnter:i=>{i.currentTarget.style.boxShadow="5px 5px 0 #111111"},onMouseLeave:i=>{i.currentTarget.style.boxShadow="3px 3px 0 #111111"},children:[S.jsx("h3",{className:"mb-1 text-[#C27566] font-bold",children:""}),S.jsx("p",{className:"text-[#6B6B6B] text-xs",children:""})]}),S.jsxs("div",{className:"p-4 border-3 border-[#111111] rounded-2xl bg-white hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all cursor-pointer",style:{boxShadow:"3px 3px 0 #111111"},onMouseEnter:i=>{i.currentTarget.style.boxShadow="5px 5px 0 #111111"},onMouseLeave:i=>{i.currentTarget.style.boxShadow="3px 3px 0 #111111"},children:[S.jsx("h3",{className:"mb-1 text-[#C27566] font-bold",children:""}),S.jsx("p",{className:"text-[#6B6B6B] text-xs",children:" & "})]})]})]})}),S.jsx("div",{className:"lg:hidden w-full",children:S.jsx("img",{src:kw,alt:"",className:"w-full h-auto object-cover"})})]})})]})}function xN({question:t,currentIndex:e,totalQuestions:n,onAnswer:r,onOtherInput:i,onBack:a,selectedAnswers:l,otherInput:c,onShowLogin:h,onShowHistory:f,onJumpToQuestion:m,onBackToHome:g,onSignOut:v,allAnswers:x,allQuestions:k}){const{user:R}=Ja(),[b,N]=he.useState(l),[B,z]=he.useState(c),[te,Z]=he.useState("");he.useEffect(()=>{N(l),z(c),Z("")},[l,c,e]);const q=C=>{if(t.multiSelect){let J;if(C==="none-med"||C==="none-condition")b.includes(C)?J=[]:J=[C];else if(b.includes(C))J=b.filter(ee=>ee!==C);else{const ee=b.filter(Ie=>Ie!=="none-med"&&Ie!=="none-condition");t.maxSelections&&ee.length>=t.maxSelections?J=[...ee.slice(1),C]:J=[...ee,C]}N(J)}else if(C==="none-med"||C==="none-condition")N([C]);else if(C==="has-med"||C==="has-condition")b.includes(C)||N([C]);else if(t.subOptions?.options.some(ee=>ee.id===C))if(b.includes(C)){const ee=b.filter(we=>we!==C),Ie=t.subOptions?.triggerId;ee.length===0||Ie&&!ee.includes(Ie)?N([Ie||"",...ee].filter(Boolean)):N(ee)}else N([...b.filter(ee=>ee!=="none-med"&&ee!=="none-condition"),C]);else N([C])},M=C=>{b.includes(C)?N(b.filter(J=>J!==C)):N([...b.filter(J=>J!=="none-med"),C])},A=()=>{if(b.length===0){Z("");return}if(Z(""),e===n-1&&k&&x)for(let C=0;C<k.length;C++){const J=k[C];if((C===e?b:x[J.id]||[]).length===0){Z("");return}}t.hasOtherInput&&i(t.id,B),r(t.id,b)},V=t.subOptions&&b.includes(t.subOptions.triggerId),I=V?b.filter(C=>t.subOptions.options.some(J=>J.id===C)):[],L=b.length>0&&(!V||I.length>0||b.includes("none-med")||b.includes("none-condition")),j=t.hasOtherInput&&V&&(b.includes("others-med")||b.includes("others-condition"));return S.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F7F5F0"},children:[S.jsx("header",{className:"border-b-3 border-[#111111] sticky top-0 z-20",style:{backgroundColor:"#F7F5F0"},children:S.jsx("div",{className:"max-w-5xl mx-auto px-6 py-4",children:S.jsxs("div",{className:"flex flex-col gap-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors",style:{boxShadow:"2px 2px 0 #111111"},children:[S.jsx(Ma,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:""})]}),S.jsxs("button",{onClick:g,className:"absolute left-1/2 transform -translate-x-1/2 flex items-center gap-3 hover:opacity-80 transition-opacity",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:S.jsx("img",{src:Oa,alt:"",className:"w-full h-full object-cover"})}),S.jsx("h1",{className:"text-[#111111] brand-title hidden sm:block",children:""})]}),S.jsx("div",{className:"flex items-center gap-2",children:R?S.jsx(Cf,{onShowHistory:f,onSignOut:v}):S.jsx("button",{onClick:h,className:"px-6 py-2 bg-white text-[#111111] rounded-full border-2 border-[#111111] hover:bg-[#EAD5D1] transition-colors font-medium",style:{boxShadow:"2px 2px 0 #111111"},children:""})})]}),S.jsx("div",{className:"w-full h-4 bg-[#EAD5D1] rounded-full overflow-hidden border-2 border-[#111111] cursor-pointer relative group",children:Array.from({length:n}).map((C,J)=>{const ee=100/n,Ie=ee*J,we=J<e,ae=J===e;return S.jsx("button",{onClick:()=>m&&m(J),className:"absolute top-0 h-full hover:opacity-80 transition-opacity",style:{left:`${Ie}%`,width:`${ee}%`,backgroundColor:we||ae?"#C27566":"transparent"},title:` ${J+1}`},J)})})]})})}),S.jsxs("main",{className:"flex-1 max-w-5xl mx-auto px-6 py-12 w-full",children:[S.jsxs("div",{className:"mb-8",children:[S.jsx("h2",{className:"text-center mb-2 text-2xl text-[#111111] font-bold",style:{fontFamily:"DM Serif Display, Georgia, serif"},children:t.question}),t.multiSelect&&S.jsx("p",{className:"text-center text-[#6B6B6B] text-sm",children:t.maxSelections?` ${b.length}/${t.maxSelections}`:` ${b.length} `})]}),S.jsx("div",{className:`${t.options.length===2?"grid grid-cols-2 gap-4 md:gap-6 max-w-xl":"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 max-w-4xl"} mx-auto mb-8`,children:t.options.map(C=>{const J=b.includes(C.id);return S.jsxs("button",{onClick:()=>q(C.id),className:`relative p-4 md:p-6 rounded-2xl border-3 transition-all duration-200 ${J?"border-[#111111] bg-[#EAD5D1]":"border-[#111111] bg-white hover:bg-[#F7F5F0]"}`,style:{boxShadow:J?"5px 5px 0 #111111":"3px 3px 0 #111111"},onMouseEnter:ee=>{J||(ee.currentTarget.style.boxShadow="5px 5px 0 #111111")},onMouseLeave:ee=>{J||(ee.currentTarget.style.boxShadow="3px 3px 0 #111111")},children:[S.jsx("div",{className:`flex items-center justify-center ${t.multiSelect&&J?"pr-8":""}`,children:S.jsx("span",{className:"text-center text-sm text-[#111111] font-bold",children:C.label})}),J&&t.multiSelect&&S.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-[#72BCA3] rounded-full flex items-center justify-center border-2 border-[#111111]",children:S.jsx(gm,{className:"w-4 h-4 text-[#111111]"})})]},C.id)})}),V&&t.subOptions&&S.jsxs("div",{className:"mb-8",children:[S.jsx("h3",{className:"text-center mb-4 text-xl text-[#111111] font-bold",style:{fontFamily:"DM Serif Display, Georgia, serif"},children:t.subOptions.question}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 max-w-4xl mx-auto",children:t.subOptions.options.map(C=>{const J=b.includes(C.id);return S.jsxs("button",{onClick:()=>M(C.id),className:`relative p-4 md:p-6 rounded-2xl border-3 transition-all duration-200 ${J?"border-[#111111] bg-[#EAD5D1]":"border-[#111111] bg-white hover:bg-[#F7F5F0]"}`,style:{boxShadow:J?"5px 5px 0 #111111":"3px 3px 0 #111111"},onMouseEnter:ee=>{J||(ee.currentTarget.style.boxShadow="5px 5px 0 #111111")},onMouseLeave:ee=>{J||(ee.currentTarget.style.boxShadow="3px 3px 0 #111111")},children:[S.jsx("div",{className:`flex items-center justify-center ${J?"pr-8":""}`,children:S.jsx("span",{className:"text-center text-sm text-[#111111] font-bold",children:C.label})}),J&&S.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 bg-[#72BCA3] rounded-full flex items-center justify-center border-2 border-[#111111]",children:S.jsx(gm,{className:"w-4 h-4 text-[#111111]"})})]},C.id)})}),I.length>0&&S.jsxs("p",{className:"text-center text-[#6B6B6B] text-sm mt-4",children:[" ",I.length," "]})]}),j&&S.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[S.jsx("label",{className:"block mb-2 text-[#111111]",children:""}),S.jsx("textarea",{value:B,onChange:C=>z(C.target.value),placeholder:"...",className:"w-full p-4 border-3 border-[#111111] rounded-xl focus:outline-none resize-none bg-white",style:{boxShadow:"4px 4px 0 #111111"},rows:3})]}),te&&S.jsx("p",{className:"text-center text-red-500 mb-4",children:te}),S.jsx("div",{className:"text-center",children:S.jsxs("button",{onClick:A,disabled:!L,className:`inline-flex items-center gap-3 px-8 py-4 rounded-full border-3 border-[#111111] transition-all ${L?"bg-[#72BCA3] text-[#111111] hover:translate-x-[-2px] hover:translate-y-[-2px]":"bg-[#EAD5D1] text-[#6B6B6B] cursor-not-allowed"}`,style:L?{boxShadow:"5px 5px 0 #111111"}:{boxShadow:"3px 3px 0 #111111"},onMouseEnter:C=>{L&&(C.currentTarget.style.boxShadow="7px 7px 0 #111111")},onMouseLeave:C=>{L&&(C.currentTarget.style.boxShadow="5px 5px 0 #111111")},children:[S.jsx("span",{children:e===n-1?"":""}),S.jsx(uE,{className:"w-5 h-5"})]})})]})]})}var n_=aE();const sT=he.createContext({});function EN(t){const e=he.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cg=he.createContext(null),oT=he.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TN(t=!0){const e=he.useContext(Cg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=he.useId();he.useEffect(()=>{t&&i(a)},[t]);const l=he.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const bg=typeof window<"u",SN=bg?he.useLayoutEffect:he.useEffect,er=t=>t;let aT=er;const kN={useManualTiming:!1};function IN(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,m=!1,g=!1)=>{const x=g&&r?e:n;return m&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,h.process(f))}};return h}const wh=["read","resolveKeyframes","update","preRender","render","postRender"],AN=40;function lT(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=wh.reduce((N,B)=>(N[B]=IN(a),N),{}),{read:c,resolveKeyframes:h,update:f,preRender:m,render:g,postRender:v}=l,x=()=>{const N=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,AN),1),i.timestamp=N,i.isProcessing=!0,c.process(i),h.process(i),f.process(i),m.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},k=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:wh.reduce((N,B)=>{const z=l[B];return N[B]=(te,Z=!1,q=!1)=>(n||k(),z.schedule(te,Z,q)),N},{}),cancel:N=>{for(let B=0;B<wh.length;B++)l[wh[B]].cancel(N)},state:i,steps:l}}const{schedule:Et,cancel:bs,state:un,steps:Lp}=lT(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0),uT=he.createContext({strict:!1}),r_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ja={};for(const t in r_)ja[t]={isEnabled:e=>r_[t].some(n=>!!e[n])};function CN(t){for(const e in t)ja[e]={...ja[e],...t[e]}}const bN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bN.has(t)}let cT=t=>!nf(t);function PN(t){t&&(cT=e=>e.startsWith("on")?!nf(e):t(e))}try{PN(require("@emotion/is-prop-valid").default)}catch{}function RN(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(cT(i)||n===!0&&nf(i)||!e&&!nf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function NN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const bf=he.createContext({});function Iu(t){return typeof t=="string"||Array.isArray(t)}function Pf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rg=["initial",...Pg];function Rf(t){return Pf(t.animate)||Rg.some(e=>Iu(t[e]))}function hT(t){return!!(Rf(t)||t.variants)}function DN(t,e){if(Rf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Iu(n)?n:void 0,animate:Iu(r)?r:void 0}}return t.inherit!==!1?e:{}}function VN(t){const{initial:e,animate:n}=DN(t,he.useContext(bf));return he.useMemo(()=>({initial:e,animate:n}),[i_(e),i_(n)])}function i_(t){return Array.isArray(t)?t.join(" "):t}const LN=Symbol.for("motionComponentSymbol");function Sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MN(t,e,n){return he.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sa(n)&&(n.current=r))},[e])}const Ng=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ON="framerAppearId",fT="data-"+Ng(ON),{schedule:Dg}=lT(queueMicrotask,!1),dT=he.createContext({});function FN(t,e,n,r,i){var a,l;const{visualElement:c}=he.useContext(bf),h=he.useContext(uT),f=he.useContext(Cg),m=he.useContext(oT).reducedMotion,g=he.useRef(null);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,x=he.useContext(dT);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&jN(g.current,n,i,x);const k=he.useRef(!1);he.useInsertionEffect(()=>{v&&k.current&&v.update(n,f)});const R=n[fT],b=he.useRef(!!R&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,R))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,R)));return SN(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Dg.render(v.render),b.current&&v.animationState&&v.animationState.animateChanges())}),he.useEffect(()=>{v&&(!b.current&&v.animationState&&v.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,R)}),b.current=!1))}),v}function jN(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:pT(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&Sa(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function pT(t){if(t)return t.options.allowProjection!==!1?t.projection:pT(t.parent)}function BN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&CN(t);function c(f,m){let g;const v={...he.useContext(oT),...f,layoutId:UN(f)},{isStatic:x}=v,k=VN(f),R=r(f,x);if(!x&&bg){zN();const b=$N(v);g=b.MeasureLayout,k.visualElement=FN(i,R,v,e,b.ProjectionNode)}return S.jsxs(bf.Provider,{value:k,children:[g&&k.visualElement?S.jsx(g,{visualElement:k.visualElement,...v}):null,n(i,f,MN(R,k.visualElement,m),R,x,k.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const h=he.forwardRef(c);return h[LN]=i,h}function UN({layoutId:t}){const e=he.useContext(sT).id;return e&&t!==void 0?e+"-"+t:t}function zN(t,e){he.useContext(uT).strict}function $N(t){const{drag:e,layout:n}=ja;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const HN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vg(t){return typeof t!="string"||t.includes("-")?!1:!!(HN.indexOf(t)>-1||/[A-Z]/u.test(t))}function s_(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Lg(t,e,n,r){if(typeof e=="function"){const[i,a]=s_(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=s_(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Sm=t=>Array.isArray(t),qN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WN=t=>Sm(t)?t[t.length-1]||0:t,Tn=t=>!!(t&&t.getVelocity);function Mh(t){const e=Tn(t)?t.get():t;return qN(e)?e.toValue():e}function GN({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:KN(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const mT=t=>(e,n)=>{const r=he.useContext(bf),i=he.useContext(Cg),a=()=>GN(t,e,r,i);return n?a():EN(a)};function KN(t,e,n,r){const i={},a=r(t,{});for(const v in a)i[v]=Mh(a[v]);let{initial:l,animate:c}=t;const h=Rf(t),f=hT(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const g=m?c:l;if(g&&typeof g!="boolean"&&!Pf(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const k=Lg(t,v[x]);if(k){const{transitionEnd:R,transition:b,...N}=k;for(const B in N){let z=N[B];if(Array.isArray(z)){const te=m?z.length-1:0;z=z[te]}z!==null&&(i[B]=z)}for(const B in R)i[B]=R[B]}}}return i}const Za=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Co=new Set(Za),gT=t=>e=>typeof e=="string"&&e.startsWith(t),yT=gT("--"),QN=gT("var(--"),Mg=t=>QN(t)?YN.test(t.split("/*")[0].trim()):!1,YN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fi=(t,e,n)=>n>e?e:n<t?t:n,el={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Au={...el,transform:t=>Fi(0,1,t)},_h={...el,default:1},Ku=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ys=Ku("deg"),ti=Ku("%"),Le=Ku("px"),XN=Ku("vh"),JN=Ku("vw"),o_={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},ZN={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le},eD={rotate:ys,rotateX:ys,rotateY:ys,rotateZ:ys,scale:_h,scaleX:_h,scaleY:_h,scaleZ:_h,skew:ys,skewX:ys,skewY:ys,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Au,originX:o_,originY:o_,originZ:Le},a_={...el,transform:Math.round},Og={...ZN,...eD,zIndex:a_,size:Le,fillOpacity:Au,strokeOpacity:Au,numOctaves:a_},tD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nD=Za.length;function rD(t,e,n){let r="",i=!0;for(let a=0;a<nD;a++){const l=Za[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const f=vT(c,Og[l]);if(!h){i=!1;const m=tD[l]||l;r+=`${m}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Fg(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const f=e[h];if(Co.has(h)){l=!0;continue}else if(yT(h)){i[h]=f;continue}else{const m=vT(f,Og[h]);h.startsWith("origin")?(c=!0,a[h]=m):r[h]=m}}if(e.transform||(l||n?r.transform=rD(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${f} ${m}`}}const iD={offset:"stroke-dashoffset",array:"stroke-dasharray"},sD={offset:"strokeDashoffset",array:"strokeDasharray"};function oD(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?iD:sD;t[a.offset]=Le.transform(-r);const l=Le.transform(e),c=Le.transform(n);t[a.array]=`${l} ${c}`}function l_(t,e,n){return typeof t=="string"?t:Le.transform(e+n*t)}function aD(t,e,n){const r=l_(e,t.x,t.width),i=l_(n,t.y,t.height);return`${r} ${i}`}function jg(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...f},m,g){if(Fg(t,f,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x,dimensions:k}=t;v.transform&&(k&&(x.transform=v.transform),delete v.transform),k&&(i!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=aD(k,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),l!==void 0&&oD(v,l,c,h,!1)}const Bg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),wT=()=>({...Bg(),attrs:{}}),Ug=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _T(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const xT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ET(t,e,n,r){_T(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(xT.has(i)?i:Ng(i),e.attrs[i])}const rf={};function lD(t){Object.assign(rf,t)}function TT(t,{layout:e,layoutId:n}){return Co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rf[t]||t==="opacity")}function zg(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(Tn(i[l])||e.style&&Tn(e.style[l])||TT(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function ST(t,e,n){const r=zg(t,e,n);for(const i in t)if(Tn(t[i])||Tn(e[i])){const a=Za.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function uD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const u_=["x","y","width","height","cx","cy","r"],cD={useVisualState:mT({scrapeMotionValuesFromProps:ST,createRenderState:wT,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(Co.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<u_.length;c++){const h=u_[c];t[h]!==e[h]&&(l=!0)}l&&Et.read(()=>{uD(n,r),Et.render(()=>{jg(r,i,Ug(n.tagName),t.transformTemplate),ET(n,r)})})}})},hD={useVisualState:mT({scrapeMotionValuesFromProps:zg,createRenderState:Bg})};function kT(t,e,n){for(const r in e)!Tn(e[r])&&!TT(r,n)&&(t[r]=e[r])}function fD({transformTemplate:t},e){return he.useMemo(()=>{const n=Bg();return Fg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dD(t,e){const n=t.style||{},r={};return kT(r,n,t),Object.assign(r,fD(t,e)),r}function pD(t,e){const n={},r=dD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function mD(t,e,n,r){const i=he.useMemo(()=>{const a=wT();return jg(a,e,Ug(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};kT(a,t.style,t),i.style={...a,...i.style}}return i}function gD(t=!1){return(n,r,i,{latestValues:a},l)=>{const h=(Vg(n)?mD:pD)(r,a,l,n),f=RN(r,typeof n=="string",t),m=n!==he.Fragment?{...f,...h,ref:i}:{},{children:g}=r,v=he.useMemo(()=>Tn(g)?g.get():g,[g]);return he.createElement(n,{...m,children:v})}}function yD(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Vg(r)?cD:hD,preloadedFeatures:t,useRender:gD(i),createVisualElement:e,Component:r};return BN(l)}}function IT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Nf(t,e,n){const r=t.getProps();return Lg(r,e,n!==void 0?n:r.custom,t)}function $g(t,e){return t?t[e]||t.default||t:void 0}const AT=new Set(["width","height","top","left","right","bottom",...Za]);let Oh;function vD(){Oh=void 0}const ni={now:()=>(Oh===void 0&&ni.set(un.isProcessing||kN.useManualTiming?un.timestamp:performance.now()),Oh),set:t=>{Oh=t,queueMicrotask(vD)}};function Hg(t,e){t.indexOf(e)===-1&&t.push(e)}function qg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Wg{constructor(){this.subscriptions=[]}add(e){return Hg(this.subscriptions,e),()=>qg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function CT(t,e){return e?t*(1e3/e):0}const c_=30,wD=t=>!isNaN(parseFloat(t));class _D{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=ni.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>c_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,c_);return CT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cu(t,e){return new _D(t,e)}function xD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cu(n))}function ED(t,e){const n=Nf(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=WN(a[l]);xD(t,l,c)}}function TD(t){return!!(Tn(t)&&t.add)}function km(t,e){const n=t.getValue("willChange");if(TD(n))return n.add(e)}function bT(t){return t.props[fT]}function Gg(t){let e;return()=>(e===void 0&&(e=t()),e)}const SD=Gg(()=>window.ScrollTimeline!==void 0);class kD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(SD()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ID extends kD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const Vi=t=>t*1e3,Li=t=>t/1e3;function Kg(t){return typeof t=="function"}function h_(t,e){t.timeline=e,t.onfinish=null}const Qg=t=>Array.isArray(t)&&typeof t[0]=="number",AD={linearEasing:void 0};function CD(t,e){const n=Gg(t);return()=>{var r;return(r=AD[e])!==null&&r!==void 0?r:n()}}const sf=CD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ba=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},PT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Ba(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function RT(t){return!!(typeof t=="function"&&sf()||!t||typeof t=="string"&&(t in Im||sf())||Qg(t)||Array.isArray(t)&&t.every(RT))}const iu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Im={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function NT(t,e){if(t)return typeof t=="function"&&sf()?PT(t,e):Qg(t)?iu(t):Array.isArray(t)?t.map(n=>NT(n,e)||Im.easeOut):Im[t]}const DT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bD=1e-7,PD=12;function RD(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=DT(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>bD&&++c<PD);return l}function Qu(t,e,n,r){if(t===e&&n===r)return er;const i=a=>RD(a,0,1,t,n);return a=>a===0||a===1?a:DT(i(a),e,r)}const VT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LT=t=>e=>1-t(1-e),MT=Qu(.33,1.53,.69,.99),Yg=LT(MT),OT=VT(Yg),FT=t=>(t*=2)<1?.5*Yg(t):.5*(2-Math.pow(2,-10*(t-1))),Xg=t=>1-Math.sin(Math.acos(t)),jT=LT(Xg),BT=VT(Xg),UT=t=>/^0[^.\s]+$/u.test(t);function ND(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UT(t):!0}const fu=t=>Math.round(t*1e5)/1e5,Jg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DD(t){return t==null}const VD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zg=(t,e)=>n=>!!(typeof n=="string"&&VD.test(n)&&n.startsWith(t)||e&&!DD(n)&&Object.prototype.hasOwnProperty.call(n,e)),zT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(Jg);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},LD=t=>Fi(0,255,t),Mp={...el,transform:t=>Math.round(LD(t))},vo={test:Zg("rgb","red"),parse:zT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mp.transform(t)+", "+Mp.transform(e)+", "+Mp.transform(n)+", "+fu(Au.transform(r))+")"};function MD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Am={test:Zg("#"),parse:MD,transform:vo.transform},ka={test:Zg("hsl","hue"),parse:zT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ti.transform(fu(e))+", "+ti.transform(fu(n))+", "+fu(Au.transform(r))+")"},_n={test:t=>vo.test(t)||Am.test(t)||ka.test(t),parse:t=>vo.test(t)?vo.parse(t):ka.test(t)?ka.parse(t):Am.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):ka.transform(t)},OD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(OD))===null||n===void 0?void 0:n.length)||0)>0}const $T="number",HT="color",jD="var",BD="var(",f_="${}",UD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(UD,h=>(_n.test(h)?(r.color.push(a),i.push(HT),n.push(_n.parse(h))):h.startsWith(BD)?(r.var.push(a),i.push(jD),n.push(h)):(r.number.push(a),i.push($T),n.push(parseFloat(h))),++a,f_)).split(f_);return{values:n,split:c,indexes:r,types:i}}function qT(t){return bu(t).values}function WT(t){const{split:e,types:n}=bu(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===$T?a+=fu(i[l]):c===HT?a+=_n.transform(i[l]):a+=i[l]}return a}}const zD=t=>typeof t=="number"?0:t;function $D(t){const e=qT(t);return WT(t)(e.map(zD))}const Ps={test:FD,parse:qT,createTransformer:WT,getAnimatableNone:$D},HD=new Set(["brightness","contrast","saturate","opacity"]);function qD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jg)||[];if(!r)return t;const i=n.replace(r,"");let a=HD.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const WD=/\b([a-z-]*)\(.*?\)/gu,Cm={...Ps,getAnimatableNone:t=>{const e=t.match(WD);return e?e.map(qD).join(" "):t}},GD={...Og,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:Cm,WebkitFilter:Cm},ey=t=>GD[t];function GT(t,e){let n=ey(t);return n!==Cm&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KD=new Set(["auto","none","0"]);function QD(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!KD.has(a)&&bu(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=GT(n,i)}const d_=t=>t===el||t===Le,p_=(t,e)=>parseFloat(t.split(", ")[e]),m_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return p_(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?p_(a[1],t):0}},YD=new Set(["x","y","z"]),XD=Za.filter(t=>!YD.has(t));function JD(t){const e=[];return XD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:m_(4,13),y:m_(5,14)};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const _o=new Set;let bm=!1,Pm=!1;function KT(){if(Pm){const t=Array.from(_o).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=JD(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pm=!1,bm=!1,_o.forEach(t=>t.complete()),_o.clear()}function QT(){_o.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pm=!0)})}function ZD(){QT(),KT()}class ty{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_o.add(this),bm||(bm=!0,Et.read(QT),Et.resolveKeyframes(KT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_o.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_o.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const YT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tV(t){const e=eV.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function XT(t,e,n=1){const[r,i]=tV(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return YT(l)?parseFloat(l):l}return Mg(i)?XT(i,e,n+1):i}const JT=t=>e=>e.test(t),nV={test:t=>t==="auto",parse:t=>t},ZT=[el,Le,ti,ys,JN,XN,nV],g_=t=>ZT.find(JT(t));class eS extends ty{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Mg(f))){const m=XT(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!AT.has(r)||e.length!==2)return;const[i,a]=e,l=g_(i),c=g_(a);if(l!==c)if(d_(l)&&d_(c))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)ND(e[i])&&r.push(i);r.length&&QD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Ua[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const y_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ps.test(t)||t==="0")&&!t.startsWith("url("));function rV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function iV(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=y_(i,e),c=y_(a,e);return!l||!c?!1:rV(t)||(n==="spring"||Kg(n))&&r}const sV=t=>t!==null;function Df(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(sV),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const oV=40;class tS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ZD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:f}=this.options;if(!f&&!iV(e,r,i,a))if(l)this.options.duration=0;else{h&&h(Df(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Rm=2e4;function nS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Rm;)e+=n,r=t.next(e);return e>=Rm?1/0:e}const Ct=(t,e,n)=>t+(e-t)*n;function Op(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;i=Op(h,c,t+1/3),a=Op(h,c,t),l=Op(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function of(t,e){return n=>n>0?e:t}const Fp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},lV=[Am,vo,ka],uV=t=>lV.find(e=>e.test(t));function v_(t){const e=uV(t);if(!e)return!1;let n=e.parse(t);return e===ka&&(n=aV(n)),n}const w_=(t,e)=>{const n=v_(t),r=v_(e);if(!n||!r)return of(t,e);const i={...n};return a=>(i.red=Fp(n.red,r.red,a),i.green=Fp(n.green,r.green,a),i.blue=Fp(n.blue,r.blue,a),i.alpha=Ct(n.alpha,r.alpha,a),vo.transform(i))},cV=(t,e)=>n=>e(t(n)),Yu=(...t)=>t.reduce(cV),Nm=new Set(["none","hidden"]);function hV(t,e){return Nm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fV(t,e){return n=>Ct(t,e,n)}function ny(t){return typeof t=="number"?fV:typeof t=="string"?Mg(t)?of:_n.test(t)?w_:mV:Array.isArray(t)?rS:typeof t=="object"?_n.test(t)?w_:dV:of}function rS(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>ny(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function dV(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ny(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function pV(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,i[l]++}return r}const mV=(t,e)=>{const n=Ps.createTransformer(e),r=bu(t),i=bu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Nm.has(t)&&!i.values.length||Nm.has(e)&&!r.values.length?hV(t,e):Yu(rS(pV(r,i),i.values),n):of(t,e)};function iS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):ny(t)(t,e)}const gV=5;function sS(t,e,n){const r=Math.max(e-gV,0);return CT(n-t(r),e-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jp=.001;function yV({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:r=Nt.mass}){let i,a,l=1-e;l=Fi(Nt.minDamping,Nt.maxDamping,l),t=Fi(Nt.minDuration,Nt.maxDuration,Li(t)),l<1?(i=f=>{const m=f*l,g=m*t,v=m-n,x=Dm(f,l),k=Math.exp(-g);return jp-v/x*k},a=f=>{const g=f*l*t,v=g*n+n,x=Math.pow(l,2)*Math.pow(f,2)*t,k=Math.exp(-g),R=Dm(Math.pow(f,2),l);return(-i(f)+jp>0?-1:1)*((v-x)*k)/R}):(i=f=>{const m=Math.exp(-f*t),g=(f-n)*t+1;return-jp+m*g},a=f=>{const m=Math.exp(-f*t),g=(n-f)*(t*t);return m*g});const c=5/t,h=wV(i,a,c);if(t=Vi(t),isNaN(h))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const vV=12;function wV(t,e,n){let r=n;for(let i=1;i<vV;i++)r=r-t(r)/e(r);return r}function Dm(t,e){return t*Math.sqrt(1-e*e)}const _V=["duration","bounce"],xV=["stiffness","damping","mass"];function __(t,e){return e.some(n=>t[n]!==void 0)}function EV(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!__(t,xV)&&__(t,_V))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Fi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Nt.mass,stiffness:i,damping:a}}else{const n=yV(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function oS(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:f,mass:m,duration:g,velocity:v,isResolvedFromDuration:x}=EV({...n,velocity:-Li(n.velocity||0)}),k=v||0,R=f/(2*Math.sqrt(h*m)),b=l-a,N=Li(Math.sqrt(h/m)),B=Math.abs(b)<5;r||(r=B?Nt.restSpeed.granular:Nt.restSpeed.default),i||(i=B?Nt.restDelta.granular:Nt.restDelta.default);let z;if(R<1){const Z=Dm(N,R);z=q=>{const M=Math.exp(-R*N*q);return l-M*((k+R*N*b)/Z*Math.sin(Z*q)+b*Math.cos(Z*q))}}else if(R===1)z=Z=>l-Math.exp(-N*Z)*(b+(k+N*b)*Z);else{const Z=N*Math.sqrt(R*R-1);z=q=>{const M=Math.exp(-R*N*q),A=Math.min(Z*q,300);return l-M*((k+R*N*b)*Math.sinh(A)+Z*b*Math.cosh(A))/Z}}const te={calculatedDuration:x&&g||null,next:Z=>{const q=z(Z);if(x)c.done=Z>=g;else{let M=0;R<1&&(M=Z===0?Vi(k):sS(z,Z,q));const A=Math.abs(M)<=r,V=Math.abs(l-q)<=i;c.done=A&&V}return c.value=c.done?l:q,c},toString:()=>{const Z=Math.min(nS(te),Rm),q=PT(M=>te.next(Z*M).value,Z,30);return Z+"ms "+q}};return te}function x_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:f=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},x=A=>c!==void 0&&A<c||h!==void 0&&A>h,k=A=>c===void 0?h:h===void 0||Math.abs(c-A)<Math.abs(h-A)?c:h;let R=n*e;const b=g+R,N=l===void 0?b:l(b);N!==b&&(R=N-g);const B=A=>-R*Math.exp(-A/r),z=A=>N+B(A),te=A=>{const V=B(A),I=z(A);v.done=Math.abs(V)<=f,v.value=v.done?N:I};let Z,q;const M=A=>{x(v.value)&&(Z=A,q=oS({keyframes:[v.value,k(v.value)],velocity:sS(z,A,v.value),damping:i,stiffness:a,restDelta:f,restSpeed:m}))};return M(0),{calculatedDuration:null,next:A=>{let V=!1;return!q&&Z===void 0&&(V=!0,te(A),M(A)),Z!==void 0&&A>=Z?q.next(A-Z):(!V&&te(A),v)}}}const TV=Qu(.42,0,1,1),SV=Qu(0,0,.58,1),aS=Qu(.42,0,.58,1),kV=t=>Array.isArray(t)&&typeof t[0]!="number",IV={linear:er,easeIn:TV,easeInOut:aS,easeOut:SV,circIn:Xg,circInOut:BT,circOut:jT,backIn:Yg,backInOut:OT,backOut:MT,anticipate:FT},E_=t=>{if(Qg(t)){aT(t.length===4);const[e,n,r,i]=t;return Qu(e,n,r,i)}else if(typeof t=="string")return IV[t];return t};function AV(t,e,n){const r=[],i=n||iS,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||er:e;c=Yu(h,c)}r.push(c)}return r}function CV(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(aT(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=AV(e,r,i),h=c.length,f=m=>{if(l&&m<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=Ba(t[g],t[g+1],m);return c[g](v)};return n?m=>f(Fi(t[0],t[a-1],m)):f}function bV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ba(0,e,r);t.push(Ct(n,1,i))}}function PV(t){const e=[0];return bV(e,t.length-1),e}function RV(t,e){return t.map(n=>n*e)}function NV(t,e){return t.map(()=>e||aS).splice(0,t.length-1)}function af({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=kV(r)?r.map(E_):E_(r),a={done:!1,value:e[0]},l=RV(n&&n.length===e.length?n:PV(e),t),c=CV(l,e,{ease:Array.isArray(i)?i:NV(e,i)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const DV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Et.update(e,!0),stop:()=>bs(e),now:()=>un.isProcessing?un.timestamp:ni.now()}},VV={decay:x_,inertia:x_,tween:af,keyframes:af,spring:oS},LV=t=>t/100;class ry extends tS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=i?.KeyframeResolver||ty,c=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=Kg(n)?n:VV[n]||af;let h,f;c!==af&&typeof e[0]!="number"&&(h=Yu(LV,iS(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(f=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=nS(m));const{calculatedDuration:g}=m,v=g+i,x=v*(r+1)-i;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:g,resolvedDuration:v,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:f,totalDuration:m,resolvedDuration:g}=r;if(this.startTime===null)return a.next(0);const{delay:v,repeat:x,repeatType:k,repeatDelay:R,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-v*(this.speed>=0?1:-1),B=this.speed>=0?N<0:N>m;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let z=this.currentTime,te=a;if(x){const A=Math.min(this.currentTime,m)/g;let V=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&V--,V=Math.min(V,x+1),!!(V%2)&&(k==="reverse"?(I=1-I,R&&(I-=R/g)):k==="mirror"&&(te=l)),z=Fi(0,1,I)*g}const Z=B?{done:!1,value:h[0]}:te.next(z);c&&(Z.value=c(Z.value));let{done:q}=Z;!B&&f!==null&&(q=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return M&&i!==void 0&&(Z.value=Df(h,this.options,i)),b&&b(Z.value),M&&this.finish(),Z}get duration(){const{resolved:e}=this;return e?Li(e.calculatedDuration):0}get time(){return Li(this.currentTime)}set time(e){e=Vi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=DV,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const MV=new Set(["opacity","clipPath","filter","transform"]);function OV(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const m=NT(c,i);return Array.isArray(m)&&(f.easing=m),t.animate(f,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const FV=Gg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lf=10,jV=2e4;function BV(t){return Kg(t.type)||t.type==="spring"||!RT(t.ease)}function UV(t,e){const n=new ry({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<jV;)r=n.sample(a),i.push(r.value),a+=lf;return{times:void 0,keyframes:i,duration:a-lf,ease:"linear"}}const lS={anticipate:FT,backInOut:OT,circInOut:BT};function zV(t){return t in lS}class T_ extends tS{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new eS(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:h,startTime:f}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&sf()&&zV(a)&&(a=lS[a]),BV(this.options)){const{onComplete:g,onUpdate:v,motionValue:x,element:k,...R}=this.options,b=UV(e,R);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,a=b.ease,l="keyframes"}const m=OV(c.owner.current,h,e,{...this.options,duration:r,times:i,ease:a});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(h_(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;c.set(Df(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Vi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return er;const{animation:r}=n;h_(r,e)}return er}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:g,element:v,...x}=this.options,k=new ry({...x,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),R=Vi(this.time);f.setWithVelocity(k.sample(R-lf).value,k.sample(R).value,lf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return FV()&&r&&MV.has(r)&&!h&&!f&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const $V={type:"spring",stiffness:500,damping:25,restSpeed:10},HV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qV={type:"keyframes",duration:.8},WV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GV=(t,{keyframes:e})=>e.length>2?qV:Co.has(t)?t.startsWith("scale")?HV(e[1]):$V:WV;function KV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const iy=(t,e,n,r={},i,a)=>l=>{const c=$g(r,t)||{},h=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Vi(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};KV(c)||(m={...m,...GV(t,m)}),m.duration&&(m.duration=Vi(m.duration)),m.repeatDelay&&(m.repeatDelay=Vi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const v=Df(m.keyframes,c);if(v!==void 0)return Et.update(()=>{m.onUpdate(v),m.onComplete()}),new ID([])}return!a&&T_.supports(m)?new T_(m):new ry(m)};function QV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in h){const v=t.getValue(g,(a=t.latestValues[g])!==null&&a!==void 0?a:null),x=h[g];if(x===void 0||m&&QV(m,g))continue;const k={delay:n,...$g(l||{},g)};let R=!1;if(window.MotionHandoffAnimation){const N=bT(t);if(N){const B=window.MotionHandoffAnimation(N,g,Et);B!==null&&(k.startTime=B,R=!0)}}km(t,g),v.start(iy(g,v,x,t.shouldReduceMotion&&AT.has(g)?{type:!1}:k,t,R));const b=v.animation;b&&f.push(b)}return c&&Promise.all(f).then(()=>{Et.update(()=>{c&&ED(t,c)})}),f}function Vm(t,e,n={}){var r;const i=Nf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(uS(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return YV(t,e,m+f,g,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,m]=h==="beforeChildren"?[l,c]:[c,l];return f().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function YV(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=i===1?(f=0)=>f*r:(f=0)=>c-f*r;return Array.from(t.variantChildren).sort(XV).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(Vm(f,e,{...a,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function XV(t,e){return t.sortNodePosition(e)}function JV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Vm(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Vm(t,e,n);else{const i=typeof e=="function"?Nf(t,e,n.custom):e;r=Promise.all(uS(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const ZV=Rg.length;function cS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZV;n++){const r=Rg[n],i=t.props[r];(Iu(i)||i===!1)&&(e[r]=i)}return e}const eL=[...Pg].reverse(),tL=Pg.length;function nL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JV(t,n,r)))}function rL(t){let e=nL(t),n=S_(),r=!0;const i=h=>(f,m)=>{var g;const v=Nf(t,m,h==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:x,transitionEnd:k,...R}=v;f={...f,...R,...k}}return f};function a(h){e=h(t)}function l(h){const{props:f}=t,m=cS(t.parent)||{},g=[],v=new Set;let x={},k=1/0;for(let b=0;b<tL;b++){const N=eL[b],B=n[N],z=f[N]!==void 0?f[N]:m[N],te=Iu(z),Z=N===h?B.isActive:null;Z===!1&&(k=b);let q=z===m[N]&&z!==f[N]&&te;if(q&&r&&t.manuallyAnimateOnMount&&(q=!1),B.protectedKeys={...x},!B.isActive&&Z===null||!z&&!B.prevProp||Pf(z)||typeof z=="boolean")continue;const M=iL(B.prevProp,z);let A=M||N===h&&B.isActive&&!q&&te||b>k&&te,V=!1;const I=Array.isArray(z)?z:[z];let L=I.reduce(i(N),{});Z===!1&&(L={});const{prevResolvedValues:j={}}=B,C={...j,...L},J=we=>{A=!0,v.has(we)&&(V=!0,v.delete(we)),B.needsAnimating[we]=!0;const ae=t.getValue(we);ae&&(ae.liveStyle=!1)};for(const we in C){const ae=L[we],ge=j[we];if(x.hasOwnProperty(we))continue;let D=!1;Sm(ae)&&Sm(ge)?D=!IT(ae,ge):D=ae!==ge,D?ae!=null?J(we):v.add(we):ae!==void 0&&v.has(we)?J(we):B.protectedKeys[we]=!0}B.prevProp=z,B.prevResolvedValues=L,B.isActive&&(x={...x,...L}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(q&&M)||V)&&g.push(...I.map(we=>({animation:we,options:{type:N}})))}if(v.size){const b={};v.forEach(N=>{const B=t.getBaseTarget(N),z=t.getValue(N);z&&(z.liveStyle=!0),b[N]=B??null}),g.push({animation:b})}let R=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(g):Promise.resolve()}function c(h,f){var m;if(n[h].isActive===f)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(h,f)}),n[h].isActive=f;const g=l(h);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=S_(),r=!0}}}function iL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IT(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S_(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Os{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sL extends Os{constructor(e){super(e),e.animationState||(e.animationState=rL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oL=0;class aL extends Os{constructor(){super(...arguments),this.id=oL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lL={animation:{Feature:sL},exit:{Feature:aL}},Cr={x:!1,y:!1};function hS(){return Cr.x||Cr.y}function uL(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}const sy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Pu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xu(t){return{point:{x:t.pageX,y:t.pageY}}}const cL=t=>e=>sy(e)&&t(e,Xu(e));function du(t,e,n,r){return Pu(t,e,cL(n),r)}const k_=(t,e)=>Math.abs(t-e);function hL(t,e){const n=k_(t.x,e.x),r=k_(t.y,e.y);return Math.sqrt(n**2+r**2)}class fS{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Up(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=hL(g.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:k}=g,{timestamp:R}=un;this.history.push({...k,timestamp:R});const{onStart:b,onMove:N}=this.handlers;v||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Bp(v,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:k,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Up(g.type==="pointercancel"?this.lastMoveEventInfo:Bp(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,b),k&&k(g,b)},!sy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Xu(e),c=Bp(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=un;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Up(c,this.history)),this.removeListeners=Yu(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function Bp(t,e){return e?{point:e(t.point)}:t}function I_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Up({point:t},e){return{point:t,delta:I_(t,dS(e)),offset:I_(t,fL(e)),velocity:dL(e,.1)}}function fL(t){return t[0]}function dS(t){return t[t.length-1]}function dL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=dS(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vi(e)));)n--;if(!r)return{x:0,y:0};const a=Li(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const pS=1e-4,pL=1-pS,mL=1+pS,mS=.01,gL=0-mS,yL=0+mS;function nr(t){return t.max-t.min}function vL(t,e,n){return Math.abs(t-e)<=n}function A_(t,e,n,r=.5){t.origin=r,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=nr(n)/nr(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pL&&t.scale<=mL||isNaN(t.scale))&&(t.scale=1),(t.translate>=gL&&t.translate<=yL||isNaN(t.translate))&&(t.translate=0)}function pu(t,e,n,r){A_(t.x,e.x,n.x,r?r.originX:void 0),A_(t.y,e.y,n.y,r?r.originY:void 0)}function C_(t,e,n){t.min=n.min+e.min,t.max=t.min+nr(e)}function wL(t,e,n){C_(t.x,e.x,n.x),C_(t.y,e.y,n.y)}function b_(t,e,n){t.min=e.min-n.min,t.max=t.min+nr(e)}function mu(t,e,n){b_(t.x,e.x,n.x),b_(t.y,e.y,n.y)}function _L(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ct(n,t,r.max):Math.min(t,n)),t}function P_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xL(t,{top:e,left:n,bottom:r,right:i}){return{x:P_(t.x,n,i),y:P_(t.y,e,r)}}function R_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function EL(t,e){return{x:R_(t.x,e.x),y:R_(t.y,e.y)}}function TL(t,e){let n=.5;const r=nr(t),i=nr(e);return i>r?n=Ba(e.min,e.max-r,t.min):r>i&&(n=Ba(t.min,t.max-i,e.min)),Fi(0,1,n)}function SL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lm=.35;function kL(t=Lm){return t===!1?t=0:t===!0&&(t=Lm),{x:N_(t,"left","right"),y:N_(t,"top","bottom")}}function N_(t,e,n){return{min:D_(t,e),max:D_(t,n)}}function D_(t,e){return typeof t=="number"?t:t[e]||0}const V_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ia=()=>({x:V_(),y:V_()}),L_=()=>({min:0,max:0}),Lt=()=>({x:L_(),y:L_()});function pr(t){return[t("x"),t("y")]}function gS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function IL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function zp(t){return t===void 0||t===1}function Mm({scale:t,scaleX:e,scaleY:n}){return!zp(t)||!zp(e)||!zp(n)}function mo(t){return Mm(t)||yS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yS(t){return M_(t.x)||M_(t.y)}function M_(t){return t&&t!=="0%"}function uf(t,e,n){const r=t-n,i=e*r;return n+i}function O_(t,e,n,r,i){return i!==void 0&&(t=uf(t,i,r)),uf(t,n,r)+e}function Om(t,e=0,n=1,r,i){t.min=O_(t.min,e,n,r,i),t.max=O_(t.max,e,n,r,i)}function vS(t,{x:e,y:n}){Om(t.x,e.translate,e.scale,e.originPoint),Om(t.y,n.translate,n.scale,n.originPoint)}const F_=.999999999999,j_=1.0000000000001;function CL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ca(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,vS(t,l)),r&&mo(a.latestValues)&&Ca(t,a.latestValues))}e.x<j_&&e.x>F_&&(e.x=1),e.y<j_&&e.y>F_&&(e.y=1)}function Aa(t,e){t.min=t.min+e,t.max=t.max+e}function B_(t,e,n,r,i=.5){const a=Ct(t.min,t.max,i);Om(t,e,n,a,r)}function Ca(t,e){B_(t.x,e.x,e.scaleX,e.scale,e.originX),B_(t.y,e.y,e.scaleY,e.scale,e.originY)}function wS(t,e){return gS(AL(t.getBoundingClientRect(),e))}function bL(t,e,n){const r=wS(t,n),{scroll:i}=e;return i&&(Aa(r.x,i.offset.x),Aa(r.y,i.offset.y)),r}const _S=({current:t})=>t?t.ownerDocument.defaultView:null,PL=new WeakMap;class RL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xu(m).point)},a=(m,g)=>{const{drag:v,dragPropagation:x,onDragStart:k}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uL(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(b=>{let N=this.getAxisMotionValue(b).get()||0;if(ti.test(N)){const{projection:B}=this.visualElement;if(B&&B.layout){const z=B.layout.layoutBox[b];z&&(N=nr(z)*(parseFloat(N)/100))}}this.originPoint[b]=N}),k&&Et.postRender(()=>k(m,g)),km(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:k,onDrag:R}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=g;if(x&&this.currentDirection===null){this.currentDirection=NL(b),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),R&&R(m,g)},c=(m,g)=>this.stop(m,g),h=()=>pr(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new fS(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:_S(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Et.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!xh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=_L(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Sa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=xL(i.layoutBox,n):this.constraints=!1,this.elastic=kL(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=SL(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=bL(r,i.root,this.visualElement.getTransformPagePoint());let l=EL(i.layout.layoutBox,a);if(n){const c=n(IL(l));this.hasMutatedConstraints=!!c,c&&(l=gS(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},f=pr(m=>{if(!xh(m,n,this.currentDirection))return;let g=h&&h[m]||{};l&&(g={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,k={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,k)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return km(this.visualElement,e),r.start(iy(e,r,0,n,this.visualElement,!1))}stopAnimation(){pr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pr(n=>{const{drag:r}=this.getProps();if(!xh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-Ct(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=TL({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pr(l=>{if(!xh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];c.set(Ct(h,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;PL.set(this.visualElement,this);const e=this.visualElement.current,n=du(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Sa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Et.read(r);const l=Pu(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(pr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=h[m].translate,g.set(g.get()+h[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Lm,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function xh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DL extends Os{constructor(e){super(e),this.removeGroupControls=er,this.removeListeners=er,this.controls=new RL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const U_=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class VL extends Os{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(e){this.session=new fS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_S(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:U_(e),onStart:U_(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Et.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function z_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Le.test(t))t=parseFloat(t);else return t;const n=z_(t,e.target.x),r=z_(t,e.target.y);return`${n}% ${r}%`}},LL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ps.parse(t);if(i.length>5)return r;const a=Ps.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const f=Ct(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};class ML extends he.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;lD(OL),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Et.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xS(t){const[e,n]=TN(),r=he.useContext(sT);return S.jsx(ML,{...t,layoutGroup:r,switchLayoutGroup:he.useContext(dT),isPresent:e,safeToRemove:n})}const OL={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:LL};function FL(t,e,n){const r=Tn(t)?t:Cu(t);return r.start(iy("",r,e,n)),r.animation}function jL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const BL=(t,e)=>t.depth-e.depth;class UL{constructor(){this.children=[],this.isDirty=!1}add(e){Hg(this.children,e),this.isDirty=!0}remove(e){qg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BL),this.isDirty=!1,this.children.forEach(e)}}function zL(t,e){const n=ni.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(bs(r),t(a-e))};return Et.read(r,!0),()=>bs(r)}const ES=["TopLeft","TopRight","BottomLeft","BottomRight"],$L=ES.length,$_=t=>typeof t=="string"?parseFloat(t):t,H_=t=>typeof t=="number"||Le.test(t);function HL(t,e,n,r,i,a){i?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,qL(r)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,WL(r))):a&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<$L;l++){const c=`border${ES[l]}Radius`;let h=q_(e,c),f=q_(n,c);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||H_(h)===H_(f)?(t[c]=Math.max(Ct($_(h),$_(f),r),0),(ti.test(f)||ti.test(h))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,r))}function q_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qL=TS(0,.5,jT),WL=TS(.5,.95,er);function TS(t,e,n){return r=>r<t?0:r>e?1:n(Ba(t,e,r))}function W_(t,e){t.min=e.min,t.max=e.max}function dr(t,e){W_(t.x,e.x),W_(t.y,e.y)}function G_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function K_(t,e,n,r,i){return t-=e,t=uf(t,1/n,r),i!==void 0&&(t=uf(t,1/i,r)),t}function GL(t,e=0,n=1,r=.5,i,a=t,l=t){if(ti.test(e)&&(e=parseFloat(e),e=Ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ct(a.min,a.max,r);t===a&&(c-=e),t.min=K_(t.min,e,n,c,i),t.max=K_(t.max,e,n,c,i)}function Q_(t,e,[n,r,i],a,l){GL(t,e[n],e[r],e[i],e.scale,a,l)}const KL=["x","scaleX","originX"],QL=["y","scaleY","originY"];function Y_(t,e,n,r){Q_(t.x,e,KL,n?n.x:void 0,r?r.x:void 0),Q_(t.y,e,QL,n?n.y:void 0,r?r.y:void 0)}function X_(t){return t.translate===0&&t.scale===1}function SS(t){return X_(t.x)&&X_(t.y)}function J_(t,e){return t.min===e.min&&t.max===e.max}function YL(t,e){return J_(t.x,e.x)&&J_(t.y,e.y)}function Z_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kS(t,e){return Z_(t.x,e.x)&&Z_(t.y,e.y)}function e0(t){return nr(t.x)/nr(t.y)}function t0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XL{constructor(){this.members=[]}add(e){Hg(this.members,e),e.scheduleRender()}remove(e){if(qg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JL(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:g,rotateY:v,skewX:x,skewY:k}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),x&&(r+=`skewX(${x}deg) `),k&&(r+=`skewY(${k}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const go={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},su=typeof window<"u"&&window.MotionDebug!==void 0,$p=["","X","Y","Z"],ZL={visibility:"hidden"},n0=1e3;let eM=0;function Hp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IS(r)}function AS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=eM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,su&&(go.totalNodes=go.resolvedTargetDeltas=go.recalculatedProjection=0),this.nodes.forEach(rM),this.nodes.forEach(lM),this.nodes.forEach(uM),this.nodes.forEach(iM),su&&window.MotionDebug.record(go)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new UL)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Wg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jL(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||h)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=zL(v,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(i0))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||m.getDefaultTransition()||pM,{onLayoutAnimationStart:b,onLayoutAnimationComplete:N}=m.getProps(),B=!this.targetLayout||!kS(this.targetLayout,k)||x,z=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,z);const te={...$g(R,"layout"),onPlay:b,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te)}else v||i0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(r0);return}this.isUpdating||this.nodes.forEach(oM),this.isUpdating=!1,this.nodes.forEach(aM),this.nodes.forEach(tM),this.nodes.forEach(nM),this.clearAllSnapshots();const c=ni.now();un.delta=Fi(0,1e3/60,c-un.timestamp),un.timestamp=c,un.isProcessing=!0,Lp.update.process(un),Lp.preRender.process(un),Lp.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sM),this.sharedNodes.forEach(hM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!SS(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(c||mo(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),mM(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Lt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(gM))){const{scroll:m}=this.root;m&&(Aa(h.x,m.offset.x),Aa(h.y,m.offset.y))}return h}removeElementScroll(l){var c;const h=Lt();if(dr(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&dr(h,l),Aa(h.x,g.offset.x),Aa(h.y,g.offset.y))}return h}applyTransform(l,c=!1){const h=Lt();dr(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ca(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),mo(m.latestValues)&&Ca(h,m.latestValues)}return mo(this.latestValues)&&Ca(h,this.latestValues),h}removeTransform(l){const c=Lt();dr(c,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!mo(f.latestValues))continue;Mm(f.latestValues)&&f.updateSnapshot();const m=Lt(),g=f.measurePageBox();dr(m,g),Y_(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return mo(this.latestValues)&&Y_(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),mu(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),vS(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),mu(this.relativeTargetOrigin,this.target,x.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}su&&go.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||yS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===un.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;dr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;CL(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Lt());const{target:k}=c;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(G_(this.prevProjectionDelta.x,this.projectionDelta.x),G_(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!t0(this.projectionDelta.x,this.prevProjectionDelta.x)||!t0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),su&&go.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ia(),this.projectionDelta=Ia(),this.projectionDeltaWithTransform=Ia()}setAnimationOrigin(l,c=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},g=Ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Lt(),x=h?h.source:void 0,k=this.layout?this.layout.source:void 0,R=x!==k,b=this.getStack(),N=!b||b.members.length<=1,B=!!(R&&!N&&this.options.crossfade===!0&&!this.path.some(dM));this.animationProgress=0;let z;this.mixTargetDelta=te=>{const Z=te/1e3;s0(g.x,l.x,Z),s0(g.y,l.y,Z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fM(this.relativeTarget,this.relativeTargetOrigin,v,Z),z&&YL(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Lt()),dr(z,this.relativeTarget)),R&&(this.animationValues=m,HL(m,f,this.latestValues,Z,B,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Fh.hasAnimatedSinceResize=!0,this.currentAnimation=FL(0,n0,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:f,latestValues:m}=l;if(!(!c||!h||!f)){if(this!==l&&this.layout&&f&&CS(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Lt();const g=nr(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const v=nr(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+v}dr(c,h),Ca(c,m),pu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new XL),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const f={};h.z&&Hp("z",l,f,this.animationValues);for(let m=0;m<$p.length;m++)Hp(`rotate${$p[m]}`,l,f,this.animationValues),Hp(`skew${$p[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZL;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Mh(l?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=Mh(l?.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(R.transform=m?m({},""):"none",this.hasProjected=!1),R}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=JL(this.projectionDeltaWithTransform,this.treeScale,v),m&&(f.transform=m(v,f.transform));const{x,y:k}=this.projectionDelta;f.transformOrigin=`${x.origin*100}% ${k.origin*100}% 0`,g.animationValues?f.opacity=g===this?(h=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in rf){if(v[R]===void 0)continue;const{correct:b,applyTo:N}=rf[R],B=f.transform==="none"?v[R]:b(v[R],g);if(N){const z=N.length;for(let te=0;te<z;te++)f[N[te]]=B}else f[R]=B}return this.options.layoutId&&(f.pointerEvents=g===this?Mh(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(r0),this.root.sharedNodes.clear()}}}function tM(t){t.updateLayout()}function nM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?pr(g=>{const v=l?n.measuredBox[g]:n.layoutBox[g],x=nr(v);v.min=r[g].min,v.max=v.min+x}):CS(a,n.layoutBox,r)&&pr(g=>{const v=l?n.measuredBox[g]:n.layoutBox[g],x=nr(r[g]);v.max=v.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const c=Ia();pu(c,r,n.layoutBox);const h=Ia();l?pu(h,t.applyTransform(i,!0),n.measuredBox):pu(h,r,n.layoutBox);const f=!SS(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:x}=g;if(v&&x){const k=Lt();mu(k,n.layoutBox,v.layoutBox);const R=Lt();mu(R,r,x.layoutBox),kS(k,R)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=k,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function rM(t){su&&go.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sM(t){t.clearSnapshot()}function r0(t){t.clearMeasurements()}function oM(t){t.isLayoutDirty=!1}function aM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function i0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lM(t){t.resolveTargetDelta()}function uM(t){t.calcProjection()}function cM(t){t.resetSkewAndRotation()}function hM(t){t.removeLeadSnapshot()}function s0(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function o0(t,e,n,r){t.min=Ct(e.min,n.min,r),t.max=Ct(e.max,n.max,r)}function fM(t,e,n,r){o0(t.x,e.x,n.x,r),o0(t.y,e.y,n.y,r)}function dM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pM={duration:.45,ease:[.4,0,.1,1]},a0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),l0=a0("applewebkit/")&&!a0("chrome/")?Math.round:er;function u0(t){t.min=l0(t.min),t.max=l0(t.max)}function mM(t){u0(t.x),u0(t.y)}function CS(t,e,n){return t==="position"||t==="preserve-aspect"&&!vL(e0(e),e0(n),.2)}function gM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const yM=AS({attachResizeListener:(t,e)=>Pu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qp={current:void 0},bS=AS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qp.current){const t=new yM({});t.mount(window),t.setOptions({layoutScroll:!0}),qp.current=t}return qp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vM={pan:{Feature:VL},drag:{Feature:DL,ProjectionNode:bS,MeasureLayout:xS}};function wM(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function PS(t,e){const n=wM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function c0(t){return e=>{e.pointerType==="touch"||hS()||t(e)}}function _M(t,e,n={}){const[r,i,a]=PS(t,n),l=c0(c=>{const{target:h}=c,f=e(c);if(typeof f!="function"||!h)return;const m=c0(g=>{f(g),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}function h0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Et.postRender(()=>a(e,Xu(e)))}class xM extends Os{mount(){const{current:e}=this.node;e&&(this.unmount=_M(e,n=>(h0(this.node,n,"Start"),r=>h0(this.node,r,"End"))))}unmount(){}}class EM extends Os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yu(Pu(this.node.current,"focus",()=>this.onFocus()),Pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const RS=(t,e)=>e?t===e?!0:RS(t,e.parentElement):!1,TM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SM(t){return TM.has(t.tagName)||t.tabIndex!==-1}const ou=new WeakSet;function f0(t){return e=>{e.key==="Enter"&&t(e)}}function Wp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=f0(()=>{if(ou.has(n))return;Wp(n,"down");const i=f0(()=>{Wp(n,"up")}),a=()=>Wp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function d0(t){return sy(t)&&!hS()}function IM(t,e,n={}){const[r,i,a]=PS(t,n),l=c=>{const h=c.currentTarget;if(!d0(c)||ou.has(h))return;ou.add(h);const f=e(c),m=(x,k)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!d0(x)||!ou.has(h))&&(ou.delete(h),typeof f=="function"&&f(x,{success:k}))},g=x=>{m(x,n.useGlobalTarget||RS(h,x.target))},v=x=>{m(x,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(c=>{!SM(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",f=>kM(f,i),i)}),a}function p0(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Et.postRender(()=>a(e,Xu(e)))}class AM extends Os{mount(){const{current:e}=this.node;e&&(this.unmount=IM(e,n=>(p0(this.node,n,"Start"),(r,{success:i})=>p0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fm=new WeakMap,Gp=new WeakMap,CM=t=>{const e=Fm.get(t.target);e&&e(t)},bM=t=>{t.forEach(CM)};function PM({root:t,...e}){const n=t||document;Gp.has(n)||Gp.set(n,{});const r=Gp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bM,{root:t,...e})),r[i]}function RM(t,e,n){const r=PM(e);return Fm.set(t,n),r.observe(t),()=>{Fm.delete(t),r.unobserve(t)}}const NM={some:0,all:1};class DM extends Os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:NM[i]},c=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=f?m:g;v&&v(h)};return RM(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VM(e,n))&&this.startObserver()}unmount(){}}function VM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const LM={inView:{Feature:DM},tap:{Feature:AM},focus:{Feature:EM},hover:{Feature:xM}},MM={layout:{ProjectionNode:bS,MeasureLayout:xS}},jm={current:null},NS={current:!1};function OM(){if(NS.current=!0,!!bg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jm.current=t.matches;t.addListener(e),e()}else jm.current=!1}const FM=[...ZT,_n,Ps],jM=t=>FM.find(JT(t)),m0=new WeakMap;function BM(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Tn(i))t.addValue(r,i);else if(Tn(a))t.addValue(r,Cu(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Cu(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const g0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ni.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Et.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Rf(n),this.isVariantNode=hT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in v){const k=v[x];h[x]!==void 0&&Tn(k)&&k.set(h[x],!1)}}mount(e){this.current=e,m0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),NS.current||OM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m0.delete(this.current),this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Co.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ja){const n=ja[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<g0.length;r++){const i=g0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=BM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(YT(i)||UT(i))?i=parseFloat(i):!jM(i)&&Ps.test(n)&&(i=GT(e,n)),this.setBaseTarget(e,Tn(i)?i.get():i)),Tn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=Lg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class DS extends UM{constructor(){super(...arguments),this.KeyframeResolver=eS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function zM(t){return window.getComputedStyle(t)}class $M extends DS{constructor(){super(...arguments),this.type="html",this.renderInstance=_T}readValueFromInstance(e,n){if(Co.has(n)){const r=ey(n);return r&&r.default||0}else{const r=zM(e),i=(yT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wS(e,n)}build(e,n,r){Fg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zg(e,n,r)}}class HM extends DS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Co.has(n)){const r=ey(n);return r&&r.default||0}return n=xT.has(n)?n:Ng(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ST(e,n,r)}build(e,n,r){jg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){ET(e,n,r,i)}mount(e){this.isSVGTag=Ug(e.tagName),super.mount(e)}}const qM=(t,e)=>Vg(t)?new HM(e):new $M(e,{allowProjection:t!==he.Fragment}),WM=yD({...lL,...LM,...vM,...MM},qM),xs=NN(WM);function GM(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const KM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YM={};function y0(t,e){return(YM.jsx?QM:KM).test(t)}const XM=/[ \t\n\f\r]/g;function JM(t){return typeof t=="object"?t.type==="text"?v0(t.value):!1:v0(t)}function v0(t){return t.replace(XM,"")===""}class Ju{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ju.prototype.normal={};Ju.prototype.property={};Ju.prototype.space=void 0;function VS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ju(n,r,e)}function Bm(t){return t.toLowerCase()}class Un{constructor(e,n){this.attribute=n,this.property=e}}Un.prototype.attribute="";Un.prototype.booleanish=!1;Un.prototype.boolean=!1;Un.prototype.commaOrSpaceSeparated=!1;Un.prototype.commaSeparated=!1;Un.prototype.defined=!1;Un.prototype.mustUseProperty=!1;Un.prototype.number=!1;Un.prototype.overloadedBoolean=!1;Un.prototype.property="";Un.prototype.spaceSeparated=!1;Un.prototype.space=void 0;let ZM=0;const He=bo(),$t=bo(),Um=bo(),fe=bo(),mt=bo(),Na=bo(),Jn=bo();function bo(){return 2**++ZM}const zm=Object.freeze(Object.defineProperty({__proto__:null,boolean:He,booleanish:$t,commaOrSpaceSeparated:Jn,commaSeparated:Na,number:fe,overloadedBoolean:Um,spaceSeparated:mt},Symbol.toStringTag,{value:"Module"})),Kp=Object.keys(zm);class oy extends Un{constructor(e,n,r,i){let a=-1;if(super(e,n),w0(this,"space",i),typeof r=="number")for(;++a<Kp.length;){const l=Kp[a];w0(this,Kp[a],(r&zm[l])===zm[l])}}}oy.prototype.defined=!0;function w0(t,e,n){n&&(t[e]=n)}function tl(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new oy(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Bm(r)]=r,n[Bm(a.attribute)]=r}return new Ju(e,n,t.space)}const LS=tl({properties:{ariaActiveDescendant:null,ariaAtomic:$t,ariaAutoComplete:null,ariaBusy:$t,ariaChecked:$t,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:mt,ariaCurrent:null,ariaDescribedBy:mt,ariaDetails:null,ariaDisabled:$t,ariaDropEffect:mt,ariaErrorMessage:null,ariaExpanded:$t,ariaFlowTo:mt,ariaGrabbed:$t,ariaHasPopup:null,ariaHidden:$t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mt,ariaLevel:fe,ariaLive:null,ariaModal:$t,ariaMultiLine:$t,ariaMultiSelectable:$t,ariaOrientation:null,ariaOwns:mt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:$t,ariaReadOnly:$t,ariaRelevant:null,ariaRequired:$t,ariaRoleDescription:mt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:$t,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function MS(t,e){return e in t?t[e]:e}function OS(t,e){return MS(t,e.toLowerCase())}const eO=tl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Na,acceptCharset:mt,accessKey:mt,action:null,allow:null,allowFullScreen:He,allowPaymentRequest:He,allowUserMedia:He,alt:null,as:null,async:He,autoCapitalize:null,autoComplete:mt,autoFocus:He,autoPlay:He,blocking:mt,capture:null,charSet:null,checked:He,cite:null,className:mt,cols:fe,colSpan:null,content:null,contentEditable:$t,controls:He,controlsList:mt,coords:fe|Na,crossOrigin:null,data:null,dateTime:null,decoding:null,default:He,defer:He,dir:null,dirName:null,disabled:He,download:Um,draggable:$t,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:He,formTarget:null,headers:mt,height:fe,hidden:Um,high:fe,href:null,hrefLang:null,htmlFor:mt,httpEquiv:mt,id:null,imageSizes:null,imageSrcSet:null,inert:He,inputMode:null,integrity:null,is:null,isMap:He,itemId:null,itemProp:mt,itemRef:mt,itemScope:He,itemType:mt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:He,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:He,muted:He,name:null,nonce:null,noModule:He,noValidate:He,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:He,optimum:fe,pattern:null,ping:mt,placeholder:null,playsInline:He,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:He,referrerPolicy:null,rel:mt,required:He,reversed:He,rows:fe,rowSpan:fe,sandbox:mt,scope:null,scoped:He,seamless:He,selected:He,shadowRootClonable:He,shadowRootDelegatesFocus:He,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:$t,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:He,useMap:null,value:$t,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:He,declare:He,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:He,noHref:He,noShade:He,noWrap:He,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:$t,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:He,disableRemotePlayback:He,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:OS}),tO=tl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Jn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:mt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:He,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Na,g2:Na,glyphName:Na,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:Jn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Jn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Jn,rev:Jn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Jn,requiredFeatures:Jn,requiredFonts:Jn,requiredFormats:Jn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:Jn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Jn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Jn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:MS}),FS=tl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),jS=tl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OS}),BS=tl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nO={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rO=/[A-Z]/g,_0=/-[a-z]/g,iO=/^data[-\w.:]+$/i;function sO(t,e){const n=Bm(e);let r=e,i=Un;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&iO.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(_0,aO);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!_0.test(a)){let l=a.replace(rO,oO);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=oy}return new i(r,e)}function oO(t){return"-"+t.toLowerCase()}function aO(t){return t.charAt(1).toUpperCase()}const lO=VS([LS,eO,FS,jS,BS],"html"),ay=VS([LS,tO,FS,jS,BS],"svg");function uO(t){return t.join(" ").trim()}var ya={},Qp,x0;function cO(){if(x0)return Qp;x0=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,f="/",m="*",g="",v="comment",x="declaration";function k(b,N){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];N=N||{};var B=1,z=1;function te(J){var ee=J.match(e);ee&&(B+=ee.length);var Ie=J.lastIndexOf(h);z=~Ie?J.length-Ie:z+J.length}function Z(){var J={line:B,column:z};return function(ee){return ee.position=new q(J),V(),ee}}function q(J){this.start=J,this.end={line:B,column:z},this.source=N.source}q.prototype.content=b;function M(J){var ee=new Error(N.source+":"+B+":"+z+": "+J);if(ee.reason=J,ee.filename=N.source,ee.line=B,ee.column=z,ee.source=b,!N.silent)throw ee}function A(J){var ee=J.exec(b);if(ee){var Ie=ee[0];return te(Ie),b=b.slice(Ie.length),ee}}function V(){A(n)}function I(J){var ee;for(J=J||[];ee=L();)ee!==!1&&J.push(ee);return J}function L(){var J=Z();if(!(f!=b.charAt(0)||m!=b.charAt(1))){for(var ee=2;g!=b.charAt(ee)&&(m!=b.charAt(ee)||f!=b.charAt(ee+1));)++ee;if(ee+=2,g===b.charAt(ee-1))return M("End of comment missing");var Ie=b.slice(2,ee-2);return z+=2,te(Ie),b=b.slice(ee),z+=2,J({type:v,comment:Ie})}}function j(){var J=Z(),ee=A(r);if(ee){if(L(),!A(i))return M("property missing ':'");var Ie=A(a),we=J({type:x,property:R(ee[0].replace(t,g)),value:Ie?R(Ie[0].replace(t,g)):g});return A(l),we}}function C(){var J=[];I(J);for(var ee;ee=j();)ee!==!1&&(J.push(ee),I(J));return J}return V(),C()}function R(b){return b?b.replace(c,g):g}return Qp=k,Qp}var E0;function hO(){if(E0)return ya;E0=1;var t=ya&&ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=n;const e=t(cO());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const l=(0,e.default)(r),c=typeof i=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:f,value:m}=h;c?i(f,m,h):m&&(a=a||{},a[f]=m)}),a}return ya}var Jl={},T0;function fO(){if(T0)return Jl;T0=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(f){return!f||n.test(f)||t.test(f)},l=function(f,m){return m.toUpperCase()},c=function(f,m){return"".concat(m,"-")},h=function(f,m){return m===void 0&&(m={}),a(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(i,c):f=f.replace(r,c),f.replace(e,l))};return Jl.camelCase=h,Jl}var Zl,S0;function dO(){if(S0)return Zl;S0=1;var t=Zl&&Zl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(hO()),n=fO();function r(i,a){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(c,h){c&&h&&(l[(0,n.camelCase)(c,a)]=h)}),l}return r.default=r,Zl=r,Zl}var pO=dO();const mO=oE(pO),US=zS("end"),ly=zS("start");function zS(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function gO(t){const e=ly(t),n=US(t);if(e&&n)return{start:e,end:n}}function gu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?k0(t.position):"start"in t||"end"in t?k0(t):"line"in t||"column"in t?$m(t):""}function $m(t){return I0(t&&t.line)+":"+I0(t&&t.column)}function k0(t){return $m(t&&t.start)+"-"+$m(t&&t.end)}function I0(t){return t&&typeof t=="number"?t:1}class An extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(l=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=gu(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const uy={}.hasOwnProperty,yO=new Map,vO=/[A-Z]/g,wO=new Set(["table","tbody","thead","tfoot","tr"]),_O=new Set(["td","th"]),$S="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xO(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bO(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=CO(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ay:lO,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=HS(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function HS(t,e,n){if(e.type==="element")return EO(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return TO(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return kO(t,e,n);if(e.type==="mdxjsEsm")return SO(t,e);if(e.type==="root")return IO(t,e,n);if(e.type==="text")return AO(t,e)}function EO(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ay,t.schema=i),t.ancestors.push(e);const a=WS(t,e.tagName,!1),l=PO(t,e);let c=hy(t,e);return wO.has(e.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!JM(h):!0})),qS(t,l,a,e),cy(l,c),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function TO(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ru(t,e.position)}function SO(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ru(t,e.position)}function kO(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=ay,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:WS(t,e.name,!0),l=RO(t,e),c=hy(t,e);return qS(t,l,a,e),cy(l,c),t.ancestors.pop(),t.schema=r,t.create(e,a,l,n)}function IO(t,e,n){const r={};return cy(r,hy(t,e)),t.create(e,t.Fragment,r,n)}function AO(t,e){return e.value}function qS(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function cy(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function CO(t,e,n){return r;function r(i,a,l,c){const f=Array.isArray(l.children)?n:e;return c?f(a,l,c):f(a,l)}}function bO(t,e){return n;function n(r,i,a,l){const c=Array.isArray(a.children),h=ly(r);return e(i,a,l,c,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function PO(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&uy.call(e.properties,i)){const a=NO(t,i,e.properties[i]);if(a){const[l,c]=a;t.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&_O.has(e.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function RO(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Ru(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else Ru(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function hy(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:yO;for(;++r<e.children.length;){const a=e.children[r];let l;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const f=i.get(h)||0;l=h+"-"+f,i.set(h,f+1)}}const c=HS(t,a,l);c!==void 0&&n.push(c)}return n}function NO(t,e,n){const r=sO(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?GM(n):uO(n)),r.property==="style"){let i=typeof n=="object"?n:DO(t,String(n));return t.stylePropertyNameCase==="css"&&(i=VO(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?nO[r.property]||r.property:r.attribute,n]}}function DO(t,e){try{return mO(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new An("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=$S+"#cannot-parse-style-attribute",i}}function WS(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,l;for(;++a<i.length;){const c=y0(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=y0(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return uy.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ru(t)}function Ru(t,e){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=$S+"#cannot-handle-mdx-estrees-without-createevaluater",n}function VO(t){const e={};let n;for(n in t)uy.call(t,n)&&(e[LO(n)]=t[n]);return e}function LO(t){let e=t.replace(vO,MO);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function MO(t){return"-"+t.toLowerCase()}const Yp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},OO={};function fy(t,e){const n=OO,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return GS(t,r,i)}function GS(t,e,n){if(FO(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return A0(t.children,e,n)}return Array.isArray(t)?A0(t,e,n):""}function A0(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=GS(t[i],e,n);return r.join("")}function FO(t){return!!(t&&typeof t=="object")}const C0=document.createElement("i");function dy(t){const e="&"+t+";";C0.innerHTML=e;const n=C0.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function tr(t,e,n,r){const i=t.length;let a=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}function mr(t,e){return t.length>0?(tr(t,t.length,0,e),t):e}const b0={}.hasOwnProperty;function KS(t){const e={};let n=-1;for(;++n<t.length;)jO(e,t[n]);return e}function jO(t,e){let n;for(n in e){const i=(b0.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let l;if(a)for(l in a){b0.call(i,l)||(i[l]=[]);const c=a[l];BO(i[l],Array.isArray(c)?c:c?[c]:[])}}}function BO(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);tr(t,0,0,r)}function QS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Nr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Nn=Fs(/[A-Za-z]/),Sn=Fs(/[\dA-Za-z]/),UO=Fs(/[#-'*+\--9=?A-Z^-~]/);function cf(t){return t!==null&&(t<32||t===127)}const Hm=Fs(/\d/),zO=Fs(/[\dA-Fa-f]/),$O=Fs(/[!-/:-@[-`{-~]/);function Ve(t){return t!==null&&t<-2}function ct(t){return t!==null&&(t<0||t===32)}function Ke(t){return t===-2||t===-1||t===32}const Vf=Fs(/\p{P}|\p{S}/u),ko=Fs(/\s/);function Fs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function nl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let l="";if(a===37&&Sn(t.charCodeAt(n+1))&&Sn(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),i=1):l=""}else l=String.fromCharCode(a);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function tt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(h){return Ke(h)?(t.enter(n),c(h)):e(h)}function c(h){return Ke(h)&&a++<i?(t.consume(h),c):(t.exit(n),e(h))}}const HO={tokenize:qO};function qO(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),tt(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Ve(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}const WO={tokenize:GO},P0={tokenize:KO};function GO(t){const e=this,n=[];let r=0,i,a,l;return c;function c(z){if(r<n.length){const te=n[r];return e.containerState=te[1],t.attempt(te[0].continuation,h,f)(z)}return f(z)}function h(z){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&B();const te=e.events.length;let Z=te,q;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){q=e.events[Z][1].end;break}N(r);let M=te;for(;M<e.events.length;)e.events[M][1].end={...q},M++;return tr(e.events,Z+1,0,e.events.slice(te)),e.events.length=M,f(z)}return c(z)}function f(z){if(r===n.length){if(!i)return v(z);if(i.currentConstruct&&i.currentConstruct.concrete)return k(z);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(P0,m,g)(z)}function m(z){return i&&B(),N(r),v(z)}function g(z){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,k(z)}function v(z){return e.containerState={},t.attempt(P0,x,k)(z)}function x(z){return r++,n.push([e.currentConstruct,e.containerState]),v(z)}function k(z){if(z===null){i&&B(),N(0),t.consume(z);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),R(z)}function R(z){if(z===null){b(t.exit("chunkFlow"),!0),N(0),t.consume(z);return}return Ve(z)?(t.consume(z),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(z),R)}function b(z,te){const Z=e.sliceStream(z);if(te&&Z.push(null),z.previous=a,a&&(a.next=z),a=z,i.defineSkip(z.start),i.write(Z),e.parser.lazy[z.start.line]){let q=i.events.length;for(;q--;)if(i.events[q][1].start.offset<l&&(!i.events[q][1].end||i.events[q][1].end.offset>l))return;const M=e.events.length;let A=M,V,I;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(V){I=e.events[A][1].end;break}V=!0}for(N(r),q=M;q<e.events.length;)e.events[q][1].end={...I},q++;tr(e.events,A+1,0,e.events.slice(M)),e.events.length=q}}function N(z){let te=n.length;for(;te-- >z;){const Z=n[te];e.containerState=Z[1],Z[0].exit.call(e,t)}n.length=z}function B(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function KO(t,e,n){return tt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function za(t){if(t===null||ct(t)||ko(t))return 1;if(Vf(t))return 2}function Lf(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const qm={name:"attention",resolveAll:QO,tokenize:YO};function QO(t,e){let n=-1,r,i,a,l,c,h,f,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},v={...t[n][1].start};R0(g,-h),R0(v,h),l={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},a={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=mr(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=mr(f,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",a,e]]),f=mr(f,Lf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=mr(f,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,f=mr(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,tr(t,r-1,n-r+3,f),n=r+f.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function YO(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=za(r);let a;return l;function l(h){return a=h,t.enter("attentionSequence"),c(h)}function c(h){if(h===a)return t.consume(h),c;const f=t.exit("attentionSequence"),m=za(h),g=!m||m===2&&i||n.includes(h),v=!i||i===2&&m||n.includes(r);return f._open=!!(a===42?g:g&&(i||!v)),f._close=!!(a===42?v:v&&(m||!g)),e(h)}}function R0(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const XO={name:"autolink",tokenize:JO};function JO(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(x){return Nn(x)?(t.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||Sn(x)?(r=1,c(x)):f(x)}function c(x){return x===58?(t.consume(x),r=0,h):(x===43||x===45||x===46||Sn(x))&&r++<32?(t.consume(x),c):(r=0,f(x))}function h(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||cf(x)?n(x):(t.consume(x),h)}function f(x){return x===64?(t.consume(x),m):UO(x)?(t.consume(x),f):n(x)}function m(x){return Sn(x)?g(x):n(x)}function g(x){return x===46?(t.consume(x),r=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):v(x)}function v(x){if((x===45||Sn(x))&&r++<63){const k=x===45?v:g;return t.consume(x),k}return n(x)}}const Zu={partial:!0,tokenize:ZO};function ZO(t,e,n){return r;function r(a){return Ke(a)?tt(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ve(a)?e(a):n(a)}}const YS={continuation:{tokenize:t4},exit:n4,name:"blockQuote",tokenize:e4};function e4(t,e,n){const r=this;return i;function i(l){if(l===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return Ke(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function t4(t,e,n){const r=this;return i;function i(l){return Ke(l)?tt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(YS,e,n)(l)}}function n4(t){t.exit("blockQuote")}const XS={name:"characterEscape",tokenize:r4};function r4(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return $O(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const JS={name:"characterReference",tokenize:i4};function i4(t,e,n){const r=this;let i=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),h}function h(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,l=Sn,m(g))}function f(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=zO,m):(t.enter("characterReferenceValue"),a=7,l=Hm,m(g))}function m(g){if(g===59&&i){const v=t.exit("characterReferenceValue");return l===Sn&&!dy(r.sliceSerialize(v))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&i++<a?(t.consume(g),m):n(g)}}const N0={partial:!0,tokenize:o4},D0={concrete:!0,name:"codeFenced",tokenize:s4};function s4(t,e,n){const r=this,i={partial:!0,tokenize:Z};let a=0,l=0,c;return h;function h(q){return f(q)}function f(q){const M=r.events[r.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=q,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(q)}function m(q){return q===c?(l++,t.consume(q),m):l<3?n(q):(t.exit("codeFencedFenceSequence"),Ke(q)?tt(t,g,"whitespace")(q):g(q))}function g(q){return q===null||Ve(q)?(t.exit("codeFencedFence"),r.interrupt?e(q):t.check(N0,R,te)(q)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(q))}function v(q){return q===null||Ve(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(q)):Ke(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),tt(t,x,"whitespace")(q)):q===96&&q===c?n(q):(t.consume(q),v)}function x(q){return q===null||Ve(q)?g(q):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),k(q))}function k(q){return q===null||Ve(q)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(q)):q===96&&q===c?n(q):(t.consume(q),k)}function R(q){return t.attempt(i,te,b)(q)}function b(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),N}function N(q){return a>0&&Ke(q)?tt(t,B,"linePrefix",a+1)(q):B(q)}function B(q){return q===null||Ve(q)?t.check(N0,R,te)(q):(t.enter("codeFlowValue"),z(q))}function z(q){return q===null||Ve(q)?(t.exit("codeFlowValue"),B(q)):(t.consume(q),z)}function te(q){return t.exit("codeFenced"),e(q)}function Z(q,M,A){let V=0;return I;function I(ee){return q.enter("lineEnding"),q.consume(ee),q.exit("lineEnding"),L}function L(ee){return q.enter("codeFencedFence"),Ke(ee)?tt(q,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):j(ee)}function j(ee){return ee===c?(q.enter("codeFencedFenceSequence"),C(ee)):A(ee)}function C(ee){return ee===c?(V++,q.consume(ee),C):V>=l?(q.exit("codeFencedFenceSequence"),Ke(ee)?tt(q,J,"whitespace")(ee):J(ee)):A(ee)}function J(ee){return ee===null||Ve(ee)?(q.exit("codeFencedFence"),M(ee)):A(ee)}}}function o4(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const Xp={name:"codeIndented",tokenize:l4},a4={partial:!0,tokenize:u4};function l4(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),tt(t,a,"linePrefix",5)(f)}function a(f){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):Ve(f)?t.attempt(a4,l,h)(f):(t.enter("codeFlowValue"),c(f))}function c(f){return f===null||Ve(f)?(t.exit("codeFlowValue"),l(f)):(t.consume(f),c)}function h(f){return t.exit("codeIndented"),e(f)}}function u4(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Ve(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):tt(t,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Ve(l)?i(l):n(l)}}const c4={name:"codeText",previous:f4,resolve:h4,tokenize:d4};function h4(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function f4(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function d4(t,e,n){let r=0,i,a;return l;function l(g){return t.enter("codeText"),t.enter("codeTextSequence"),c(g)}function c(g){return g===96?(t.consume(g),r++,c):(t.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),h):g===96?(a=t.enter("codeTextSequence"),i=0,m(g)):Ve(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Ve(g)?(t.exit("codeTextData"),h(g)):(t.consume(g),f)}function m(g){return g===96?(t.consume(g),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(a.type="codeTextData",f(g))}}class p4{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&eu(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),eu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),eu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);eu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);eu(this.left,n.reverse())}}}function eu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function ZS(t){const e={};let n=-1,r,i,a,l,c,h,f;const m=new p4(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,m4(m,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(l=m.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},c=m.slice(i,n),c.unshift(r),m.splice(i,n-i+1,c))}}return tr(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function m4(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,h=[],f={};let m,g,v=-1,x=n,k=0,R=0;const b=[R];for(;x;){for(;t.get(++i)[1]!==x;);a.push(i),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),g&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(R=v+1,b.push(R),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):b.pop(),v=b.length;v--;){const N=c.slice(b[v],b[v+1]),B=a.pop();h.push([B,B+N.length-1]),t.splice(B,2,N)}for(h.reverse(),v=-1;++v<h.length;)f[k+h[v][0]]=k+h[v][1],k+=h[v][1]-h[v][0]-1;return f}const g4={resolve:v4,tokenize:w4},y4={partial:!0,tokenize:_4};function v4(t){return ZS(t),t}function w4(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):Ve(c)?t.check(y4,l,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function _4(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),tt(t,a,"linePrefix")}function a(l){if(l===null||Ve(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function ek(t,e,n,r,i,a,l,c,h){const f=h||Number.POSITIVE_INFINITY;let m=0;return g;function g(N){return N===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(N),t.exit(a),v):N===null||N===32||N===41||cf(N)?n(N):(t.enter(r),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),R(N))}function v(N){return N===62?(t.enter(a),t.consume(N),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===62?(t.exit("chunkString"),t.exit(c),v(N)):N===null||N===60||Ve(N)?n(N):(t.consume(N),N===92?k:x)}function k(N){return N===60||N===62||N===92?(t.consume(N),x):x(N)}function R(N){return!m&&(N===null||N===41||ct(N))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(r),e(N)):m<f&&N===40?(t.consume(N),m++,R):N===41?(t.consume(N),m--,R):N===null||N===32||N===40||cf(N)?n(N):(t.consume(N),N===92?b:R)}function b(N){return N===40||N===41||N===92?(t.consume(N),R):R(N)}}function tk(t,e,n,r,i,a){const l=this;let c=0,h;return f;function f(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(a),m}function m(x){return c>999||x===null||x===91||x===93&&!h||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(t.exit(a),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):Ve(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||Ve(x)||c++>999?(t.exit("chunkString"),m(x)):(t.consume(x),h||(h=!Ke(x)),x===92?v:g)}function v(x){return x===91||x===92||x===93?(t.consume(x),c++,g):g(x)}}function nk(t,e,n,r,i,a){let l;return c;function c(v){return v===34||v===39||v===40?(t.enter(r),t.enter(i),t.consume(v),t.exit(i),l=v===40?41:v,h):n(v)}function h(v){return v===l?(t.enter(i),t.consume(v),t.exit(i),t.exit(r),e):(t.enter(a),f(v))}function f(v){return v===l?(t.exit(a),h(l)):v===null?n(v):Ve(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),tt(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===l||v===null||Ve(v)?(t.exit("chunkString"),f(v)):(t.consume(v),v===92?g:m)}function g(v){return v===l||v===92?(t.consume(v),m):m(v)}}function yu(t,e){let n;return r;function r(i){return Ve(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ke(i)?tt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const x4={name:"definition",tokenize:T4},E4={partial:!0,tokenize:S4};function T4(t,e,n){const r=this;let i;return a;function a(x){return t.enter("definition"),l(x)}function l(x){return tk.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return i=Nr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),h):n(x)}function h(x){return ct(x)?yu(t,f)(x):f(x)}function f(x){return ek(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(E4,g,g)(x)}function g(x){return Ke(x)?tt(t,v,"whitespace")(x):v(x)}function v(x){return x===null||Ve(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function S4(t,e,n){return r;function r(c){return ct(c)?yu(t,i)(c):n(c)}function i(c){return nk(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return Ke(c)?tt(t,l,"whitespace")(c):l(c)}function l(c){return c===null||Ve(c)?e(c):n(c)}}const k4={name:"hardBreakEscape",tokenize:I4};function I4(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return Ve(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const A4={name:"headingAtx",resolve:C4,tokenize:b4};function C4(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},tr(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function b4(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&r++<6?(t.consume(m),l):m===null||ct(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||Ve(m)?(t.exit("atxHeading"),e(m)):Ke(m)?tt(t,c,"whitespace")(m):(t.enter("atxHeadingText"),f(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),c(m))}function f(m){return m===null||m===35||ct(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),f)}}const P4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],V0=["pre","script","style","textarea"],R4={concrete:!0,name:"htmlFlow",resolveTo:V4,tokenize:L4},N4={partial:!0,tokenize:O4},D4={partial:!0,tokenize:M4};function V4(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function L4(t,e,n){const r=this;let i,a,l,c,h;return f;function f(O){return m(O)}function m(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),g}function g(O){return O===33?(t.consume(O),v):O===47?(t.consume(O),a=!0,R):O===63?(t.consume(O),i=3,r.interrupt?e:D):Nn(O)?(t.consume(O),l=String.fromCharCode(O),b):n(O)}function v(O){return O===45?(t.consume(O),i=2,x):O===91?(t.consume(O),i=5,c=0,k):Nn(O)?(t.consume(O),i=4,r.interrupt?e:D):n(O)}function x(O){return O===45?(t.consume(O),r.interrupt?e:D):n(O)}function k(O){const Ae="CDATA[";return O===Ae.charCodeAt(c++)?(t.consume(O),c===Ae.length?r.interrupt?e:j:k):n(O)}function R(O){return Nn(O)?(t.consume(O),l=String.fromCharCode(O),b):n(O)}function b(O){if(O===null||O===47||O===62||ct(O)){const Ae=O===47,Fe=l.toLowerCase();return!Ae&&!a&&V0.includes(Fe)?(i=1,r.interrupt?e(O):j(O)):P4.includes(l.toLowerCase())?(i=6,Ae?(t.consume(O),N):r.interrupt?e(O):j(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):a?B(O):z(O))}return O===45||Sn(O)?(t.consume(O),l+=String.fromCharCode(O),b):n(O)}function N(O){return O===62?(t.consume(O),r.interrupt?e:j):n(O)}function B(O){return Ke(O)?(t.consume(O),B):I(O)}function z(O){return O===47?(t.consume(O),I):O===58||O===95||Nn(O)?(t.consume(O),te):Ke(O)?(t.consume(O),z):I(O)}function te(O){return O===45||O===46||O===58||O===95||Sn(O)?(t.consume(O),te):Z(O)}function Z(O){return O===61?(t.consume(O),q):Ke(O)?(t.consume(O),Z):z(O)}function q(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),h=O,M):Ke(O)?(t.consume(O),q):A(O)}function M(O){return O===h?(t.consume(O),h=null,V):O===null||Ve(O)?n(O):(t.consume(O),M)}function A(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||ct(O)?Z(O):(t.consume(O),A)}function V(O){return O===47||O===62||Ke(O)?z(O):n(O)}function I(O){return O===62?(t.consume(O),L):n(O)}function L(O){return O===null||Ve(O)?j(O):Ke(O)?(t.consume(O),L):n(O)}function j(O){return O===45&&i===2?(t.consume(O),Ie):O===60&&i===1?(t.consume(O),we):O===62&&i===4?(t.consume(O),H):O===63&&i===3?(t.consume(O),D):O===93&&i===5?(t.consume(O),ge):Ve(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(N4,ne,C)(O)):O===null||Ve(O)?(t.exit("htmlFlowData"),C(O)):(t.consume(O),j)}function C(O){return t.check(D4,J,ne)(O)}function J(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),ee}function ee(O){return O===null||Ve(O)?C(O):(t.enter("htmlFlowData"),j(O))}function Ie(O){return O===45?(t.consume(O),D):j(O)}function we(O){return O===47?(t.consume(O),l="",ae):j(O)}function ae(O){if(O===62){const Ae=l.toLowerCase();return V0.includes(Ae)?(t.consume(O),H):j(O)}return Nn(O)&&l.length<8?(t.consume(O),l+=String.fromCharCode(O),ae):j(O)}function ge(O){return O===93?(t.consume(O),D):j(O)}function D(O){return O===62?(t.consume(O),H):O===45&&i===2?(t.consume(O),D):j(O)}function H(O){return O===null||Ve(O)?(t.exit("htmlFlowData"),ne(O)):(t.consume(O),H)}function ne(O){return t.exit("htmlFlow"),e(O)}}function M4(t,e,n){const r=this;return i;function i(l){return Ve(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function O4(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Zu,e,n)}}const F4={name:"htmlText",tokenize:j4};function j4(t,e,n){const r=this;let i,a,l;return c;function c(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),Z):D===63?(t.consume(D),z):Nn(D)?(t.consume(D),A):n(D)}function f(D){return D===45?(t.consume(D),m):D===91?(t.consume(D),a=0,k):Nn(D)?(t.consume(D),B):n(D)}function m(D){return D===45?(t.consume(D),x):n(D)}function g(D){return D===null?n(D):D===45?(t.consume(D),v):Ve(D)?(l=g,we(D)):(t.consume(D),g)}function v(D){return D===45?(t.consume(D),x):g(D)}function x(D){return D===62?Ie(D):D===45?v(D):g(D)}function k(D){const H="CDATA[";return D===H.charCodeAt(a++)?(t.consume(D),a===H.length?R:k):n(D)}function R(D){return D===null?n(D):D===93?(t.consume(D),b):Ve(D)?(l=R,we(D)):(t.consume(D),R)}function b(D){return D===93?(t.consume(D),N):R(D)}function N(D){return D===62?Ie(D):D===93?(t.consume(D),N):R(D)}function B(D){return D===null||D===62?Ie(D):Ve(D)?(l=B,we(D)):(t.consume(D),B)}function z(D){return D===null?n(D):D===63?(t.consume(D),te):Ve(D)?(l=z,we(D)):(t.consume(D),z)}function te(D){return D===62?Ie(D):z(D)}function Z(D){return Nn(D)?(t.consume(D),q):n(D)}function q(D){return D===45||Sn(D)?(t.consume(D),q):M(D)}function M(D){return Ve(D)?(l=M,we(D)):Ke(D)?(t.consume(D),M):Ie(D)}function A(D){return D===45||Sn(D)?(t.consume(D),A):D===47||D===62||ct(D)?V(D):n(D)}function V(D){return D===47?(t.consume(D),Ie):D===58||D===95||Nn(D)?(t.consume(D),I):Ve(D)?(l=V,we(D)):Ke(D)?(t.consume(D),V):Ie(D)}function I(D){return D===45||D===46||D===58||D===95||Sn(D)?(t.consume(D),I):L(D)}function L(D){return D===61?(t.consume(D),j):Ve(D)?(l=L,we(D)):Ke(D)?(t.consume(D),L):V(D)}function j(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),i=D,C):Ve(D)?(l=j,we(D)):Ke(D)?(t.consume(D),j):(t.consume(D),J)}function C(D){return D===i?(t.consume(D),i=void 0,ee):D===null?n(D):Ve(D)?(l=C,we(D)):(t.consume(D),C)}function J(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||ct(D)?V(D):(t.consume(D),J)}function ee(D){return D===47||D===62||ct(D)?V(D):n(D)}function Ie(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function we(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),ae}function ae(D){return Ke(D)?tt(t,ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):ge(D)}function ge(D){return t.enter("htmlTextData"),l(D)}}const py={name:"labelEnd",resolveAll:$4,resolveTo:H4,tokenize:q4},B4={tokenize:W4},U4={tokenize:G4},z4={tokenize:K4};function $4(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&tr(t,0,t.length,n),t}function H4(t,e){let n=t.length,r=0,i,a,l,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},f={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",h,e],["enter",f,e]],c=mr(c,t.slice(a+1,a+r+3)),c=mr(c,[["enter",m,e]]),c=mr(c,Lf(e.parser.constructs.insideSpan.null,t.slice(a+r+4,l-3),e)),c=mr(c,[["exit",m,e],t[l-2],t[l-1],["exit",f,e]]),c=mr(c,t.slice(l+1)),c=mr(c,[["exit",h,e]]),tr(t,a,t.length,c),t}function q4(t,e,n){const r=this;let i=r.events.length,a,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(v){return a?a._inactive?g(v):(l=r.parser.defined.includes(Nr(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),h):n(v)}function h(v){return v===40?t.attempt(B4,m,l?m:g)(v):v===91?t.attempt(U4,m,l?f:g)(v):l?m(v):g(v)}function f(v){return t.attempt(z4,m,g)(v)}function m(v){return e(v)}function g(v){return a._balanced=!0,n(v)}}function W4(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return ct(g)?yu(t,a)(g):a(g)}function a(g){return g===41?m(g):ek(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return ct(g)?yu(t,h)(g):m(g)}function c(g){return n(g)}function h(g){return g===34||g===39||g===40?nk(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function f(g){return ct(g)?yu(t,m)(g):m(g)}function m(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function G4(t,e,n){const r=this;return i;function i(c){return tk.call(r,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Nr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}function K4(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const Q4={name:"labelStartImage",resolveAll:py.resolveAll,tokenize:Y4};function Y4(t,e,n){const r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const X4={name:"labelStartLink",resolveAll:py.resolveAll,tokenize:J4};function J4(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Jp={name:"lineEnding",tokenize:Z4};function Z4(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),tt(t,e,"linePrefix")}}const jh={name:"thematicBreak",tokenize:eF};function eF(t,e,n){let r=0,i;return a;function a(f){return t.enter("thematicBreak"),l(f)}function l(f){return i=f,c(f)}function c(f){return f===i?(t.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||Ve(f))?(t.exit("thematicBreak"),e(f)):n(f)}function h(f){return f===i?(t.consume(f),r++,h):(t.exit("thematicBreakSequence"),Ke(f)?tt(t,c,"whitespace")(f):c(f))}}const jn={continuation:{tokenize:iF},exit:oF,name:"list",tokenize:rF},tF={partial:!0,tokenize:aF},nF={partial:!0,tokenize:sF};function rF(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(x){const k=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Hm(x)){if(r.containerState.type||(r.containerState.type=k,t.enter(k,{_container:!0})),k==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(jh,n,f)(x):f(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(x)}return n(x)}function h(x){return Hm(x)&&++l<10?(t.consume(x),h):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),f(x)):n(x)}function f(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(Zu,r.interrupt?n:m,t.attempt(tF,v,g))}function m(x){return r.containerState.initialBlankLine=!0,a++,v(x)}function g(x){return Ke(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),v):n(x)}function v(x){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function iF(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Zu,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,tt(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!Ke(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(nF,e,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,tt(t,t.attempt(jn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function sF(t,e,n){const r=this;return tt(t,i,"listItemIndent",r.containerState.size+1);function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(a):n(a)}}function oF(t){t.exit(this.containerState.type)}function aF(t,e,n){const r=this;return tt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const l=r.events[r.events.length-1];return!Ke(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const L0={name:"setextUnderline",resolveTo:lF,tokenize:uF};function lF(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",l,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function uF(t,e,n){const r=this;let i;return a;function a(f){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return t.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===i?(t.consume(f),c):(t.exit("setextHeadingLineSequence"),Ke(f)?tt(t,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Ve(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const cF={tokenize:hF};function hF(t){const e=this,n=t.attempt(Zu,r,t.attempt(this.parser.constructs.flowInitial,i,tt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(g4,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const fF={resolveAll:ik()},dF=rk("string"),pF=rk("text");function rk(t){return{resolveAll:ik(t==="text"?mF:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,l,c);return l;function l(m){return f(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return f(m)?(n.exit("data"),a(m)):(n.consume(m),h)}function f(m){if(m===null)return!0;const g=i[m];let v=-1;if(g)for(;++v<g.length;){const x=g[v];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function ik(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function mF(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,l=-1,c=0,h;for(;a--;){const f=i[a];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)h=!0,c++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const f={type:n===t.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}const gF={42:jn,43:jn,45:jn,48:jn,49:jn,50:jn,51:jn,52:jn,53:jn,54:jn,55:jn,56:jn,57:jn,62:YS},yF={91:x4},vF={[-2]:Xp,[-1]:Xp,32:Xp},wF={35:A4,42:jh,45:[L0,jh],60:R4,61:L0,95:jh,96:D0,126:D0},_F={38:JS,92:XS},xF={[-5]:Jp,[-4]:Jp,[-3]:Jp,33:Q4,38:JS,42:qm,60:[XO,F4],91:X4,92:[k4,XS],93:py,95:qm,96:c4},EF={null:[qm,fF]},TF={null:[42,95]},SF={null:[]},kF=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TF,contentInitial:yF,disable:SF,document:gF,flow:wF,flowInitial:vF,insideSpan:EF,string:_F,text:xF},Symbol.toStringTag,{value:"Module"}));function IF(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let l=[],c=[];const h={attempt:M(Z),check:M(q),consume:B,enter:z,exit:te,interrupt:M(q,{interrupt:!0})},f={code:null,containerState:{},defineSkip:R,events:[],now:k,parser:t,previous:null,sliceSerialize:v,sliceStream:x,write:g};let m=e.tokenize.call(f,h);return e.resolveAll&&a.push(e),f;function g(L){return l=mr(l,L),b(),l[l.length-1]!==null?[]:(A(e,0),f.events=Lf(a,f.events,f),f.events)}function v(L,j){return CF(x(L),j)}function x(L){return AF(l,L)}function k(){const{_bufferIndex:L,_index:j,line:C,column:J,offset:ee}=r;return{_bufferIndex:L,_index:j,line:C,column:J,offset:ee}}function R(L){i[L.line]=L.column,I()}function b(){let L;for(;r._index<l.length;){const j=l[r._index];if(typeof j=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<j.length;)N(j.charCodeAt(r._bufferIndex));else N(j)}}function N(L){m=m(L)}function B(L){Ve(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,I()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=L}function z(L,j){const C=j||{};return C.type=L,C.start=k(),f.events.push(["enter",C,f]),c.push(C),C}function te(L){const j=c.pop();return j.end=k(),f.events.push(["exit",j,f]),j}function Z(L,j){A(L,j.from)}function q(L,j){j.restore()}function M(L,j){return C;function C(J,ee,Ie){let we,ae,ge,D;return Array.isArray(J)?ne(J):"tokenize"in J?ne([J]):H(J);function H(se){return be;function be(Se){const pe=Se!==null&&se[Se],_e=Se!==null&&se.null,Tt=[...Array.isArray(pe)?pe:pe?[pe]:[],...Array.isArray(_e)?_e:_e?[_e]:[]];return ne(Tt)(Se)}}function ne(se){return we=se,ae=0,se.length===0?Ie:O(se[ae])}function O(se){return be;function be(Se){return D=V(),ge=se,se.partial||(f.currentConstruct=se),se.name&&f.parser.constructs.disable.null.includes(se.name)?Fe():se.tokenize.call(j?Object.assign(Object.create(f),j):f,h,Ae,Fe)(Se)}}function Ae(se){return L(ge,D),ee}function Fe(se){return D.restore(),++ae<we.length?O(we[ae]):Ie}}}function A(L,j){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&tr(f.events,j,f.events.length-j,L.resolve(f.events.slice(j),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}function V(){const L=k(),j=f.previous,C=f.currentConstruct,J=f.events.length,ee=Array.from(c);return{from:J,restore:Ie};function Ie(){r=L,f.previous=j,f.currentConstruct=C,f.events.length=J,c=ee,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function AF(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,a)];else{if(l=t.slice(n,i),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(t[i].slice(0,a))}return l}function CF(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(a)}i=a===-2,r.push(l)}return r.join("")}function bF(t){const r={constructs:KS([kF,...(t||{}).extensions||[]]),content:i(HO),defined:[],document:i(WO),flow:i(cF),lazy:{},string:i(dF),text:i(pF)};return r;function i(a){return l;function l(c){return IF(r,a,c)}}}function PF(t){for(;!ZS(t););return t}const M0=/[\0\t\n\r]/g;function RF(){let t=1,e="",n=!0,r;return i;function i(a,l,c){const h=[];let f,m,g,v,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(M0.lastIndex=g,f=M0.exec(a),v=f&&f.index!==void 0?f.index:a.length,x=a.charCodeAt(v),!f){e=a.slice(g);break}if(x===10&&g===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<v&&(h.push(a.slice(g,v)),t+=v-g),x){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}g=v+1}return c&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const NF=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function DF(t){return t.replace(NF,VF)}function VF(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return QS(n.slice(a?2:1),a?16:10)}return dy(n)||t}const sk={}.hasOwnProperty;function LF(t,e,n){return typeof e!="string"&&(n=e,e=void 0),MF(n)(PF(bF(n).document().write(RF()(t,e,!0))))}function MF(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ge),autolinkProtocol:V,autolinkEmail:V,atxHeading:a(kt),blockQuote:a(_e),characterEscape:V,characterReference:V,codeFenced:a(Tt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Tt,l),codeText:a(Cn,l),codeTextData:V,data:V,codeFlowValue:V,definition:a(Wt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(ht),hardBreakEscape:a(Ot),hardBreakTrailing:a(Ot),htmlFlow:a(dn,l),htmlFlowData:V,htmlText:a(dn,l),htmlTextData:V,image:a(Ft),label:l,link:a(Ge),listItem:a(ft),listItemValue:v,listOrdered:a($e,g),listUnordered:a($e),paragraph:a(lt),reference:O,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(kt),strong:a(at),thematicBreak:a(dt)},exit:{atxHeading:h(),atxHeadingSequence:Z,autolink:h(),autolinkEmail:pe,autolinkProtocol:Se,blockQuote:h(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:Fe,characterReferenceMarkerNumeric:Fe,characterReferenceValue:se,characterReference:be,codeFenced:h(b),codeFencedFence:R,codeFencedFenceInfo:x,codeFencedFenceMeta:k,codeFlowValue:I,codeIndented:h(N),codeText:h(ee),codeTextData:I,data:I,definition:h(),definitionDestinationString:te,definitionLabelString:B,definitionTitleString:z,emphasis:h(),hardBreakEscape:h(j),hardBreakTrailing:h(j),htmlFlow:h(C),htmlFlowData:I,htmlText:h(J),htmlTextData:I,image:h(we),label:ge,labelText:ae,lineEnding:L,link:h(Ie),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Ae,resourceDestinationString:D,resourceTitleString:H,resource:ne,setextHeading:h(A),setextHeadingLineSequence:M,setextHeadingText:q,strong:h(),thematicBreak:h()}};ok(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Q){let oe={type:"root",children:[]};const Pe={stack:[oe],tokenStack:[],config:e,enter:c,exit:f,buffer:l,resume:m,data:n},qe=[];let Je=-1;for(;++Je<Q.length;)if(Q[Je][1].type==="listOrdered"||Q[Je][1].type==="listUnordered")if(Q[Je][0]==="enter")qe.push(Je);else{const jt=qe.pop();Je=i(Q,jt,Je)}for(Je=-1;++Je<Q.length;){const jt=e[Q[Je][0]];sk.call(jt,Q[Je][1].type)&&jt[Q[Je][1].type].call(Object.assign({sliceSerialize:Q[Je][2].sliceSerialize},Pe),Q[Je][1])}if(Pe.tokenStack.length>0){const jt=Pe.tokenStack[Pe.tokenStack.length-1];(jt[1]||O0).call(Pe,void 0,jt[0])}for(oe.position={start:ms(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:ms(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)oe=e.transforms[Je](oe)||oe;return oe}function i(Q,oe,Pe){let qe=oe-1,Je=-1,jt=!1,rr,Yt,ir,wr;for(;++qe<=Pe;){const yt=Q[qe];switch(yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yt[0]==="enter"?Je++:Je--,wr=void 0;break}case"lineEndingBlank":{yt[0]==="enter"&&(rr&&!wr&&!Je&&!ir&&(ir=qe),wr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wr=void 0}if(!Je&&yt[0]==="enter"&&yt[1].type==="listItemPrefix"||Je===-1&&yt[0]==="exit"&&(yt[1].type==="listUnordered"||yt[1].type==="listOrdered")){if(rr){let zn=qe;for(Yt=void 0;zn--;){const Xt=Q[zn];if(Xt[1].type==="lineEnding"||Xt[1].type==="lineEndingBlank"){if(Xt[0]==="exit")continue;Yt&&(Q[Yt][1].type="lineEndingBlank",jt=!0),Xt[1].type="lineEnding",Yt=zn}else if(!(Xt[1].type==="linePrefix"||Xt[1].type==="blockQuotePrefix"||Xt[1].type==="blockQuotePrefixWhitespace"||Xt[1].type==="blockQuoteMarker"||Xt[1].type==="listItemIndent"))break}ir&&(!Yt||ir<Yt)&&(rr._spread=!0),rr.end=Object.assign({},Yt?Q[Yt][1].start:yt[1].end),Q.splice(Yt||qe,0,["exit",rr,yt[2]]),qe++,Pe++}if(yt[1].type==="listItemPrefix"){const zn={type:"listItem",_spread:!1,start:Object.assign({},yt[1].start),end:void 0};rr=zn,Q.splice(qe,0,["enter",zn,yt[2]]),qe++,Pe++,ir=void 0,wr=!0}}}return Q[oe][1]._spread=jt,Pe}function a(Q,oe){return Pe;function Pe(qe){c.call(this,Q(qe),qe),oe&&oe.call(this,qe)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(Q,oe,Pe){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([oe,Pe||void 0]),Q.position={start:ms(oe.start),end:void 0}}function h(Q){return oe;function oe(Pe){Q&&Q.call(this,Pe),f.call(this,Pe)}}function f(Q,oe){const Pe=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==Q.type&&(oe?oe.call(this,Q,qe[0]):(qe[1]||O0).call(this,Q,qe[0]));else throw new Error("Cannot close `"+Q.type+"` ("+gu({start:Q.start,end:Q.end})+"): its not open");Pe.position.end=ms(Q.end)}function m(){return fy(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(Q){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=Q}function k(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=Q}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function N(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q.replace(/(\r?\n|\r)$/g,"")}function B(Q){const oe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=oe,Pe.identifier=Nr(this.sliceSerialize(Q)).toLowerCase()}function z(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function te(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function Z(Q){const oe=this.stack[this.stack.length-1];if(!oe.depth){const Pe=this.sliceSerialize(Q).length;oe.depth=Pe}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function M(Q){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function V(Q){const Pe=this.stack[this.stack.length-1].children;let qe=Pe[Pe.length-1];(!qe||qe.type!=="text")&&(qe=bn(),qe.position={start:ms(Q.start),end:void 0},Pe.push(qe)),this.stack.push(qe)}function I(Q){const oe=this.stack.pop();oe.value+=this.sliceSerialize(Q),oe.position.end=ms(Q.end)}function L(Q){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=oe.children[oe.children.length-1];Pe.position.end=ms(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(oe.type)&&(V.call(this,Q),I.call(this,Q))}function j(){this.data.atHardBreak=!0}function C(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function J(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function ee(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.value=Q}function Ie(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function we(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=oe,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function ae(Q){const oe=this.sliceSerialize(Q),Pe=this.stack[this.stack.length-2];Pe.label=DF(oe),Pe.identifier=Nr(oe).toLowerCase()}function ge(){const Q=this.stack[this.stack.length-1],oe=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const qe=Q.children;Pe.children=qe}else Pe.alt=oe}function D(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.url=Q}function H(){const Q=this.resume(),oe=this.stack[this.stack.length-1];oe.title=Q}function ne(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Ae(Q){const oe=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=oe,Pe.identifier=Nr(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function Fe(Q){this.data.characterReferenceType=Q.type}function se(Q){const oe=this.sliceSerialize(Q),Pe=this.data.characterReferenceType;let qe;Pe?(qe=QS(oe,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=dy(oe);const Je=this.stack[this.stack.length-1];Je.value+=qe}function be(Q){const oe=this.stack.pop();oe.position.end=ms(Q.end)}function Se(Q){I.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(Q)}function pe(Q){I.call(this,Q);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(Q)}function _e(){return{type:"blockquote",children:[]}}function Tt(){return{type:"code",lang:null,meta:null,value:""}}function Cn(){return{type:"inlineCode",value:""}}function Wt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ht(){return{type:"emphasis",children:[]}}function kt(){return{type:"heading",depth:0,children:[]}}function Ot(){return{type:"break"}}function dn(){return{type:"html",value:""}}function Ft(){return{type:"image",title:null,url:"",alt:null}}function Ge(){return{type:"link",title:null,url:"",children:[]}}function $e(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function ft(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function lt(){return{type:"paragraph",children:[]}}function at(){return{type:"strong",children:[]}}function bn(){return{type:"text",value:""}}function dt(){return{type:"thematicBreak"}}}function ms(t){return{line:t.line,column:t.column,offset:t.offset}}function ok(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ok(t,r):OF(t,r)}}function OF(t,e){let n;for(n in e)if(sk.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function O0(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+gu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+gu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+gu({start:e.start,end:e.end})+") is still open")}function FF(t){const e=this;e.parser=n;function n(r){return LF(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function jF(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function BF(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function UF(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function zF(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $F(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HF(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=nl(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let l,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=a+1,c+=1,t.footnoteCounts.set(r,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,f),t.applyData(e,f)}function qF(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WF(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ak(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function GF(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ak(t,e);const i={src:nl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function KF(t,e){const n={src:nl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function QF(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function YF(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ak(t,e);const i={href:nl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function XF(t,e){const n={href:nl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function JF(t,e,n){const r=t.all(e),i=n?ZF(n):lk(e),a={},l=[];if(typeof e.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(i||c!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?l.push(...m.children):l.push(m)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:l};return t.patch(e,f),t.applyData(e,f)}function ZF(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=lk(n[r])}return e}function lk(t){const e=t.spread;return e??t.children.length>1}function e3(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function t3(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function n3(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function r3(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function i3(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=ly(e.children[1]),h=US(e.children[e.children.length-1]);c&&h&&(l.position={start:c,end:h}),i.push(l)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function s3(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:e.children.length;let h=-1;const f=[];for(;++h<c;){const g=e.children[h],v={},x=l?l[h]:void 0;x&&(v.align=x);let k={type:"element",tagName:a,properties:v,children:[]};g&&(k.children=t.all(g),t.patch(g,k),k=t.applyData(g,k)),f.push(k)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,m),t.applyData(e,m)}function o3(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const F0=9,j0=32;function a3(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(B0(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(B0(e.slice(i),i>0,!1)),a.join("")}function B0(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===F0||a===j0;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===F0||a===j0;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function l3(t,e){const n={type:"text",value:a3(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function u3(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const c3={blockquote:jF,break:BF,code:UF,delete:zF,emphasis:$F,footnoteReference:HF,heading:qF,html:WF,imageReference:GF,image:KF,inlineCode:QF,linkReference:YF,link:XF,listItem:JF,list:e3,paragraph:t3,root:n3,strong:r3,table:i3,tableCell:o3,tableRow:s3,text:l3,thematicBreak:u3,toml:Eh,yaml:Eh,definition:Eh,footnoteDefinition:Eh};function Eh(){}const uk=-1,Mf=0,vu=1,hf=2,my=3,gy=4,yy=5,vy=6,ck=7,hk=8,U0=typeof self=="object"?self:globalThis,h3=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,l]=e[i];switch(a){case Mf:case uk:return n(l,i);case vu:{const c=n([],i);for(const h of l)c.push(r(h));return c}case hf:{const c=n({},i);for(const[h,f]of l)c[r(h)]=r(f);return c}case my:return n(new Date(l),i);case gy:{const{source:c,flags:h}=l;return n(new RegExp(c,h),i)}case yy:{const c=n(new Map,i);for(const[h,f]of l)c.set(r(h),r(f));return c}case vy:{const c=n(new Set,i);for(const h of l)c.add(r(h));return c}case ck:{const{name:c,message:h}=l;return n(new U0[c](h),i)}case hk:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new U0[a](l),i)};return r},z0=t=>h3(new Map,t)(0),va="",{toString:f3}={},{keys:d3}=Object,tu=t=>{const e=typeof t;if(e!=="object"||!t)return[Mf,e];const n=f3.call(t).slice(8,-1);switch(n){case"Array":return[vu,va];case"Object":return[hf,va];case"Date":return[my,va];case"RegExp":return[gy,va];case"Map":return[yy,va];case"Set":return[vy,va];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[ck,n]:[hf,n]},Th=([t,e])=>t===Mf&&(e==="function"||e==="symbol"),p3=(t,e,n,r)=>{const i=(l,c)=>{const h=r.push(l)-1;return n.set(c,h),h},a=l=>{if(n.has(l))return n.get(l);let[c,h]=tu(l);switch(c){case Mf:{let m=l;switch(h){case"bigint":c=hk,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return i([uk],l)}return i([c,m],l)}case vu:{if(h){let v=l;return h==="DataView"?v=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(l)),i([h,[...v]],l)}const m=[],g=i([c,m],l);for(const v of l)m.push(a(v));return g}case hf:{if(h)switch(h){case"BigInt":return i([h,l.toString()],l);case"Boolean":case"Number":case"String":return i([h,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const m=[],g=i([c,m],l);for(const v of d3(l))(t||!Th(tu(l[v])))&&m.push([a(v),a(l[v])]);return g}case my:return i([c,l.toISOString()],l);case gy:{const{source:m,flags:g}=l;return i([c,{source:m,flags:g}],l)}case yy:{const m=[],g=i([c,m],l);for(const[v,x]of l)(t||!(Th(tu(v))||Th(tu(x))))&&m.push([a(v),a(x)]);return g}case vy:{const m=[],g=i([c,m],l);for(const v of l)(t||!Th(tu(v)))&&m.push(a(v));return g}}const{message:f}=l;return i([c,{name:h,message:f}],l)};return a},$0=(t,{json:e,lossy:n}={})=>{const r=[];return p3(!(e||n),!!e,new Map,r)(t),r},ff=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?z0($0(t,e)):structuredClone(t):(t,e)=>z0($0(t,e));function m3(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function g3(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function y3(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||m3,r=t.options.footnoteBackLabel||g3,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[h]);if(!f)continue;const m=t.all(f),g=String(f.identifier).toUpperCase(),v=nl(g.toLowerCase());let x=0;const k=[],R=t.footnoteCounts.get(g);for(;R!==void 0&&++x<=R;){k.length>0&&k.push({type:"text",value:" "});let B=typeof n=="string"?n:n(h,x);typeof B=="string"&&(B={type:"text",value:B}),k.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,x),className:["data-footnote-backref"]},children:Array.isArray(B)?B:[B]})}const b=m[m.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const B=b.children[b.children.length-1];B&&B.type==="text"?B.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...k)}else m.push(...k);const N={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(m,!0)};t.patch(f,N),c.push(N)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ff(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Of=(function(t){if(t==null)return x3;if(typeof t=="function")return Ff(t);if(typeof t=="object")return Array.isArray(t)?v3(t):w3(t);if(typeof t=="string")return _3(t);throw new Error("Expected function, string, or object as test")});function v3(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Of(t[n]);return Ff(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function w3(t){const e=t;return Ff(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function _3(t){return Ff(e);function e(n){return n&&n.type===t}}function Ff(t){return e;function e(n,r,i){return!!(E3(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function x3(){return!0}function E3(t){return t!==null&&typeof t=="object"&&"type"in t}const fk=[],T3=!0,Wm=!1,S3="skip";function dk(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=Of(i),l=r?-1:1;c(t,void 0,[])();function c(h,f,m){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(x?"<"+x+">":""))+")"})}return v;function v(){let x=fk,k,R,b;if((!e||a(h,f,m[m.length-1]||void 0))&&(x=k3(n(h,m)),x[0]===Wm))return x;if("children"in h&&h.children){const N=h;if(N.children&&x[0]!==S3)for(R=(r?N.children.length:-1)+l,b=m.concat(N);R>-1&&R<N.children.length;){const B=N.children[R];if(k=c(B,R,b)(),k[0]===Wm)return k;R=typeof k[1]=="number"?k[1]:R+l}}return x}}}function k3(t){return Array.isArray(t)?t:typeof t=="number"?[T3,t]:t==null?fk:[t]}function wy(t,e,n,r){let i,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,i=n):(a=e,l=n,i=r),dk(t,a,c,i);function c(h,f){const m=f[f.length-1],g=m?m.children.indexOf(h):void 0;return l(h,g,m)}}const Gm={}.hasOwnProperty,I3={};function A3(t,e){const n=e||I3,r=new Map,i=new Map,a=new Map,l={...c3,...n.handlers},c={all:f,applyData:b3,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:l,one:h,options:n,patch:C3,wrap:R3};return wy(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:i,v=String(m.identifier).toUpperCase();g.has(v)||g.set(v,m)}}),c;function h(m,g){const v=m.type,x=c.handlers[v];if(Gm.call(c.handlers,v)&&x)return x(c,m,g);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in m){const{children:R,...b}=m,N=ff(b);return N.children=c.all(m),N}return ff(m)}return(c.options.unknownHandler||P3)(c,m,g)}function f(m){const g=[];if("children"in m){const v=m.children;let x=-1;for(;++x<v.length;){const k=c.one(v[x],m);if(k){if(x&&v[x-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=H0(k.value)),!Array.isArray(k)&&k.type==="element")){const R=k.children[0];R&&R.type==="text"&&(R.value=H0(R.value))}Array.isArray(k)?g.push(...k):g.push(k)}}}return g}}function C3(t,e){t.position&&(e.position=gO(t))}function b3(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,ff(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function P3(t,e){const n=e.data||{},r="value"in e&&!(Gm.call(n,"hProperties")||Gm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function R3(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function H0(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function q0(t,e){const n=A3(t,e),r=n.one(t,void 0),i=y3(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function N3(t,e){return t&&"run"in t?async function(n,r){const i=q0(n,{file:r,...e});await t.run(i,r)}:function(n,r){return q0(n,{file:r,...t||e})}}function W0(t){if(t)throw t}var Zp,G0;function D3(){if(G0)return Zp;G0=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var m=t.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!g)return!1;var v;for(v in f);return typeof v>"u"||t.call(f,v)},l=function(f,m){n&&m.name==="__proto__"?n(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},c=function(f,m){if(m==="__proto__")if(t.call(f,m)){if(r)return r(f,m).value}else return;return f[m]};return Zp=function h(){var f,m,g,v,x,k,R=arguments[0],b=1,N=arguments.length,B=!1;for(typeof R=="boolean"&&(B=R,R=arguments[1]||{},b=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});b<N;++b)if(f=arguments[b],f!=null)for(m in f)g=c(R,m),v=c(f,m),R!==v&&(B&&v&&(a(v)||(x=i(v)))?(x?(x=!1,k=g&&i(g)?g:[]):k=g&&a(g)?g:{},l(R,{name:m,newValue:h(B,k,v)})):typeof v<"u"&&l(R,{name:m,newValue:v}));return R},Zp}var V3=D3();const em=oE(V3);function Km(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function L3(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(h,...f){const m=t[++a];let g=-1;if(h){l(h);return}for(;++g<i.length;)(f[g]===null||f[g]===void 0)&&(f[g]=i[g]);i=f,m?M3(m,c)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function M3(t,e){let n;return r;function r(...l){const c=t.length>l.length;let h;c&&l.push(i);try{h=t.apply(this,l)}catch(f){const m=f;if(c&&n)throw m;return i(m)}c||(h&&h.then&&typeof h.then=="function"?h.then(a,i):h instanceof Error?i(h):a(h))}function i(l,...c){n||(n=!0,e(l,...c))}function a(l){i(null,l)}}const Jr={basename:O3,dirname:F3,extname:j3,join:B3,sep:"/"};function O3(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ec(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,c=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else l<0&&(a=!0,l=i+1),c>-1&&(t.codePointAt(i)===e.codePointAt(c--)?c<0&&(r=i):(c=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function F3(t){if(ec(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function j3(t){ec(t);let e=t.length,n=-1,r=0,i=-1,a=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function B3(...t){let e=-1,n;for(;++e<t.length;)ec(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":U3(n)}function U3(t){ec(t);const e=t.codePointAt(0)===47;let n=z3(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function z3(t,e){let n="",r=0,i=-1,a=0,l=-1,c,h;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(i===l-1||a===1))if(i!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=l,a=0;continue}}else if(n.length>0){n="",r=0,i=l,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function ec(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const $3={cwd:H3};function H3(){return"/"}function Qm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function q3(t){if(typeof t=="string")t=new URL(t);else if(!Qm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return W3(t)}function W3(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const tm=["history","path","basename","stem","extname","dirname"];class pk{constructor(e){let n;e?Qm(e)?n={path:e}:typeof e=="string"||G3(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":$3.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<tm.length;){const a=tm[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)tm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Jr.basename(this.path):void 0}set basename(e){rm(e,"basename"),nm(e,"basename"),this.path=Jr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Jr.dirname(this.path):void 0}set dirname(e){K0(this.basename,"dirname"),this.path=Jr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Jr.extname(this.path):void 0}set extname(e){if(nm(e,"extname"),K0(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Qm(e)&&(e=q3(e)),rm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Jr.basename(this.path,this.extname):void 0}set stem(e){rm(e,"stem"),nm(e,"stem"),this.path=Jr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new An(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function nm(t,e){if(t&&t.includes(Jr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Jr.sep+"`")}function rm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function K0(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function G3(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const K3=(function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Q3={}.hasOwnProperty;class _y extends K3{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=L3()}copy(){const e=new _y;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(em(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(om("data",this.frozen),this.namespace[e]=n,this):Q3.call(this.namespace,e)&&this.namespace[e]||void 0:e?(om("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Sh(e),r=this.parser||this.Parser;return im("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),im("process",this.parser||this.Parser),sm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,l){const c=Sh(e),h=r.parse(c);r.run(h,c,function(m,g,v){if(m||!g||!v)return f(m);const x=g,k=r.stringify(x,v);J3(k)?v.value=k:v.result=k,f(m,v)});function f(m,g){m||!g?l(m):a?a(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),im("processSync",this.parser||this.Parser),sm("processSync",this.compiler||this.Compiler),this.process(e,i),Y0("processSync","process",n),r;function i(a,l){n=!0,W0(a),r=l}}run(e,n,r){Q0(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const h=Sh(n);i.run(e,h,f);function f(m,g,v){const x=g||e;m?c(m):l?l(x):r(void 0,x,v)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),Y0("runSync","run",r),i;function a(l,c){W0(l),i=c,r=!0}}stringify(e,n){this.freeze();const r=Sh(n),i=this.compiler||this.Compiler;return sm("stringify",i),Q0(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(om("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...g]=f;h(m,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(i.settings=em(!0,i.settings,f.settings))}function c(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const g=f[m];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,m){let g=-1,v=-1;for(;++g<r.length;)if(r[g][0]===f){v=g;break}if(v===-1)r.push([f,...m]);else if(m.length>0){let[x,...k]=m;const R=r[v][1];Km(R)&&Km(x)&&(x=em(!0,R,x)),r[v]=[f,x,...k]}}}}const Y3=new _y().freeze();function im(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function sm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function om(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Q0(t){if(!Km(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Y0(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Sh(t){return X3(t)?t:new pk(t)}function X3(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function J3(t){return typeof t=="string"||Z3(t)}function Z3(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ej="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",X0=[],J0={allowDangerousHtml:!0},tj=/^(https?|ircs?|mailto|xmpp)$/i,nj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rj(t){const e=ij(t),n=sj(t);return oj(e.runSync(e.parse(n),n),t)}function ij(t){const e=t.rehypePlugins||X0,n=t.remarkPlugins||X0,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...J0}:J0;return Y3().use(FF).use(n).use(N3,r).use(e)}function sj(t){const e=t.children||"",n=new pk;return typeof e=="string"&&(n.value=e),n}function oj(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,h=e.urlTransform||aj;for(const m of nj)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+ej+m.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),wy(t,f),xO(t,{Fragment:S.Fragment,components:i,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function f(m,g,v){if(m.type==="raw"&&v&&typeof g=="number")return l?v.children.splice(g,1):v.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let x;for(x in Yp)if(Object.hasOwn(Yp,x)&&Object.hasOwn(m.properties,x)){const k=m.properties[x],R=Yp[x];(R===null||R.includes(m.tagName))&&(m.properties[x]=h(String(k||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&r&&typeof g=="number"&&(x=!r(m,g,v)),x&&v&&typeof g=="number")return c&&m.children?v.children.splice(g,1,...m.children):v.children.splice(g,1),g}}}function aj(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||tj.test(t.slice(0,e))?t:""}function Z0(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function lj(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uj(t,e,n){const i=Of((n||{}).ignore||[]),a=cj(e);let l=-1;for(;++l<a.length;)dk(t,"text",c);function c(f,m){let g=-1,v;for(;++g<m.length;){const x=m[g],k=v?v.children:void 0;if(i(x,k?k.indexOf(x):void 0,v))return;v=x}if(v)return h(f,m)}function h(f,m){const g=m[m.length-1],v=a[l][0],x=a[l][1];let k=0;const b=g.children.indexOf(f);let N=!1,B=[];v.lastIndex=0;let z=v.exec(f.value);for(;z;){const te=z.index,Z={index:z.index,input:z.input,stack:[...m,f]};let q=x(...z,Z);if(typeof q=="string"&&(q=q.length>0?{type:"text",value:q}:void 0),q===!1?v.lastIndex=te+1:(k!==te&&B.push({type:"text",value:f.value.slice(k,te)}),Array.isArray(q)?B.push(...q):q&&B.push(q),k=te+z[0].length,N=!0),!v.global)break;z=v.exec(f.value)}return N?(k<f.value.length&&B.push({type:"text",value:f.value.slice(k)}),g.children.splice(b,1,...B)):B=[f],b+B.length}}function cj(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([hj(i[0]),fj(i[1])])}return e}function hj(t){return typeof t=="string"?new RegExp(lj(t),"g"):t}function fj(t){return typeof t=="function"?t:function(){return t}}const am="phrasing",lm=["autolink","link","image","label"];function dj(){return{transforms:[_j],enter:{literalAutolink:mj,literalAutolinkEmail:um,literalAutolinkHttp:um,literalAutolinkWww:um},exit:{literalAutolink:wj,literalAutolinkEmail:vj,literalAutolinkHttp:gj,literalAutolinkWww:yj}}}function pj(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:am,notInConstruct:lm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:am,notInConstruct:lm},{character:":",before:"[ps]",after:"\\/",inConstruct:am,notInConstruct:lm}]}}function mj(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function um(t){this.config.enter.autolinkProtocol.call(this,t)}function gj(t){this.config.exit.autolinkProtocol.call(this,t)}function yj(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function vj(t){this.config.exit.autolinkEmail.call(this,t)}function wj(t){this.exit(t)}function _j(t){uj(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,xj],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,Ej]],{ignore:["link","linkReference"]})}function xj(t,e,n,r,i){let a="";if(!mk(i)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!Tj(n)))return!1;const l=Sj(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:a+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function Ej(t,e,n,r){return!mk(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Tj(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Sj(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=Z0(t,"(");let a=Z0(t,")");for(;r!==-1&&i>a;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[t,n]}function mk(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ko(n)||Vf(n))&&(!e||n!==47)}gk.peek=Dj;function kj(){this.buffer()}function Ij(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Aj(){this.buffer()}function Cj(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function bj(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Nr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Pj(t){this.exit(t)}function Rj(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Nr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Nj(t){this.exit(t)}function Dj(){return"["}function gk(t,e,n,r){const i=n.createTracker(r);let a=i.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return a+=i.move(n.safe(n.associationId(t),{after:"]",before:a})),c(),l(),a+=i.move("]"),a}function Vj(){return{enter:{gfmFootnoteCallString:kj,gfmFootnoteCall:Ij,gfmFootnoteDefinitionLabelString:Aj,gfmFootnoteDefinition:Cj},exit:{gfmFootnoteCallString:bj,gfmFootnoteCall:Pj,gfmFootnoteDefinitionLabelString:Rj,gfmFootnoteDefinition:Nj}}}function Lj(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:gk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,l){const c=a.createTracker(l);let h=c.move("[^");const f=a.enter("footnoteDefinition"),m=a.enter("label");return h+=c.move(a.safe(a.associationId(r),{before:h,after:"]"})),m(),h+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),h+=c.move((e?`
`:" ")+a.indentLines(a.containerFlow(r,c.current()),e?yk:Mj))),f(),h}}function Mj(t,e,n){return e===0?t:yk(t,e,n)}function yk(t,e,n){return(n?"":"    ")+t}const Oj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];vk.peek=zj;function Fj(){return{canContainEols:["delete"],enter:{strikethrough:Bj},exit:{strikethrough:Uj}}}function jj(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Oj}],handlers:{delete:vk}}}function Bj(t){this.enter({type:"delete",children:[]},t)}function Uj(t){this.exit(t)}function vk(t,e,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(t,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),a(),l}function zj(){return"~"}function $j(t){return t.length}function Hj(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||$j,a=[],l=[],c=[],h=[];let f=0,m=-1;for(;++m<t.length;){const R=[],b=[];let N=-1;for(t[m].length>f&&(f=t[m].length);++N<t[m].length;){const B=qj(t[m][N]);if(n.alignDelimiters!==!1){const z=i(B);b[N]=z,(h[N]===void 0||z>h[N])&&(h[N]=z)}R.push(B)}l[m]=R,c[m]=b}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<f;)a[g]=ex(r[g]);else{const R=ex(r);for(;++g<f;)a[g]=R}g=-1;const v=[],x=[];for(;++g<f;){const R=a[g];let b="",N="";R===99?(b=":",N=":"):R===108?b=":":R===114&&(N=":");let B=n.alignDelimiters===!1?1:Math.max(1,h[g]-b.length-N.length);const z=b+"-".repeat(B)+N;n.alignDelimiters!==!1&&(B=b.length+B+N.length,B>h[g]&&(h[g]=B),x[g]=B),v[g]=z}l.splice(1,0,v),c.splice(1,0,x),m=-1;const k=[];for(;++m<l.length;){const R=l[m],b=c[m];g=-1;const N=[];for(;++g<f;){const B=R[g]||"";let z="",te="";if(n.alignDelimiters!==!1){const Z=h[g]-(b[g]||0),q=a[g];q===114?z=" ".repeat(Z):q===99?Z%2?(z=" ".repeat(Z/2+.5),te=" ".repeat(Z/2-.5)):(z=" ".repeat(Z/2),te=z):te=" ".repeat(Z)}n.delimiterStart!==!1&&!g&&N.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&B==="")&&(n.delimiterStart!==!1||g)&&N.push(" "),n.alignDelimiters!==!1&&N.push(z),N.push(B),n.alignDelimiters!==!1&&N.push(te),n.padding!==!1&&N.push(" "),(n.delimiterEnd!==!1||g!==f-1)&&N.push("|")}k.push(n.delimiterEnd===!1?N.join("").replace(/ +$/,""):N.join(""))}return k.join(`
`)}function qj(t){return t==null?"":String(t)}function ex(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Wj(t,e,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const l=n.indentLines(n.containerFlow(t,a.current()),Gj);return i(),l}function Gj(t,e,n){return">"+(n?"":" ")+t}function Kj(t,e){return tx(t,e.inConstruct,!0)&&!tx(t,e.notInConstruct,!1)}function tx(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function nx(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Kj(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Qj(t,e){const n=String(t);let r=n.indexOf(e),i=r,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>l&&(l=a):a=1,i=r+e.length,r=n.indexOf(e,i);return l}function Yj(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Xj(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Jj(t,e,n,r){const i=Xj(n),a=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(Yj(t,n)){const g=n.enter("codeIndented"),v=n.indentLines(a,Zj);return g(),v}const c=n.createTracker(r),h=i.repeat(Math.max(Qj(a,i)+1,3)),f=n.enter("codeFenced");let m=c.move(h);if(t.lang){const g=n.enter(`codeFencedLang${l}`);m+=c.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){const g=n.enter(`codeFencedMeta${l}`);m+=c.move(" "),m+=c.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...c.current()})),g()}return m+=c.move(`
`),a&&(m+=c.move(a+`
`)),m+=c.move(h),f(),m}function Zj(t,e,n){return(n?"":"    ")+t}function xy(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function e6(t,e,n,r){const i=xy(n),a=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const h=n.createTracker(r);let f=h.move("[");return f+=h.move(n.safe(n.associationId(t),{before:f,after:"]",...h.current()})),f+=h.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(t.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(c=n.enter("destinationRaw"),f+=h.move(n.safe(t.url,{before:f,after:t.title?" ":`
`,...h.current()}))),c(),t.title&&(c=n.enter(`title${a}`),f+=h.move(" "+i),f+=h.move(n.safe(t.title,{before:f,after:i,...h.current()})),f+=h.move(i),c()),l(),f}function t6(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Nu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function df(t,e,n){const r=za(t),i=za(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wk.peek=n6;function wk(t,e,n,r){const i=t6(n),a=n.enter("emphasis"),l=n.createTracker(r),c=l.move(i);let h=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()}));const f=h.charCodeAt(0),m=df(r.before.charCodeAt(r.before.length-1),f,i);m.inside&&(h=Nu(f)+h.slice(1));const g=h.charCodeAt(h.length-1),v=df(r.after.charCodeAt(0),g,i);v.inside&&(h=h.slice(0,-1)+Nu(g));const x=l.move(i);return a(),n.attentionEncodeSurroundingInfo={after:v.outside,before:m.outside},c+h+x}function n6(t,e,n){return n.options.emphasis||"*"}function r6(t,e){let n=!1;return wy(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Wm}),!!((!t.depth||t.depth<3)&&fy(t)&&(e.options.setext||n))}function i6(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(r6(t,n)){const m=n.enter("headingSetext"),g=n.enter("phrasing"),v=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),m(),v+`
`+(i===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(i),c=n.enter("headingAtx"),h=n.enter("phrasing");a.move(l+" ");let f=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=Nu(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),h(),c(),f}_k.peek=s6;function _k(t){return t.value||""}function s6(){return"<"}xk.peek=o6;function xk(t,e,n,r){const i=xy(n),a=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const h=n.createTracker(r);let f=h.move("![");return f+=h.move(n.safe(t.alt,{before:f,after:"]",...h.current()})),f+=h.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),f+=h.move("<"),f+=h.move(n.safe(t.url,{before:f,after:">",...h.current()})),f+=h.move(">")):(c=n.enter("destinationRaw"),f+=h.move(n.safe(t.url,{before:f,after:t.title?" ":")",...h.current()}))),c(),t.title&&(c=n.enter(`title${a}`),f+=h.move(" "+i),f+=h.move(n.safe(t.title,{before:f,after:i,...h.current()})),f+=h.move(i),c()),f+=h.move(")"),l(),f}function o6(){return"!"}Ek.peek=a6;function Ek(t,e,n,r){const i=t.referenceType,a=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let h=c.move("![");const f=n.safe(t.alt,{before:h,after:"]",...c.current()});h+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(t),{before:h,after:"]",...c.current()});return l(),n.stack=m,a(),i==="full"||!f||f!==g?h+=c.move(g+"]"):i==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function a6(){return"!"}Tk.peek=l6;function Tk(t,e,n){let r=t.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const l=n.unsafe[a],c=n.compilePattern(l);let h;if(l.atBreak)for(;h=c.exec(r);){let f=h.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(h.index+1)}}return i+r+i}function l6(){return"`"}function Sk(t,e){const n=fy(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}kk.peek=u6;function kk(t,e,n,r){const i=xy(n),a=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,h;if(Sk(t,n)){const m=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=m,g}c=n.enter("link"),h=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(t,{before:f,after:"](",...l.current()})),f+=l.move("]("),h(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(h=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(t.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(h=n.enter("destinationRaw"),f+=l.move(n.safe(t.url,{before:f,after:t.title?" ":")",...l.current()}))),h(),t.title&&(h=n.enter(`title${a}`),f+=l.move(" "+i),f+=l.move(n.safe(t.title,{before:f,after:i,...l.current()})),f+=l.move(i),h()),f+=l.move(")"),c(),f}function u6(t,e,n){return Sk(t,n)?"<":"["}Ik.peek=c6;function Ik(t,e,n,r){const i=t.referenceType,a=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let h=c.move("[");const f=n.containerPhrasing(t,{before:h,after:"]",...c.current()});h+=c.move(f+"]["),l();const m=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(t),{before:h,after:"]",...c.current()});return l(),n.stack=m,a(),i==="full"||!f||f!==g?h+=c.move(g+"]"):i==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function c6(){return"["}function Ey(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function h6(t){const e=Ey(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function f6(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Ak(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function d6(t,e,n,r){const i=n.enter("list"),a=n.bulletCurrent;let l=t.ordered?f6(n):Ey(n);const c=t.ordered?l==="."?")":".":h6(n);let h=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),Ak(n)===l&&m){let g=-1;for(;++g<t.children.length;){const v=t.children[g];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=a,i(),f}function p6(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function m6(t,e,n,r){const i=p6(n);let a=n.bulletCurrent||Ey(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(a+" ".repeat(l-a.length)),c.shift(l);const h=n.enter("listItem"),f=n.indentLines(n.containerFlow(t,c.current()),m);return h(),f;function m(g,v,x){return v?(x?"":" ".repeat(l))+g:(x?a:a+" ".repeat(l-a.length))+g}}function g6(t,e,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,r);return a(),i(),l}const y6=Of(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function v6(t,e,n,r){return(t.children.some(function(l){return y6(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function w6(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Ck.peek=_6;function Ck(t,e,n,r){const i=w6(n),a=n.enter("strong"),l=n.createTracker(r),c=l.move(i+i);let h=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()}));const f=h.charCodeAt(0),m=df(r.before.charCodeAt(r.before.length-1),f,i);m.inside&&(h=Nu(f)+h.slice(1));const g=h.charCodeAt(h.length-1),v=df(r.after.charCodeAt(0),g,i);v.inside&&(h=h.slice(0,-1)+Nu(g));const x=l.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:v.outside,before:m.outside},c+h+x}function _6(t,e,n){return n.options.strong||"*"}function x6(t,e,n,r){return n.safe(t.value,r)}function E6(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function T6(t,e,n){const r=(Ak(n)+(n.options.ruleSpaces?" ":"")).repeat(E6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const bk={blockquote:Wj,break:nx,code:Jj,definition:e6,emphasis:wk,hardBreak:nx,heading:i6,html:_k,image:xk,imageReference:Ek,inlineCode:Tk,link:kk,linkReference:Ik,list:d6,listItem:m6,paragraph:g6,root:v6,strong:Ck,text:x6,thematicBreak:T6};function S6(){return{enter:{table:k6,tableData:rx,tableHeader:rx,tableRow:A6},exit:{codeText:C6,table:I6,tableData:cm,tableHeader:cm,tableRow:cm}}}function k6(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function I6(t){this.exit(t),this.data.inTable=void 0}function A6(t){this.enter({type:"tableRow",children:[]},t)}function cm(t){this.exit(t)}function rx(t){this.enter({type:"tableCell",children:[]},t)}function C6(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,b6));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function b6(t,e){return e==="|"?e:t}function P6(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:h,tableRow:c}};function l(x,k,R,b){return f(m(x,R,b),x.align)}function c(x,k,R,b){const N=g(x,R,b),B=f([N]);return B.slice(0,B.indexOf(`
`))}function h(x,k,R,b){const N=R.enter("tableCell"),B=R.enter("phrasing"),z=R.containerPhrasing(x,{...b,before:a,after:a});return B(),N(),z}function f(x,k){return Hj(x,{align:k,alignDelimiters:r,padding:n,stringLength:i})}function m(x,k,R){const b=x.children;let N=-1;const B=[],z=k.enter("table");for(;++N<b.length;)B[N]=g(b[N],k,R);return z(),B}function g(x,k,R){const b=x.children;let N=-1;const B=[],z=k.enter("tableRow");for(;++N<b.length;)B[N]=h(b[N],x,k,R);return z(),B}function v(x,k,R){let b=bk.inlineCode(x,k,R);return R.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function R6(){return{exit:{taskListCheckValueChecked:ix,taskListCheckValueUnchecked:ix,paragraph:D6}}}function N6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:V6}}}function ix(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function D6(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let a=-1,l;for(;++a<i.length;){const c=i[a];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function V6(t,e,n,r){const i=t.children[0],a=typeof t.checked=="boolean"&&i&&i.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",c=n.createTracker(r);a&&c.move(l);let h=bk.listItem(t,e,n,{...r,...c.current()});return a&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),h;function f(m){return m+l}}function L6(){return[dj(),Vj(),Fj(),S6(),R6()]}function M6(t){return{extensions:[pj(),Lj(t),jj(),P6(t),N6()]}}const O6={tokenize:$6,partial:!0},Pk={tokenize:H6,partial:!0},Rk={tokenize:q6,partial:!0},Nk={tokenize:W6,partial:!0},F6={tokenize:G6,partial:!0},Dk={name:"wwwAutolink",tokenize:U6,previous:Lk},Vk={name:"protocolAutolink",tokenize:z6,previous:Mk},$i={name:"emailAutolink",tokenize:B6,previous:Ok},hi={};function j6(){return{text:hi}}let ho=48;for(;ho<123;)hi[ho]=$i,ho++,ho===58?ho=65:ho===91&&(ho=97);hi[43]=$i;hi[45]=$i;hi[46]=$i;hi[95]=$i;hi[72]=[$i,Vk];hi[104]=[$i,Vk];hi[87]=[$i,Dk];hi[119]=[$i,Dk];function B6(t,e,n){const r=this;let i,a;return l;function l(g){return!Ym(g)||!Ok.call(r,r.previous)||Ty(r.events)?n(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),c(g))}function c(g){return Ym(g)?(t.consume(g),c):g===64?(t.consume(g),h):n(g)}function h(g){return g===46?t.check(F6,m,f)(g):g===45||g===95||Sn(g)?(a=!0,t.consume(g),h):m(g)}function f(g){return t.consume(g),i=!0,h}function m(g){return a&&i&&Nn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(g)):n(g)}}function U6(t,e,n){const r=this;return i;function i(l){return l!==87&&l!==119||!Lk.call(r,r.previous)||Ty(r.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(O6,t.attempt(Pk,t.attempt(Rk,a),n),n)(l))}function a(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function z6(t,e,n){const r=this;let i="",a=!1;return l;function l(g){return(g===72||g===104)&&Mk.call(r,r.previous)&&!Ty(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(g),t.consume(g),c):n(g)}function c(g){if(Nn(g)&&i.length<5)return i+=String.fromCodePoint(g),t.consume(g),c;if(g===58){const v=i.toLowerCase();if(v==="http"||v==="https")return t.consume(g),h}return n(g)}function h(g){return g===47?(t.consume(g),a?f:(a=!0,h)):n(g)}function f(g){return g===null||cf(g)||ct(g)||ko(g)||Vf(g)?n(g):t.attempt(Pk,t.attempt(Rk,m),n)(g)}function m(g){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(g)}}function $6(t,e,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,t.consume(l),i):l===46&&r===3?(t.consume(l),a):n(l)}function a(l){return l===null?n(l):e(l)}}function H6(t,e,n){let r,i,a;return l;function l(f){return f===46||f===95?t.check(Nk,h,c)(f):f===null||ct(f)||ko(f)||f!==45&&Vf(f)?h(f):(a=!0,t.consume(f),l)}function c(f){return f===95?r=!0:(i=r,r=void 0),t.consume(f),l}function h(f){return i||r||!a?n(f):e(f)}}function q6(t,e){let n=0,r=0;return i;function i(l){return l===40?(n++,t.consume(l),i):l===41&&r<n?a(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?t.check(Nk,e,a)(l):l===null||ct(l)||ko(l)?e(l):(t.consume(l),i)}function a(l){return l===41&&r++,t.consume(l),i}}function W6(t,e,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(t.consume(c),r):c===38?(t.consume(c),a):c===93?(t.consume(c),i):c===60||c===null||ct(c)||ko(c)?e(c):n(c)}function i(c){return c===null||c===40||c===91||ct(c)||ko(c)?e(c):r(c)}function a(c){return Nn(c)?l(c):n(c)}function l(c){return c===59?(t.consume(c),r):Nn(c)?(t.consume(c),l):n(c)}}function G6(t,e,n){return r;function r(a){return t.consume(a),i}function i(a){return Sn(a)?n(a):e(a)}}function Lk(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||ct(t)}function Mk(t){return!Nn(t)}function Ok(t){return!(t===47||Ym(t))}function Ym(t){return t===43||t===45||t===46||t===95||Sn(t)}function Ty(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const K6={tokenize:n5,partial:!0};function Q6(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Z6,continuation:{tokenize:e5},exit:t5}},text:{91:{name:"gfmFootnoteCall",tokenize:J6},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Y6,resolveTo:X6}}}}function Y6(t,e,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const h=r.events[i][1];if(h.type==="labelImage"){l=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return c;function c(h){if(!l||!l._balanced)return n(h);const f=Nr(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?n(h):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),e(h))}}function X6(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},c=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",a,e],["enter",l,e],["exit",l,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...c),t}function J6(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,l;return c;function c(g){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?n(g):(t.enter("gfmFootnoteCallMarker"),t.consume(g),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",f)}function f(g){if(a>999||g===93&&!l||g===null||g===91||ct(g))return n(g);if(g===93){t.exit("chunkString");const v=t.exit("gfmFootnoteCallString");return i.includes(Nr(r.sliceSerialize(v)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(g)}return ct(g)||(l=!0),a++,t.consume(g),g===92?m:f}function m(g){return g===91||g===92||g===93?(t.consume(g),a++,f):f(g)}}function Z6(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,l=0,c;return h;function h(k){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(k),t.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(k){return k===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(k),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(k)}function m(k){if(l>999||k===93&&!c||k===null||k===91||ct(k))return n(k);if(k===93){t.exit("chunkString");const R=t.exit("gfmFootnoteDefinitionLabelString");return a=Nr(r.sliceSerialize(R)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(k),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),v}return ct(k)||(c=!0),l++,t.consume(k),k===92?g:m}function g(k){return k===91||k===92||k===93?(t.consume(k),l++,m):m(k)}function v(k){return k===58?(t.enter("definitionMarker"),t.consume(k),t.exit("definitionMarker"),i.includes(a)||i.push(a),tt(t,x,"gfmFootnoteDefinitionWhitespace")):n(k)}function x(k){return e(k)}}function e5(t,e,n){return t.check(Zu,e,t.attempt(K6,e,n))}function t5(t){t.exit("gfmFootnoteDefinition")}function n5(t,e,n){const r=this;return tt(t,i,"gfmFootnoteDefinitionIndent",5);function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(a):n(a)}}function r5(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,c){let h=-1;for(;++h<l.length;)if(l[h][0]==="enter"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._close){let f=h;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[h][1].end.offset-l[h][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[h][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[h][1].end)},g={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[h][1].start)},v=[["enter",m,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",g,c]],x=c.parser.constructs.insideSpan.null;x&&tr(v,v.length,0,Lf(x,l.slice(f+1,h),c)),tr(v,v.length,0,[["exit",g,c],["enter",l[h][1],c],["exit",l[h][1],c],["exit",m,c]]),tr(l,f-1,h-f+3,v),h=f+v.length-2;break}}for(h=-1;++h<l.length;)l[h][1].type==="strikethroughSequenceTemporary"&&(l[h][1].type="data");return l}function a(l,c,h){const f=this.previous,m=this.events;let g=0;return v;function v(k){return f===126&&m[m.length-1][1].type!=="characterEscape"?h(k):(l.enter("strikethroughSequenceTemporary"),x(k))}function x(k){const R=za(f);if(k===126)return g>1?h(k):(l.consume(k),g++,x);if(g<2&&!n)return h(k);const b=l.exit("strikethroughSequenceTemporary"),N=za(k);return b._open=!N||N===2&&!!R,b._close=!R||R===2&&!!N,c(k)}}}class i5{constructor(){this.map=[]}add(e,n,r){s5(this,e,n,r)}consume(e){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const a of i)e.push(a);i=r.pop()}this.map.length=0}}function s5(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function o5(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function a5(){return{flow:{null:{name:"table",tokenize:l5,resolveAll:u5}}}}function l5(t,e,n){const r=this;let i=0,a=0,l;return c;function c(I){let L=r.events.length-1;for(;L>-1;){const J=r.events[L][1].type;if(J==="lineEnding"||J==="linePrefix")L--;else break}const j=L>-1?r.events[L][1].type:null,C=j==="tableHead"||j==="tableRow"?q:h;return C===q&&r.parser.lazy[r.now().line]?n(I):C(I)}function h(I){return t.enter("tableHead"),t.enter("tableRow"),f(I)}function f(I){return I===124||(l=!0,a+=1),m(I)}function m(I){return I===null?n(I):Ve(I)?a>1?(a=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),x):n(I):Ke(I)?tt(t,m,"whitespace")(I):(a+=1,l&&(l=!1,i+=1),I===124?(t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),l=!0,m):(t.enter("data"),g(I)))}function g(I){return I===null||I===124||ct(I)?(t.exit("data"),m(I)):(t.consume(I),I===92?v:g)}function v(I){return I===92||I===124?(t.consume(I),g):g(I)}function x(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(t.enter("tableDelimiterRow"),l=!1,Ke(I)?tt(t,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):k(I))}function k(I){return I===45||I===58?b(I):I===124?(l=!0,t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),R):Z(I)}function R(I){return Ke(I)?tt(t,b,"whitespace")(I):b(I)}function b(I){return I===58?(a+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(I),t.exit("tableDelimiterMarker"),N):I===45?(a+=1,N(I)):I===null||Ve(I)?te(I):Z(I)}function N(I){return I===45?(t.enter("tableDelimiterFiller"),B(I)):Z(I)}function B(I){return I===45?(t.consume(I),B):I===58?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(I),t.exit("tableDelimiterMarker"),z):(t.exit("tableDelimiterFiller"),z(I))}function z(I){return Ke(I)?tt(t,te,"whitespace")(I):te(I)}function te(I){return I===124?k(I):I===null||Ve(I)?!l||i!==a?Z(I):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(I)):Z(I)}function Z(I){return n(I)}function q(I){return t.enter("tableRow"),M(I)}function M(I){return I===124?(t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),M):I===null||Ve(I)?(t.exit("tableRow"),e(I)):Ke(I)?tt(t,M,"whitespace")(I):(t.enter("data"),A(I))}function A(I){return I===null||I===124||ct(I)?(t.exit("data"),M(I)):(t.consume(I),I===92?V:A)}function V(I){return I===92||I===124?(t.consume(I),A):A(I)}}function u5(t,e){let n=-1,r=!0,i=0,a=[0,0,0,0],l=[0,0,0,0],c=!1,h=0,f,m,g;const v=new i5;for(;++n<t.length;){const x=t[n],k=x[1];x[0]==="enter"?k.type==="tableHead"?(c=!1,h!==0&&(sx(v,e,h,f,m),m=void 0,h=0),f={type:"table",start:Object.assign({},k.start),end:Object.assign({},k.end)},v.add(n,0,[["enter",f,e]])):k.type==="tableRow"||k.type==="tableDelimiterRow"?(r=!0,g=void 0,a=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,m={type:"tableBody",start:Object.assign({},k.start),end:Object.assign({},k.end)},v.add(n,0,[["enter",m,e]])),i=k.type==="tableDelimiterRow"?2:m?3:1):i&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],g=kh(v,e,a,i,void 0,g),a=[0,0,0,0]),l[2]=n)):k.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],g=kh(v,e,a,i,void 0,g)),a=l,l=[a[1],n,0,0])):k.type==="tableHead"?(c=!0,h=n):k.type==="tableRow"||k.type==="tableDelimiterRow"?(h=n,a[1]!==0?(l[0]=l[1],g=kh(v,e,a,i,n,g)):l[1]!==0&&(g=kh(v,e,l,i,n,g)),i=0):i&&(k.type==="data"||k.type==="tableDelimiterMarker"||k.type==="tableDelimiterFiller")&&(l[3]=n)}for(h!==0&&sx(v,e,h,f,m),v.consume(e.events),n=-1;++n<e.events.length;){const x=e.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=o5(e.events,n))}return t}function kh(t,e,n,r,i,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(a.end=Object.assign({},wa(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const h=wa(e.events,n[1]);if(a={type:l,start:Object.assign({},h),end:Object.assign({},h)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const f=wa(e.events,n[2]),m=wa(e.events,n[3]),g={type:c,start:Object.assign({},f),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",g,e]]),r!==2){const v=e.events[n[2]],x=e.events[n[3]];if(v[1].end=Object.assign({},x[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const k=n[2]+1,R=n[3]-n[2]-1;t.add(k,R,[])}}t.add(n[3]+1,0,[["exit",g,e]])}return i!==void 0&&(a.end=Object.assign({},wa(e.events,i)),t.add(i,0,[["exit",a,e]]),a=void 0),a}function sx(t,e,n,r,i){const a=[],l=wa(e.events,n);i&&(i.end=Object.assign({},l),a.push(["exit",i,e])),r.end=Object.assign({},l),a.push(["exit",r,e]),t.add(n+1,0,a)}function wa(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const c5={name:"tasklistCheck",tokenize:f5};function h5(){return{text:{91:c5}}}function f5(t,e,n){const r=this;return i;function i(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),a)}function a(h){return ct(h)?(t.enter("taskListCheckValueUnchecked"),t.consume(h),t.exit("taskListCheckValueUnchecked"),l):h===88||h===120?(t.enter("taskListCheckValueChecked"),t.consume(h),t.exit("taskListCheckValueChecked"),l):n(h)}function l(h){return h===93?(t.enter("taskListCheckMarker"),t.consume(h),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),c):n(h)}function c(h){return Ve(h)?e(h):Ke(h)?t.check({tokenize:d5},e,n)(h):n(h)}}function d5(t,e,n){return tt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function p5(t){return KS([j6(),Q6(),r5(t),a5(),h5()])}const m5={};function g5(t){const e=this,n=t||m5,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(p5(n)),a.push(L6()),l.push(M6(n))}const y5=()=>"https://api-test.martianspace.uk",v5=`${y5()}/v1`;var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,Fk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function V(){}V.prototype=A.prototype,M.F=A.prototype,M.prototype=new V,M.prototype.constructor=M,M.D=function(I,L,j){for(var C=Array(arguments.length-2),J=2;J<arguments.length;J++)C[J-2]=arguments[J];return A.prototype[L].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,A,V){V||(V=0);const I=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)I[L]=A.charCodeAt(V++)|A.charCodeAt(V++)<<8|A.charCodeAt(V++)<<16|A.charCodeAt(V++)<<24;else for(L=0;L<16;++L)I[L]=A[V++]|A[V++]<<8|A[V++]<<16|A[V++]<<24;A=M.g[0],V=M.g[1],L=M.g[2];let j=M.g[3],C;C=A+(j^V&(L^j))+I[0]+3614090360&4294967295,A=V+(C<<7&4294967295|C>>>25),C=j+(L^A&(V^L))+I[1]+3905402710&4294967295,j=A+(C<<12&4294967295|C>>>20),C=L+(V^j&(A^V))+I[2]+606105819&4294967295,L=j+(C<<17&4294967295|C>>>15),C=V+(A^L&(j^A))+I[3]+3250441966&4294967295,V=L+(C<<22&4294967295|C>>>10),C=A+(j^V&(L^j))+I[4]+4118548399&4294967295,A=V+(C<<7&4294967295|C>>>25),C=j+(L^A&(V^L))+I[5]+1200080426&4294967295,j=A+(C<<12&4294967295|C>>>20),C=L+(V^j&(A^V))+I[6]+2821735955&4294967295,L=j+(C<<17&4294967295|C>>>15),C=V+(A^L&(j^A))+I[7]+4249261313&4294967295,V=L+(C<<22&4294967295|C>>>10),C=A+(j^V&(L^j))+I[8]+1770035416&4294967295,A=V+(C<<7&4294967295|C>>>25),C=j+(L^A&(V^L))+I[9]+2336552879&4294967295,j=A+(C<<12&4294967295|C>>>20),C=L+(V^j&(A^V))+I[10]+4294925233&4294967295,L=j+(C<<17&4294967295|C>>>15),C=V+(A^L&(j^A))+I[11]+2304563134&4294967295,V=L+(C<<22&4294967295|C>>>10),C=A+(j^V&(L^j))+I[12]+1804603682&4294967295,A=V+(C<<7&4294967295|C>>>25),C=j+(L^A&(V^L))+I[13]+4254626195&4294967295,j=A+(C<<12&4294967295|C>>>20),C=L+(V^j&(A^V))+I[14]+2792965006&4294967295,L=j+(C<<17&4294967295|C>>>15),C=V+(A^L&(j^A))+I[15]+1236535329&4294967295,V=L+(C<<22&4294967295|C>>>10),C=A+(L^j&(V^L))+I[1]+4129170786&4294967295,A=V+(C<<5&4294967295|C>>>27),C=j+(V^L&(A^V))+I[6]+3225465664&4294967295,j=A+(C<<9&4294967295|C>>>23),C=L+(A^V&(j^A))+I[11]+643717713&4294967295,L=j+(C<<14&4294967295|C>>>18),C=V+(j^A&(L^j))+I[0]+3921069994&4294967295,V=L+(C<<20&4294967295|C>>>12),C=A+(L^j&(V^L))+I[5]+3593408605&4294967295,A=V+(C<<5&4294967295|C>>>27),C=j+(V^L&(A^V))+I[10]+38016083&4294967295,j=A+(C<<9&4294967295|C>>>23),C=L+(A^V&(j^A))+I[15]+3634488961&4294967295,L=j+(C<<14&4294967295|C>>>18),C=V+(j^A&(L^j))+I[4]+3889429448&4294967295,V=L+(C<<20&4294967295|C>>>12),C=A+(L^j&(V^L))+I[9]+568446438&4294967295,A=V+(C<<5&4294967295|C>>>27),C=j+(V^L&(A^V))+I[14]+3275163606&4294967295,j=A+(C<<9&4294967295|C>>>23),C=L+(A^V&(j^A))+I[3]+4107603335&4294967295,L=j+(C<<14&4294967295|C>>>18),C=V+(j^A&(L^j))+I[8]+1163531501&4294967295,V=L+(C<<20&4294967295|C>>>12),C=A+(L^j&(V^L))+I[13]+2850285829&4294967295,A=V+(C<<5&4294967295|C>>>27),C=j+(V^L&(A^V))+I[2]+4243563512&4294967295,j=A+(C<<9&4294967295|C>>>23),C=L+(A^V&(j^A))+I[7]+1735328473&4294967295,L=j+(C<<14&4294967295|C>>>18),C=V+(j^A&(L^j))+I[12]+2368359562&4294967295,V=L+(C<<20&4294967295|C>>>12),C=A+(V^L^j)+I[5]+4294588738&4294967295,A=V+(C<<4&4294967295|C>>>28),C=j+(A^V^L)+I[8]+2272392833&4294967295,j=A+(C<<11&4294967295|C>>>21),C=L+(j^A^V)+I[11]+1839030562&4294967295,L=j+(C<<16&4294967295|C>>>16),C=V+(L^j^A)+I[14]+4259657740&4294967295,V=L+(C<<23&4294967295|C>>>9),C=A+(V^L^j)+I[1]+2763975236&4294967295,A=V+(C<<4&4294967295|C>>>28),C=j+(A^V^L)+I[4]+1272893353&4294967295,j=A+(C<<11&4294967295|C>>>21),C=L+(j^A^V)+I[7]+4139469664&4294967295,L=j+(C<<16&4294967295|C>>>16),C=V+(L^j^A)+I[10]+3200236656&4294967295,V=L+(C<<23&4294967295|C>>>9),C=A+(V^L^j)+I[13]+681279174&4294967295,A=V+(C<<4&4294967295|C>>>28),C=j+(A^V^L)+I[0]+3936430074&4294967295,j=A+(C<<11&4294967295|C>>>21),C=L+(j^A^V)+I[3]+3572445317&4294967295,L=j+(C<<16&4294967295|C>>>16),C=V+(L^j^A)+I[6]+76029189&4294967295,V=L+(C<<23&4294967295|C>>>9),C=A+(V^L^j)+I[9]+3654602809&4294967295,A=V+(C<<4&4294967295|C>>>28),C=j+(A^V^L)+I[12]+3873151461&4294967295,j=A+(C<<11&4294967295|C>>>21),C=L+(j^A^V)+I[15]+530742520&4294967295,L=j+(C<<16&4294967295|C>>>16),C=V+(L^j^A)+I[2]+3299628645&4294967295,V=L+(C<<23&4294967295|C>>>9),C=A+(L^(V|~j))+I[0]+4096336452&4294967295,A=V+(C<<6&4294967295|C>>>26),C=j+(V^(A|~L))+I[7]+1126891415&4294967295,j=A+(C<<10&4294967295|C>>>22),C=L+(A^(j|~V))+I[14]+2878612391&4294967295,L=j+(C<<15&4294967295|C>>>17),C=V+(j^(L|~A))+I[5]+4237533241&4294967295,V=L+(C<<21&4294967295|C>>>11),C=A+(L^(V|~j))+I[12]+1700485571&4294967295,A=V+(C<<6&4294967295|C>>>26),C=j+(V^(A|~L))+I[3]+2399980690&4294967295,j=A+(C<<10&4294967295|C>>>22),C=L+(A^(j|~V))+I[10]+4293915773&4294967295,L=j+(C<<15&4294967295|C>>>17),C=V+(j^(L|~A))+I[1]+2240044497&4294967295,V=L+(C<<21&4294967295|C>>>11),C=A+(L^(V|~j))+I[8]+1873313359&4294967295,A=V+(C<<6&4294967295|C>>>26),C=j+(V^(A|~L))+I[15]+4264355552&4294967295,j=A+(C<<10&4294967295|C>>>22),C=L+(A^(j|~V))+I[6]+2734768916&4294967295,L=j+(C<<15&4294967295|C>>>17),C=V+(j^(L|~A))+I[13]+1309151649&4294967295,V=L+(C<<21&4294967295|C>>>11),C=A+(L^(V|~j))+I[4]+4149444226&4294967295,A=V+(C<<6&4294967295|C>>>26),C=j+(V^(A|~L))+I[11]+3174756917&4294967295,j=A+(C<<10&4294967295|C>>>22),C=L+(A^(j|~V))+I[2]+718787259&4294967295,L=j+(C<<15&4294967295|C>>>17),C=V+(j^(L|~A))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+j&4294967295}r.prototype.v=function(M,A){A===void 0&&(A=M.length);const V=A-this.blockSize,I=this.C;let L=this.h,j=0;for(;j<A;){if(L==0)for(;j<=V;)i(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<A;)if(I[L++]=M.charCodeAt(j++),L==this.blockSize){i(this,I),L=0;break}}else for(;j<A;)if(I[L++]=M[j++],L==this.blockSize){i(this,I),L=0;break}}this.h=L,this.o+=A},r.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;A=this.o*8;for(var V=M.length-8;V<M.length;++V)M[V]=A&255,A/=256;for(this.v(M),M=Array(16),A=0,V=0;V<4;++V)for(let I=0;I<32;I+=8)M[A++]=this.g[V]>>>I&255;return M};function a(M,A){var V=c;return Object.prototype.hasOwnProperty.call(V,M)?V[M]:V[M]=A(M)}function l(M,A){this.h=A;const V=[];let I=!0;for(let L=M.length-1;L>=0;L--){const j=M[L]|0;I&&j==A||(V[L]=j,I=!1)}this.g=V}var c={};function h(M){return-128<=M&&M<128?a(M,function(A){return new l([A|0],A<0?-1:0)}):new l([M|0],M<0?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return g;if(M<0)return b(f(-M));const A=[];let V=1;for(let I=0;M>=V;I++)A[I]=M/V|0,V*=4294967296;return new l(A,0)}function m(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return b(m(M.substring(1),A));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(A,8));let I=g;for(let j=0;j<M.length;j+=8){var L=Math.min(8,M.length-j);const C=parseInt(M.substring(j,j+L),A);L<8?(L=f(Math.pow(A,L)),I=I.j(L).add(f(C))):(I=I.j(V),I=I.add(f(C)))}return I}var g=h(0),v=h(1),x=h(16777216);t=l.prototype,t.m=function(){if(R(this))return-b(this).m();let M=0,A=1;for(let V=0;V<this.g.length;V++){const I=this.i(V);M+=(I>=0?I:4294967296+I)*A,A*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(R(this))return"-"+b(this).toString(M);const A=f(Math.pow(M,6));var V=this;let I="";for(;;){const L=te(V,A).g;V=N(V,L.j(A));let j=((V.g.length>0?V.g[0]:V.h)>>>0).toString(M);if(V=L,k(V))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(let A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function R(M){return M.h==-1}t.l=function(M){return M=N(this,M),R(M)?-1:k(M)?0:1};function b(M){const A=M.g.length,V=[];for(let I=0;I<A;I++)V[I]=~M.g[I];return new l(V,~M.h).add(v)}t.abs=function(){return R(this)?b(this):this},t.add=function(M){const A=Math.max(this.g.length,M.g.length),V=[];let I=0;for(let L=0;L<=A;L++){let j=I+(this.i(L)&65535)+(M.i(L)&65535),C=(j>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);I=C>>>16,j&=65535,C&=65535,V[L]=C<<16|j}return new l(V,V[V.length-1]&-2147483648?-1:0)};function N(M,A){return M.add(b(A))}t.j=function(M){if(k(this)||k(M))return g;if(R(this))return R(M)?b(this).j(b(M)):b(b(this).j(M));if(R(M))return b(this.j(b(M)));if(this.l(x)<0&&M.l(x)<0)return f(this.m()*M.m());const A=this.g.length+M.g.length,V=[];for(var I=0;I<2*A;I++)V[I]=0;for(I=0;I<this.g.length;I++)for(let L=0;L<M.g.length;L++){const j=this.i(I)>>>16,C=this.i(I)&65535,J=M.i(L)>>>16,ee=M.i(L)&65535;V[2*I+2*L]+=C*ee,B(V,2*I+2*L),V[2*I+2*L+1]+=j*ee,B(V,2*I+2*L+1),V[2*I+2*L+1]+=C*J,B(V,2*I+2*L+1),V[2*I+2*L+2]+=j*J,B(V,2*I+2*L+2)}for(M=0;M<A;M++)V[M]=V[2*M+1]<<16|V[2*M];for(M=A;M<2*A;M++)V[M]=0;return new l(V,0)};function B(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function z(M,A){this.g=M,this.h=A}function te(M,A){if(k(A))throw Error("division by zero");if(k(M))return new z(g,g);if(R(M))return A=te(b(M),A),new z(b(A.g),b(A.h));if(R(A))return A=te(M,b(A)),new z(b(A.g),A.h);if(M.g.length>30){if(R(M)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var V=v,I=A;I.l(M)<=0;)V=Z(V),I=Z(I);var L=q(V,1),j=q(I,1);for(I=q(I,2),V=q(V,2);!k(I);){var C=j.add(I);C.l(M)<=0&&(L=L.add(V),j=C),I=q(I,1),V=q(V,1)}return A=N(M,L.j(A)),new z(L,A)}for(L=g;M.l(A)>=0;){for(V=Math.max(1,Math.floor(M.m()/A.m())),I=Math.ceil(Math.log(V)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=f(V),C=j.j(A);R(C)||C.l(M)>0;)V-=I,j=f(V),C=j.j(A);k(j)&&(j=v),L=L.add(j),M=N(M,C)}return new z(L,M)}t.B=function(M){return te(this,M).h},t.and=function(M){const A=Math.max(this.g.length,M.g.length),V=[];for(let I=0;I<A;I++)V[I]=this.i(I)&M.i(I);return new l(V,this.h&M.h)},t.or=function(M){const A=Math.max(this.g.length,M.g.length),V=[];for(let I=0;I<A;I++)V[I]=this.i(I)|M.i(I);return new l(V,this.h|M.h)},t.xor=function(M){const A=Math.max(this.g.length,M.g.length),V=[];for(let I=0;I<A;I++)V[I]=this.i(I)^M.i(I);return new l(V,this.h^M.h)};function Z(M){const A=M.g.length+1,V=[];for(let I=0;I<A;I++)V[I]=M.i(I)<<1|M.i(I-1)>>>31;return new l(V,M.h)}function q(M,A){const V=A>>5;A%=32;const I=M.g.length-V,L=[];for(let j=0;j<I;j++)L[j]=A>0?M.i(j+V)>>>A|M.i(j+V+1)<<32-A:M.i(j+V);return new l(L,M.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Is=l}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jk,au,Bk,Bh,Xm,Uk,zk,$k;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,_){if(_)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var G=d[P];if(!(G in E))break e;E=E[G]}d=d[d.length-1],P=E[d],_=_(P),_!=P&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(_){var E=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&E.push([P,_[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,E){return d.call.apply(d.bind,arguments)}function f(d,_,E){return f=h,f.apply(null,arguments)}function m(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function g(d,_){function E(){}E.prototype=_.prototype,d.Z=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(P,G,X){for(var me=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)me[Ue-2]=arguments[Ue];return _.prototype[G].apply(P,me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const _=d.length;if(_>0){const E=Array(_);for(let P=0;P<_;P++)E[P]=d[P];return E}return[]}function k(d,_){for(let P=1;P<arguments.length;P++){const G=arguments[P];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=d.length||0;const X=G.length||0;d.length=E+X;for(let me=0;me<X;me++)d[E+me]=G[me]}else d.push(G)}}class R{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function b(d){l.setTimeout(()=>{throw d},0)}function N(){var d=M;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,E){const P=z.get();P.set(_,E),this.h?this.h.next=P:this.g=P,this.h=P}}var z=new R(()=>new te,d=>d.reset());class te{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,q=!1,M=new B,A=()=>{const d=Promise.resolve(void 0);Z=()=>{d.then(V)}};function V(){for(var d;d=N();){try{d.h.call(d.g)}catch(E){b(E)}var _=z;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}q=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};l.addEventListener("test",E,_),l.removeEventListener("test",E,_)}catch{}return d})();function C(d){return/^[\s\xa0]*$/.test(d)}function J(d,_){L.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}g(J,L),J.prototype.init=function(d,_){const E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),Ie=0;function we(d,_,E,P,G){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!P,this.ha=G,this.key=++Ie,this.da=this.fa=!1}function ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d,_,E){for(const P in d)_.call(E,d[P],P,d)}function D(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function H(d){const _={};for(const E in d)_[E]=d[E];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,_){let E,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(E in P)d[E]=P[E];for(let X=0;X<ne.length;X++)E=ne[X],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function Ae(d){this.src=d,this.g={},this.h=0}Ae.prototype.add=function(d,_,E,P,G){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const me=se(d,_,P,G);return me>-1?(_=d[me],E||(_.fa=!1)):(_=new we(_,this.src,X,!!P,G),_.fa=E,d.push(_)),_};function Fe(d,_){const E=_.type;if(E in d.g){var P=d.g[E],G=Array.prototype.indexOf.call(P,_,void 0),X;(X=G>=0)&&Array.prototype.splice.call(P,G,1),X&&(ae(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function se(d,_,E,P){for(let G=0;G<d.length;++G){const X=d[G];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==P)return G}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Se={};function pe(d,_,E,P,G){if(Array.isArray(_)){for(let X=0;X<_.length;X++)pe(d,_[X],E,P,G);return null}return E=Ft(E),d&&d[ee]?d.J(_,E,c(P)?!!P.capture:!1,G):_e(d,_,E,!1,P,G)}function _e(d,_,E,P,G,X){if(!_)throw Error("Invalid event type");const me=c(G)?!!G.capture:!!G;let Ue=Ot(d);if(Ue||(d[be]=Ue=new Ae(d)),E=Ue.add(_,E,P,me,X),E.proxy)return E;if(P=Tt(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)j||(G=me),G===void 0&&(G=!1),d.addEventListener(_.toString(),P,G);else if(d.attachEvent)d.attachEvent(ht(_.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Tt(){function d(E){return _.call(d.src,d.listener,E)}const _=kt;return d}function Cn(d,_,E,P,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)Cn(d,_[X],E,P,G);else P=c(P)?!!P.capture:!!P,E=Ft(E),d&&d[ee]?(d=d.i,X=String(_).toString(),X in d.g&&(_=d.g[X],E=se(_,E,P,G),E>-1&&(ae(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete d.g[X],d.h--)))):d&&(d=Ot(d))&&(_=d.g[_.toString()],d=-1,_&&(d=se(_,E,P,G)),(E=d>-1?_[d]:null)&&Wt(E))}function Wt(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ee])Fe(_.i,d);else{var E=d.type,P=d.proxy;_.removeEventListener?_.removeEventListener(E,P,d.capture):_.detachEvent?_.detachEvent(ht(E),P):_.addListener&&_.removeListener&&_.removeListener(P),(E=Ot(_))?(Fe(E,d),E.h==0&&(E.src=null,_[be]=null)):ae(d)}}}function ht(d){return d in Se?Se[d]:Se[d]="on"+d}function kt(d,_){if(d.da)d=!0;else{_=new J(_,this);const E=d.listener,P=d.ha||d.src;d.fa&&Wt(d),d=E.call(P,_)}return d}function Ot(d){return d=d[be],d instanceof Ae?d:null}var dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ft(d){return typeof d=="function"?d:(d[dn]||(d[dn]=function(_){return d.handleEvent(_)}),d[dn])}function Ge(){I.call(this),this.i=new Ae(this),this.M=this,this.G=null}g(Ge,I),Ge.prototype[ee]=!0,Ge.prototype.removeEventListener=function(d,_,E,P){Cn(this,d,_,E,P)};function $e(d,_){var E,P=d.G;if(P)for(E=[];P;P=P.G)E.push(P);if(d=d.M,P=_.type||_,typeof _=="string")_=new L(_,d);else if(_ instanceof L)_.target=_.target||d;else{var G=_;_=new L(P,d),O(_,G)}G=!0;let X,me;if(E)for(me=E.length-1;me>=0;me--)X=_.g=E[me],G=ft(X,P,!0,_)&&G;if(X=_.g=d,G=ft(X,P,!0,_)&&G,G=ft(X,P,!1,_)&&G,E)for(me=0;me<E.length;me++)X=_.g=E[me],G=ft(X,P,!1,_)&&G}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const E=d.g[_];for(let P=0;P<E.length;P++)ae(E[P]);delete d.g[_],d.h--}}this.G=null},Ge.prototype.J=function(d,_,E,P){return this.i.add(String(d),_,!1,E,P)},Ge.prototype.K=function(d,_,E,P){return this.i.add(String(d),_,!0,E,P)};function ft(d,_,E,P){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let X=0;X<_.length;++X){const me=_[X];if(me&&!me.da&&me.capture==E){const Ue=me.listener,Dt=me.ha||me.src;me.fa&&Fe(d.i,me),G=Ue.call(Dt,P)!==!1&&G}}return G&&!P.defaultPrevented}function lt(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:l.setTimeout(d,_||0)}function at(d){d.g=lt(()=>{d.g=null,d.i&&(d.i=!1,at(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class bn extends I{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(d){I.call(this),this.h=d,this.g={}}g(dt,I);var Q=[];function oe(d){ge(d.g,function(_,E){this.g.hasOwnProperty(E)&&Wt(_)},d),d.g={}}dt.prototype.N=function(){dt.Z.N.call(this),oe(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=l.JSON.stringify,qe=l.JSON.parse,Je=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function jt(){}function rr(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){L.call(this,"d")}g(ir,L);function wr(){L.call(this,"c")}g(wr,L);var yt={},zn=null;function Xt(){return zn=zn||new Ge}yt.Ia="serverreachability";function Lo(d){L.call(this,yt.Ia,d)}g(Lo,L);function fi(d){const _=Xt();$e(_,new Lo(_))}yt.STAT_EVENT="statevent";function di(d,_){L.call(this,yt.STAT_EVENT,d),this.stat=_}g(di,L);function Pt(d){const _=Xt();$e(_,new di(_,d))}yt.Ja="timingevent";function ll(d,_){L.call(this,yt.Ja,d),this.size=_}g(ll,L);function Hi(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function qi(){this.g=!0}qi.prototype.ua=function(){this.g=!1};function oc(d,_,E,P,G,X){d.info(function(){if(d.g)if(X){var me="",Ue=X.split("&");for(let ot=0;ot<Ue.length;ot++){var Dt=Ue[ot].split("=");if(Dt.length>1){const Bt=Dt[0];Dt=Dt[1];const Kn=Bt.split("_");me=Kn.length>=2&&Kn[1]=="type"?me+(Bt+"="+Dt+"&"):me+(Bt+"=redacted&")}}}else me=null;else me=X;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+_+`
`+E+`
`+me})}function ac(d,_,E,P,G,X,me){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+_+`
`+E+`
`+X+" "+me})}function Vr(d,_,E,P){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+js(d,E)+(P?" "+P:"")})}function lc(d,_){d.info(function(){return"TIMEOUT: "+_})}qi.prototype.info=function(){};function js(d,_){if(!d.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var E=X[d];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var G=P[0];if(G!="noop"&&G!="stop"&&G!="close")for(let me=1;me<P.length;me++)P[me]=""}}}}return Pe(X)}catch{return _}}var Wi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},uc;function pi(){}g(pi,jt),pi.prototype.g=function(){return new XMLHttpRequest},uc=new pi;function Lr(d){return encodeURIComponent(String(d))}function Mo(d){var _=1;d=d.split(":");const E=[];for(;_>0&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function sr(d,_,E,P){this.j=d,this.i=_,this.l=E,this.S=P||1,this.V=new dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cc}function cc(){this.i=null,this.g="",this.h=!1}var hc={},ul={};function _r(d,_,E){d.M=1,d.A=gi(or(_)),d.u=E,d.R=!0,cl(d,null)}function cl(d,_){d.F=Date.now(),Bs(d),d.B=or(d.A);var E=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),_l(E.i,"t",P),d.C=0,E=d.j.L,d.h=new cc,d.g=xc(d.j,E?_:null,!d.u),d.P>0&&(d.O=new bn(f(d.Y,d,d.g),d.P)),_=d.V,E=d.g,P=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(Q[0]=G.toString()),G=Q);for(let X=0;X<G.length;X++){const me=pe(E,G[X],P||_.handleEvent,!1,_.h||_);if(!me)break;_.g[me.key]=me}_=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),fi(),oc(d.i,d.v,d.B,d.l,d.S,d.u)}sr.prototype.ba=function(d){d=d.target;const _=this.O;_&&zr(d)==3?_.j():this.Y(d)},sr.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=zr(this.g),Dt=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||wc(this.g)))){this.K||Ue!=4||Dt==7||(Dt==8||ot<=0?fi(3):fi(2)),Oo(this);var _=this.g.ca();this.X=_;var E=fc(this);if(this.o=_==200,ac(this.i,this.v,this.B,this.l,this.S,Ue,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,G=this.g;if((P=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(P)){var X=P;break t}}X=null}if(d=X)Vr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vt(this,d);else{this.o=!1,this.m=3,Pt(12),mi(this),Us(this);break e}}if(this.R){d=!0;let Bt;for(;!this.K&&this.C<E.length;)if(Bt=pc(this,E),Bt==ul){Ue==4&&(this.m=4,Pt(14),d=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==hc){this.m=4,Pt(15),Vr(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Vr(this.i,this.l,Bt,null),vt(this,Bt);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||E.length!=0||this.h.h||(this.m=1,Pt(16),d=!1),this.o=this.o&&d,!d)Vr(this.i,this.l,E,"[Invalid Chunked Response]"),mi(this),Us(this);else if(E.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ys(me),me.P=!0,Pt(11))}}else Vr(this.i,this.l,E,null),vt(this,E);Ue==4&&mi(this),this.o&&!this.K&&(Ue==4?Go(this.j,this):(this.o=!1,Bs(this)))}else El(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),mi(this),Us(this)}}}catch{}finally{}};function fc(d){if(!dc(d))return d.g.la();const _=wc(d.g);if(_==="")return"";let E="";const P=_.length,G=zr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return mi(d),Us(d),"";d.h.i=new l.TextDecoder}for(let X=0;X<P;X++)d.h.h=!0,E+=d.h.i.decode(_[X],{stream:!(G&&X==P-1)});return _.length=0,d.h.g+=E,d.C=0,d.h.g}function dc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function pc(d,_){var E=d.C,P=_.indexOf(`
`,E);return P==-1?ul:(E=Number(_.substring(E,P)),isNaN(E)?hc:(P+=1,P+E>_.length?ul:(_=_.slice(P,P+E),d.C=P+E,_)))}sr.prototype.cancel=function(){this.K=!0,mi(this)};function Bs(d){d.T=Date.now()+d.H,hl(d,d.H)}function hl(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Hi(f(d.aa,d),_)}function Oo(d){d.D&&(l.clearTimeout(d.D),d.D=null)}sr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(lc(this.i,this.B),this.M!=2&&(fi(),Pt(17)),mi(this),this.m=2,Us(this)):hl(this,this.T-d)};function Us(d){d.j.I==0||d.K||Go(d.j,d)}function mi(d){Oo(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,oe(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function vt(d,_){try{var E=d.j;if(E.I!=0&&(E.g==d||dl(E.h,d))){if(!d.L&&dl(E.h,d)&&E.I==3){try{var P=E.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)Wo(E),Wn(E);else break e;qr(E),Pt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Hi(f(E.Va,E),6e3));zs(E.h)<=1&&E.ta&&(E.ta=void 0)}else Gn(E,11)}else if((d.L||E.g==d)&&Wo(E),!C(_))for(G=E.Ba.g.parse(_),_=0;_<G.length;_++){let ot=G[_];const Bt=ot[0];if(!(Bt<=E.K))if(E.K=Bt,ot=ot[1],E.I==2)if(ot[0]=="c"){E.M=ot[1],E.ba=ot[2];const Kn=ot[3];Kn!=null&&(E.ka=Kn,E.j.info("VER="+E.ka));const xi=ot[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const Wr=ot[5];Wr!=null&&typeof Wr=="number"&&Wr>0&&(P=1.5*Wr,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Gr=d.g;if(Gr){const Yo=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var X=P.h;X.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(jo(X,X.h),X.h=null))}if(P.G){const kl=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(P.wa=kl,it(P.J,P.G,kl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var me=d;if(P.na=Sl(P,P.L?P.ba:null,P.W),me.L){$s(P.h,me);var Ue=me,Dt=P.O;Dt&&(Ue.H=Dt),Ue.D&&(Oo(Ue),Bs(Ue)),P.g=me}else pn(P);E.i.length>0&&_i(E)}else ot[0]!="stop"&&ot[0]!="close"||Gn(E,7);else E.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Gn(E,7):Ho(E):ot[0]!="noop"&&E.l&&E.l.qa(ot),E.A=0)}}fi(4)}catch{}}var Zf=class{constructor(d,_){this.g=d,this.map=_}};function Fo(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function zs(d){return d.h?1:d.g?d.g.size:0}function dl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function jo(d,_){d.g?d.g.add(_):d.h=_}function $s(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Fo.prototype.cancel=function(){if(this.i=$n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function $n(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.G);return _}return x(d.i)}var mc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hn(d,_){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const P=d[E].indexOf("=");let G,X=null;P>=0?(G=d[E].substring(0,P),X=d[E].substring(P+1)):G=d[E],_(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Mr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Mr?(this.l=d.l,Hs(this,d.j),this.o=d.o,this.g=d.g,Or(this,d.u),this.h=d.h,Ki(this,xl(d.i)),this.m=d.m):d&&(_=String(d).match(mc))?(this.l=!1,Hs(this,_[1]||"",!0),this.o=qs(_[2]||""),this.g=qs(_[3]||"",!0),Or(this,_[4]),this.h=qs(_[5]||"",!0),Ki(this,_[6]||"",!0),this.m=qs(_[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}Mr.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Ws(_,ml,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ws(_,ml,!0),"@"),d.push(Lr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ws(E,E.charAt(0)=="/"?Gs:gl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ws(E,yl)),d.join("")},Mr.prototype.resolve=function(d){const _=or(this);let E=!!d.j;E?Hs(_,d.j):E=!!d.o,E?_.o=d.o:E=!!d.g,E?_.g=d.g:E=d.u!=null;var P=d.h;if(E)Or(_,d.u);else if(E=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var G=_.h.lastIndexOf("/");G!=-1&&(P=_.h.slice(0,G+1)+P)}if(G=P,G==".."||G==".")P="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){P=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let me=0;me<G.length;){const Ue=G[me++];Ue=="."?P&&me==G.length&&X.push(""):Ue==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),P&&me==G.length&&X.push("")):(X.push(Ue),P=!0)}P=X.join("/")}else P=G}return E?_.h=P:E=d.i.toString()!=="",E?Ki(_,xl(d.i)):E=!!d.m,E&&(_.m=d.m),_};function or(d){return new Mr(d)}function Hs(d,_,E){d.j=E?qs(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Or(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Ki(d,_,E){_ instanceof Ze?(d.i=_,Uo(d.i,d.l)):(E||(_=Ws(_,ed)),d.i=new Ze(_,d.l))}function it(d,_,E){d.i.set(_,E)}function gi(d){return it(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function qs(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ws(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,pl),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ml=/[#\/\?@]/g,gl=/[#\?:]/g,Gs=/[#\?]/g,ed=/[#\?@]/g,yl=/#/g;function Ze(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Fr(d){d.g||(d.g=new Map,d.h=0,d.i&&Hn(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Ze.prototype,t.add=function(d,_){Fr(this),this.i=null,d=jr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function vl(d,_){Fr(d),_=jr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Bo(d,_){return Fr(d),_=jr(d,_),d.g.has(_)}t.forEach=function(d,_){Fr(this),this.g.forEach(function(E,P){E.forEach(function(G){d.call(_,G,P,this)},this)},this)};function wl(d,_){Fr(d);let E=[];if(typeof _=="string")Bo(d,_)&&(E=E.concat(d.g.get(jr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)E=E.concat(d[_]);return E}t.set=function(d,_){return Fr(this),this.i=null,d=jr(this,d),Bo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=wl(this,d),d.length>0?String(d[0]):_):_};function _l(d,_,E){vl(d,_),E.length>0&&(d.i=null,d.g.set(jr(d,_),x(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var E=_[P];const G=Lr(E);E=wl(this,E);for(let X=0;X<E.length;X++){let me=G;E[X]!==""&&(me+="="+Lr(E[X])),d.push(me)}}return this.i=d.join("&")};function xl(d){const _=new Ze;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function jr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Uo(d,_){_&&!d.j&&(Fr(d),d.i=null,d.g.forEach(function(E,P){const G=P.toLowerCase();P!=G&&(vl(this,P),_l(this,G,E))},d)),d.j=_}function Br(d,_){const E=new qi;if(l.Image){const P=new Image;P.onload=m(sn,E,"TestLoadImage: loaded",!0,_,P),P.onerror=m(sn,E,"TestLoadImage: error",!1,_,P),P.onabort=m(sn,E,"TestLoadImage: abort",!1,_,P),P.ontimeout=m(sn,E,"TestLoadImage: timeout",!1,_,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else _(!1)}function Ur(d,_){const E=new qi,P=new AbortController,G=setTimeout(()=>{P.abort(),sn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:P.signal}).then(X=>{clearTimeout(G),X.ok?sn(E,"TestPingServer: ok",!0,_):sn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),sn(E,"TestPingServer: error",!1,_)})}function sn(d,_,E,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(E)}catch{}}function Ks(){this.g=new Je}function yi(d){this.i=d.Sb||null,this.h=d.ab||!1}g(yi,jt),yi.prototype.g=function(){return new qn(this.i,this.h)};function qn(d,_){Ge.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(qn,Ge),t=qn.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,xr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||l).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;gc(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function gc(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Qi(this):xr(this),this.readyState==3&&gc(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Qi(this))},t.Na=function(d){this.g&&(this.response=d,Qi(this))},t.ga=function(){this.g&&Qi(this)};function Qi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,xr(d)}t.setRequestHeader=function(d,_){this.A.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yc(d){let _="";return ge(d,function(E,P){_+=P,_+=":",_+=E,_+=`\r
`}),_}function zo(d,_,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=yc(E),typeof d=="string"?E!=null&&Lr(E):it(d,_,E))}function ut(d){Ge.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ut,Ge);var vc=/^https?$/i,td=["POST","PUT"];t=ut.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,_,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():uc.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){Yi(this,X);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)E.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const X of P.keys())E.set(X,P.get(X));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),G=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(td,_,void 0)>=0)||P||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of E)this.g.setRequestHeader(X,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){Yi(this,X)}};function Yi(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Xi(d),wi(d)}function Xi(d){d.A||(d.A=!0,$e(d,"complete"),$e(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,$e(this,"complete"),$e(this,"abort"),wi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vi(this):this.Xa())},t.Xa=function(){vi(this)};function vi(d){if(d.h&&typeof a<"u"){if(d.v&&zr(d)==4)setTimeout(d.Ca.bind(d),0);else if($e(d,"readystatechange"),zr(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var P;if(P=X===0){let me=String(d.D).match(mc)[1]||null;!me&&l.self&&l.self.location&&(me=l.self.location.protocol.slice(0,-1)),P=!vc.test(me?me.toLowerCase():"")}E=P}if(E)$e(d,"complete"),$e(d,"success");else{d.o=6;try{var G=zr(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Xi(d)}}finally{wi(d)}}}}function wi(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,_||$e(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zr(d){return d.g?d.g.readyState:0}t.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),qe(_)}};function wc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function El(d){const _={};d=(d.g&&zr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(C(d[P]))continue;var E=Mo(d[P]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[G]||[];_[G]=X,X.push(E)}D(_,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function $o(d){this.za=0,this.i=[],this.j=new qi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$r("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$r("baseRetryDelayMs",5e3,d),this.Za=$r("retryDelaySeedMs",1e4,d),this.Ta=$r("forwardChannelMaxRetries",2,d),this.va=$r("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(d&&d.concurrentRequestLimit),this.Ba=new Ks,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$o.prototype,t.ka=8,t.I=1,t.connect=function(d,_,E,P){Pt(0),this.W=d,this.H=_||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Sl(this,null,this.W),_i(this)};function Ho(d){if(qo(d),d.I==3){var _=d.V++,E=or(d.J);if(it(E,"SID",d.M),it(E,"RID",_),it(E,"TYPE","terminate"),Hr(d,E),_=new sr(d,d.j,_),_.M=2,_.A=gi(or(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=_.A,E=!0),E||(_.g=xc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Bs(_)}Xs(d)}function Wn(d){d.g&&(Ys(d),d.g.cancel(),d.g=null)}function qo(d){Wn(d),d.v&&(l.clearTimeout(d.v),d.v=null),Wo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function _i(d){if(!fl(d.h)&&!d.m){d.m=!0;var _=d.Ea;Z||A(),q||(Z(),q=!0),M.add(_,d),d.D=0}}function _c(d,_){return zs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Hi(f(d.Ea,d,_),Ko(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new sr(this,this.j,d);let X=this.o;if(this.U&&(X?(X=H(X),O(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Tl(this,G,_),E=or(this.J),it(E,"RID",d),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),Hr(this,E),X&&(this.R?_="headers="+Lr(yc(X))+"&"+_:this.u&&zo(E,this.u,X)),jo(this.h,G),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",_),it(E,"SID","null"),G.U=!0,_r(G,E,null)):_r(G,E,_),this.I=2}}else this.I==3&&(d?Qs(this,d):this.i.length==0||fl(this.h)||Qs(this))};function Qs(d,_){var E;_?E=_.l:E=d.V++;const P=or(d.J);it(P,"SID",d.M),it(P,"RID",E),it(P,"AID",d.K),Hr(d,P),d.u&&d.o&&zo(P,d.u,d.o),E=new sr(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Tl(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),jo(d.h,E),_r(E,P,_)}function Hr(d,_){d.H&&ge(d.H,function(E,P){it(_,P,E)}),d.l&&ge({},function(E,P){it(_,P,E)})}function Tl(d,_,E){E=Math.min(d.i.length,E);const P=d.l?f(d.l.Ka,d.l,d):null;e:{var G=d.i;let Ue=-1;for(;;){const Dt=["count="+E];Ue==-1?E>0?(Ue=G[0].g,Dt.push("ofs="+Ue)):Ue=0:Dt.push("ofs="+Ue);let ot=!0;for(let Bt=0;Bt<E;Bt++){var X=G[Bt].g;const Kn=G[Bt].map;if(X-=Ue,X<0)Ue=Math.max(0,G[Bt].g-100),ot=!1;else try{X="req"+X+"_"||"";try{var me=Kn instanceof Map?Kn:Object.entries(Kn);for(const[xi,Wr]of me){let Gr=Wr;c(Wr)&&(Gr=Pe(Wr)),Dt.push(X+xi+"="+encodeURIComponent(Gr))}}catch(xi){throw Dt.push(X+"type="+encodeURIComponent("_badmap")),xi}}catch{P&&P(Kn)}}if(ot){me=Dt.join("&");break e}}me=void 0}return d=d.i.splice(0,E),_.G=d,me}function pn(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;Z||A(),q||(Z(),q=!0),M.add(_,d),d.A=0}}function qr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Hi(f(d.Da,d),Ko(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Ji(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Hi(f(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Wn(this),Ji(this))};function Ys(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Ji(d){d.g=new sr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=or(d.na);it(_,"RID","rpc"),it(_,"SID",d.M),it(_,"AID",d.K),it(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&it(_,"TO",d.ia),it(_,"TYPE","xmlhttp"),Hr(d,_),d.u&&d.o&&zo(_,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=gi(or(_)),E.u=null,E.R=!0,cl(E,d)}t.Va=function(){this.C!=null&&(this.C=null,Wn(this),qr(this),Pt(19))};function Wo(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Go(d,_){var E=null;if(d.g==_){Wo(d),Ys(d),d.g=null;var P=2}else if(dl(d.h,_))E=_.G,$s(d.h,_),P=1;else return;if(d.I!=0){if(_.o)if(P==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var G=d.D;P=Xt(),$e(P,new ll(P,E)),_i(d)}else pn(d);else if(G=_.m,G==3||G==0&&_.X>0||!(P==1&&_c(d,_)||P==2&&qr(d)))switch(E&&E.length>0&&(_=d.h,_.i=_.i.concat(E)),G){case 1:Gn(d,5);break;case 4:Gn(d,10);break;case 3:Gn(d,6);break;default:Gn(d,2)}}}function Ko(d,_){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*_}function Gn(d,_){if(d.j.info("Error code "+_),_==2){var E=f(d.bb,d),P=d.Ua;const G=!P;P=new Mr(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Hs(P,"https"),gi(P),G?Br(P.toString(),E):Ur(P.toString(),E)}else Pt(2);d.I=0,d.l&&d.l.pa(_),Xs(d),qo(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Xs(d){if(d.I=0,d.ja=[],d.l){const _=$n(d.h);(_.length!=0||d.i.length!=0)&&(k(d.ja,_),k(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Sl(d,_,E){var P=E instanceof Mr?or(E):new Mr(E);if(P.g!="")_&&(P.g=_+"."+P.g),Or(P,P.u);else{var G=l.location;P=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const X=new Mr(null);P&&Hs(X,P),_&&(X.g=_),G&&Or(X,G),E&&(X.h=E),P=X}return E=d.G,_=d.wa,E&&_&&it(P,E,_),it(P,"VER",d.ka),Hr(d,P),P}function xc(d,_,E){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new ut(new yi({ab:E})):new ut(d.ma),_.Fa(d.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}t=Ec.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qo(){}Qo.prototype.g=function(d,_){return new on(d,_)};function on(d,_){Ge.call(this),this.g=new $o(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!C(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Zi(this)}g(on,Ge),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ho(this.g)},on.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Pe(d),d=E);_.i.push(new Zf(_.Ya++,d)),_.I==3&&_i(_)},on.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,on.Z.N.call(this)};function Tc(d){ir.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}g(Tc,ir);function Sc(){wr.call(this),this.status=1}g(Sc,wr);function Zi(d){this.g=d}g(Zi,Ec),Zi.prototype.ra=function(){$e(this.g,"a")},Zi.prototype.qa=function(d){$e(this.g,new Tc(d))},Zi.prototype.pa=function(d){$e(this.g,new Sc)},Zi.prototype.oa=function(){$e(this.g,"b")},Qo.prototype.createWebChannel=Qo.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,$k=function(){return new Qo},zk=function(){return Xt()},Uk=yt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Bh=Wi,Gi.COMPLETE="complete",Bk=Gi,rr.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,au=rr,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,jk=ut}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const ax="@firebase/firestore",lx="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new mg("@firebase/firestore");function _a(){return Io.logLevel}function xe(t,...e){if(Io.logLevel<=Qe.DEBUG){const n=e.map(Sy);Io.debug(`Firestore (${rl}): ${t}`,...n)}}function ji(t,...e){if(Io.logLevel<=Qe.ERROR){const n=e.map(Sy);Io.error(`Firestore (${rl}): ${t}`,...n)}}function $a(t,...e){if(Io.logLevel<=Qe.WARN){const n=e.map(Sy);Io.warn(`Firestore (${rl}): ${t}`,...n)}}function Sy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Hk(t,r,n)}function Hk(t,e,n){let r=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ji(r),new Error(r)}function st(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Hk(e,i,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class _5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class x5{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new As;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new As,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new As)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new qk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class E5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new E5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=a=>{a.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ux(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ux(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=k5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function Jm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return hm(i)===hm(a)?Ye(i,a):hm(i)?1:-1}return Ye(t.length,e.length)}const I5=55296,A5=57343;function hm(t){const e=t.charCodeAt(0);return e>=I5&&e<=A5}function Ha(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="__name__";class Zr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Zr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ye(e.length,n.length)}static compareSegments(e,n){const r=Zr.isNumericId(e),i=Zr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zr.extractNumericId(e).compare(Zr.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class gt extends Zr{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const C5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Zr{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return C5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cx}static keyField(){return new hn([cx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(gt.fromString(e))}static fromName(e){return new Re(gt.fromString(e).popFirst(5))}static empty(){return new Re(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e,n){if(!n)throw new ve(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b5(t,e,n,r){if(e===!0&&r===!0)throw new ve(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hx(t){if(!Re.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fx(t){if(Re.isDocumentKey(t))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Du(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function tc(t,e){if(!Gk(t))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ve(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=-62135596800,px=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*px);return new xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dx)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/px}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:qt("string",xt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new xt(0,0))}static max(){return new Be(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function P5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new Rs(i,Re.empty(),e)}function R5(t){return new Rs(t.readTime,t.key,Vu)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(Be.min(),Re.empty(),Vu)}static max(){return new Rs(Be.max(),Re.empty(),Vu)}}function N5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==D5)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(h=>r(h)))})),l=!0,a===i&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((i=>i?ie.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;n(e[f]).next((m=>{l[f]=m,++c,c===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new ie(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function L5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-1;function Uf(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function M5(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="";function O5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mx(e)),e=F5(t.get(n),e);return mx(e)}function F5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Kk:n+="";break;default:n+=a}}return n}function mx(t){return t+Kk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=a??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yx(this.data.getIterator())}getIteratorFrom(e){return new yx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class yx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Qt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Yk("Invalid base64 string: "+a):a}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const j5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=j5.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="server_timestamp",Jk="__type__",Zk="__previous_value__",eI="__local_write_time__";function Ay(t){return(t?.mapValue?.fields||{})[Jk]?.stringValue===Xk}function zf(t){const e=t.mapValue.fields[Zk];return Ay(e)?zf(e):e}function Lu(t){const e=Ns(t.mapValue.fields[eI].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i,a,l,c,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const mf="(default)";class Mu{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="__type__",U5="__max__",Ch={mapValue:{}},nI="__vector__",gf="value";function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:$5(t)?9007199254740991:z5(t)?10:11:Oe(28295,{value:t})}function li(t,e){if(t===e)return!0;const n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ns(i.timestampValue),c=Ns(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ds(i.bytesValue).isEqual(Ds(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Mt(i.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(i.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Mt(i.integerValue)===Mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Mt(i.doubleValue),c=Mt(a.doubleValue);return l===c?pf(l)===pf(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Ha(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(gx(l)!==gx(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!li(l[h],c[h])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Ou(t,e){return(t.values||[]).find((n=>li(n,e)))!==void 0}function qa(t,e){if(t===e)return 0;const n=Vs(t),r=Vs(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Mt(a.integerValue||a.doubleValue),h=Mt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(t,e);case 3:return vx(t.timestampValue,e.timestampValue);case 4:return vx(Lu(t),Lu(e));case 5:return Jm(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=Ds(a),h=Ds(l);return c.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=Ye(c[f],h[f]);if(m!==0)return m}return Ye(c.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Ye(Mt(a.latitude),Mt(l.latitude));return c!==0?c:Ye(Mt(a.longitude),Mt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wx(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},h=l.fields||{},f=c[gf]?.arrayValue,m=h[gf]?.arrayValue,g=Ye(f?.values?.length||0,m?.values?.length||0);return g!==0?g:wx(f,m)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ch.mapValue&&l===Ch.mapValue)return 0;if(a===Ch.mapValue)return 1;if(l===Ch.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const v=Jm(h[g],m[g]);if(v!==0)return v;const x=qa(c[h[g]],f[m[g]]);if(x!==0)return x}return Ye(h.length,m.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function vx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Ns(t),r=Ns(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function wx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=qa(n[i],r[i]);if(a)return a}return Ye(n.length,r.length)}function Wa(t){return Zm(t)}function Zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ns(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ds(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Zm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Zm(n.fields[l])}`;return i+"}"})(t.mapValue):Oe(61005,{value:t})}function Uh(t){switch(Vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(t);return e?16+Uh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Uh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Po(r.fields,((a,l)=>{i+=a.length+Uh(l)})),i})(t.mapValue);default:throw Oe(13486,{value:t})}}function _x(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eg(t){return!!t&&"integerValue"in t}function Cy(t){return!!t&&"arrayValue"in t}function xx(t){return!!t&&"nullValue"in t}function Ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zh(t){return!!t&&"mapValue"in t}function z5(t){return(t?.mapValue?.fields||{})[tI]?.stringValue===nI}function wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return{...t}}function $5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=wu(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Po(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new gr(wu(this.value))}}function rI(t){const e=[];return Po(t.fields,((n,r)=>{const i=new hn([n]);if(zh(r)){const a=rI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new En(e,0,Be.min(),Be.min(),Be.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new En(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new En(e,2,n,Be.min(),Be.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Be.min(),Be.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.position=e,this.inclusive=n}}function Tx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=qa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function H5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{}class Ht extends iI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W5(e,n,r):n==="array-contains"?new Q5(e,r):n==="in"?new Y5(e,r):n==="not-in"?new X5(e,r):n==="array-contains-any"?new J5(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new G5(e,r):new K5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qa(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends iI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Dr(e,n)}matches(e){return sI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sI(t){return t.op==="and"}function oI(t){return q5(t)&&sI(t)}function q5(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function tg(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(oI(t))return t.filters.map((e=>tg(e))).join(",");{const e=t.filters.map((n=>tg(n))).join(",");return`${t.op}(${e})`}}function aI(t,e){return t instanceof Ht?(function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)})(t,e):t instanceof Dr?(function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&aI(l,i.filters[c])),!0):!1})(t,e):void Oe(19439)}function lI(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`})(t):t instanceof Dr?(function(n){return n.op.toString()+" {"+n.getFilters().map(lI).join(" ,")+"}"})(t):"Filter"}class W5 extends Ht{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class G5 extends Ht{constructor(e,n){super(e,"in",n),this.keys=uI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class K5 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=uI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uI(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class Q5 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cy(n)&&Ou(n.arrayValue,this.value)}}class Y5 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class X5 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class J5 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ou(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function kx(t,e=null,n=[],r=[],i=null,a=null,l=null){return new Z5(t,e,n,r,i,a,l)}function by(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wa(r))).join(",")),e.Te=n}return e.Te}function Py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sx(t.startAt,e.startAt)&&Sx(t.endAt,e.endAt)}function ng(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eB(t,e,n,r,i,a,l,c){return new ol(t,e,n,r,i,a,l,c)}function cI(t){return new ol(t)}function Ix(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hI(t){return t.collectionGroup!==null}function _u(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Qt(hn.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Fu(a,r))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new Fu(hn.keyField(),r))}return e.Ie}function ri(t){const e=ze(t);return e.Ee||(e.Ee=tB(e,_u(t))),e.Ee}function tB(t,e){if(t.limitType==="F")return kx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Fu(i.field,a)}));const n=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;return kx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rg(t,e){const n=t.filters.concat([e]);return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ig(t,e,n){return new ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $f(t,e){return Py(ri(t),ri(e))&&t.limitType===e.limitType}function fI(t){return`${by(ri(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>lI(i))).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Wa(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Wa(i))).join(",")),`Target(${r})`})(ri(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of _u(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=Tx(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,_u(r),i)||r.endAt&&!(function(l,c,h){const f=Tx(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,_u(r),i))})(t,e)}function nB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dI(t){return(e,n)=>{let r=!1;for(const i of _u(t)){const a=rB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function rB(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(a,l,c){const h=l.data.field(a),f=c.data.field(a);return h!==null&&f!==null?qa(h,f):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return Qk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new bt(Re.comparator);function Bi(){return iB}const pI=new bt(Re.comparator);function lu(...t){let e=pI;for(const n of t)e=e.insert(n.key,n);return e}function mI(t){let e=pI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wo(){return xu()}function gI(){return xu()}function xu(){return new Ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sB=new bt(Re.comparator),oB=new Qt(Re.comparator);function Xe(...t){let e=oB;for(const n of t)e=e.add(n);return e}const aB=new Qt(Ye);function lB(){return aB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function yI(t){return{integerValue:""+t}}function uB(t,e){return M5(e)?yI(e):Ry(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function cB(t,e,n){return t instanceof ju?(function(i,a){const l={fields:{[Jk]:{stringValue:Xk},[eI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ay(a)&&(a=zf(a)),a&&(l.fields[Zk]=a),{mapValue:l}})(n,e):t instanceof Bu?wI(t,e):t instanceof Uu?_I(t,e):(function(i,a){const l=vI(i,a),c=Ax(l)+Ax(i.Ae);return eg(l)&&eg(i.Ae)?yI(c):Ry(i.serializer,c)})(t,e)}function hB(t,e,n){return t instanceof Bu?wI(t,e):t instanceof Uu?_I(t,e):n}function vI(t,e){return t instanceof vf?(function(r){return eg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ju extends qf{}class Bu extends qf{constructor(e){super(),this.elements=e}}function wI(t,e){const n=xI(e);for(const r of t.elements)n.some((i=>li(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Uu extends qf{constructor(e){super(),this.elements=e}}function _I(t,e){let n=xI(e);for(const r of t.elements)n=n.filter((i=>!li(i,r)));return{arrayValue:{values:n}}}class vf extends qf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ax(t){return Mt(t.integerValue||t.doubleValue)}function xI(t){return Cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n){this.field=e,this.transform=n}}function dB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Bu&&i instanceof Bu||r instanceof Uu&&i instanceof Uu?Ha(r.elements,i.elements,li):r instanceof vf&&i instanceof vf?li(r.Ae,i.Ae):r instanceof ju&&i instanceof ju})(t.transform,e.transform)}class pB{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $h(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wf{}function EI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ny(t.key,ii.none()):new nc(t.key,t.data,ii.none());{const n=t.data,r=gr.empty();let i=new Qt(hn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new No(t.key,r,new Pr(i.toArray()),ii.none())}}function mB(t,e,n){t instanceof nc?(function(i,a,l){const c=i.value.clone(),h=bx(i.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof No?(function(i,a,l){if(!$h(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=bx(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(TI(i)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eu(t,e,n,r){return t instanceof nc?(function(a,l,c,h){if(!$h(a.precondition,l))return c;const f=a.value.clone(),m=Px(a.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof No?(function(a,l,c,h){if(!$h(a.precondition,l))return c;const f=Px(a.fieldTransforms,h,l),m=l.data;return m.setAll(TI(a)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,l,c){return $h(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function gB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=vI(r.transform,i||null);a!=null&&(n===null&&(n=gr.empty()),n.set(r.field,a))}return n||null}function Cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ha(r,i,((a,l)=>dB(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends Wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends Wf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function bx(t,e,n){const r=new Map;st(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,hB(l,c,n[i]))}return r}function Px(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,cB(a,l,e))}return r}class Ny extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yB extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&mB(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gI();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const h=EI(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,((n,r)=>Cx(n,r)))&&Ha(this.baseMutations,e.baseMutations,((n,r)=>Cx(n,r)))}}class Dy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return sB})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Dy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,et;function xB(t){switch(t){case re.OK:return Oe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function SI(t){if(t===void 0)return ji("GRPC error has no .code"),re.UNKNOWN;switch(t){case zt.OK:return re.OK;case zt.CANCELLED:return re.CANCELLED;case zt.UNKNOWN:return re.UNKNOWN;case zt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case zt.INTERNAL:return re.INTERNAL;case zt.UNAVAILABLE:return re.UNAVAILABLE;case zt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case zt.NOT_FOUND:return re.NOT_FOUND;case zt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case zt.ABORTED:return re.ABORTED;case zt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case zt.DATA_LOSS:return re.DATA_LOSS;default:return Oe(39323,{code:t})}}(et=zt||(zt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new Is([4294967295,4294967295],0);function Rx(t){const e=EB().encode(t),n=new Fk;return n.update(e),new Uint8Array(n.digest())}function Nx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,a],0)]}class Vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(r<0)throw new uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Is.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(TB)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rx(e),[r,i]=Nx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Vy(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=Rx(e),[r,i]=Nx(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gf(Be.min(),i,new bt(Ye),Bi(),Xe())}}class rc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rc(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class kI{constructor(e,n){this.targetId=e,this.Ce=n}}class II{constructor(e,n,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dx{constructor(){this.ve=0,this.Fe=Vx(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:a})}})),new rc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Vx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=bh(),this.He=bh(),this.Ye=new bt(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(ng(a))if(r===0){const l=new Re(a.path);this.et(n,l,En.newNoDocument(l,Be.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Ds(r).toUint8Array()}catch(h){if(h instanceof Yk)return $a("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Vy(l,i,a)}catch(h){return $a(h instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&ng(c.target)){const h=new Re(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,En.newNoDocument(h,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Xe();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Gf(e,n,this.Ye,this.je,r);return this.je=Bi(),this.Je=bh(),this.He=bh(),this.Ye=new bt(Ye),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Dx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bh(){return new bt(Re.comparator)}function Vx(){return new bt(Re.comparator)}const kB={asc:"ASCENDING",desc:"DESCENDING"},IB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AB={and:"AND",or:"OR"};class CB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sg(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bB(t,e){return wf(t,e.toTimestamp())}function si(t){return st(!!t,49232),Be.fromTimestamp((function(n){const r=Ns(n);return new xt(r.seconds,r.nanos)})(t))}function Ly(t,e){return og(t,e).canonicalString()}function og(t,e){const n=(function(i){return new gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function CI(t){const e=gt.fromString(t);return st(DI(e),10190,{key:e.toString()}),e}function ag(t,e){return Ly(t.databaseId,e.path)}function fm(t,e){const n=CI(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(PI(n))}function bI(t,e){return Ly(t.databaseId,e)}function PB(t){const e=CI(t);return e.length===4?gt.emptyPath():PI(e)}function lg(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lx(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function RB(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Oe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,m){return f.useProto3Json?(st(m===void 0||typeof m=="string",58123),fn.fromBase64String(m||"")):(st(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),fn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const m=f.code===void 0?re.UNKNOWN:SI(f.code);return new ve(m,f.message||"")})(l);n=new II(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fm(t,r.document.name),a=si(r.document.updateTime),l=r.document.createTime?si(r.document.createTime):Be.min(),c=new gr({mapValue:{fields:r.document.fields}}),h=En.newFoundDocument(i,a,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Hh(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fm(t,r.document),a=r.readTime?si(r.readTime):Be.min(),l=En.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Hh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fm(t,r.document),a=r.removedTargetIds||[];n=new Hh([],a,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new _B(i,a),c=r.targetId;n=new kI(c,l)}}return n}function NB(t,e){let n;if(e instanceof nc)n={update:Lx(t,e.key,e.value)};else if(e instanceof Ny)n={delete:ag(t,e.key)};else if(e instanceof No)n={update:Lx(t,e.key,e.data),updateMask:UB(e.fieldMask)};else{if(!(e instanceof yB))return Oe(16599,{Vt:e.type});n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof ju)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Bu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof vf)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Oe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:bB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Oe(27497)})(t,e.precondition)),n}function DB(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?si(i.updateTime):si(a);return l.isEqual(Be.min())&&(l=si(a)),new pB(l,i.transformResults||[])})(n,e)))):[]}function VB(t,e){return{documents:[bI(t,e.path)]}}function LB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bI(t,i);const a=(function(f){if(f.length!==0)return NI(Dr.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Ea(v.field),direction:FB(v.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=sg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function MB(t){let e=PB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){st(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(g){const v=RI(g);return v instanceof Dr&&oI(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((v=>(function(k){return new Fu(Ta(k.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Uf(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(g){const v=!!g.before,x=g.values||[];return new yf(x,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const v=!g.before,x=g.values||[];return new yf(x,v)})(n.endAt)),eB(e,i,l,a,c,"F",h,f)}function OB(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ta(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ta(n.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ta(n.unaryFilter.field);return Ht.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ta(n.unaryFilter.field);return Ht.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(Ta(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Dr.create(n.compositeFilter.filters.map((r=>RI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function FB(t){return kB[t]}function jB(t){return IB[t]}function BB(t){return AB[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Ta(t){return hn.fromServerFormat(t.fieldPath)}function NI(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(Ex(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(xx(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ex(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(xx(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:jB(n.op),value:n.value}}})(t):t instanceof Dr?(function(n){const r=n.getFilters().map((i=>NI(i)));return r.length===1?r[0]:{compositeFilter:{op:BB(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function UB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r,i,a=Be.min(),l=Be.min(),c=fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.yt=e}}function $B(t){const e=MB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(){this.Cn=new qB}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Rs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class qB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qt(gt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VI=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(VI,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ga(0)}static cr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LruGarbageCollector",WB=1048576;function Fx([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class GB{constructor(e){this.Ir=e,this.buffer=new Qt(Fx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Fx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(Ox,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?xe(Ox,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Vr(3e5)}))}}class QB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Bf.ce);const r=new GB(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Mx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),_a()<=Qe.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function YB(t,e){return new QB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.changes=new Ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Eu(r.mutation,i,Pr.empty(),xt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const i=wo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=lu();return a.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=wo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=Bi();const l=xu(),c=(function(){return xu()})();return n.forEach(((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof No)?a=a.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Eu(m.mutation,f,m.mutation.getFieldMask(),xt.now())):l.set(f.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((f,m)=>l.set(f,m))),n.forEach(((f,m)=>c.set(f,new JB(m,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=xu();let i=new bt(((l,c)=>l-c)),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Pr.empty();m=c.applyToLocalView(f,m),r.set(h,m);const g=(i.get(c.batchId)||Xe()).add(h);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,g=gI();m.forEach((v=>{if(!a.has(v)){const x=EI(n.get(v),r.get(v));x!==null&&g.set(v,x),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ie.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Re.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ie.resolve(wo());let c=Vu,h=a;return l.next((f=>ie.forEach(f,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?ie.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,h,f,Xe()))).next((m=>({batchId:c,changes:mI(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=lu();return this.indexManager.getCollectionParents(e,a).next((c=>ie.forEach(c,(h=>{const f=(function(g,v){return new ol(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((m=>{m.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,En.newInvalidDocument(m)))}));let c=lu();return l.forEach(((h,f)=>{const m=a.get(h);m!==void 0&&Eu(m.mutation,f,Pr.empty(),xt.now()),Hf(n,f)&&(c=c.insert(h,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:$B(i.bundledQuery),readTime:si(i.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.overlays=new bt(Re.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wo();return ie.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=wo(),a=n.length+1,l=new Re(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new bt(((f,m)=>f-m));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=a.get(f.largestBatchId);m===null&&(m=wo(),a=a.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=wo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=i)););return ie.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new wB(n,r));let a=this.qr.get(n);a===void 0&&(a=Xe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Qr=new Qt(tn.$r),this.Ur=new Qt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new gt([])),r=new tn(n,e),i=new tn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new gt([])),r=new tn(n,e),i=new tn(n,e+1);let a=Xe();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new tn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(tn.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new vB(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new tn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Iy:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qt(Ye);return n.forEach((i=>{const a=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const l=new tn(new Re(a),0);let c=new Qt(Ye);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),ie.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){st(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(i=>{const a=new tn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tn(n,0),i=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.ri=e,this.docs=(function(){return new bt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=Bi();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():En.newInvalidDocument(i))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Bi();const l=n.path,c=new Re(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||N5(R5(m),r)<=0||(i.has(m.key)||Hf(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new s9(this)}getSize(e){return ie.resolve(this.size)}}class s9 extends XB{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.persistence=e,this.si=new Ro((n=>by(n)),Py),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new My,this.targetCount=0,this.ai=Ga.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ga(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ie.waitFor(a).next((()=>i))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bf(0),this.li=!1,this.li=!0,this.hi=new n9,this.referenceDelegate=e(this),this.Pi=new o9(this),this.indexManager=new HB,this.remoteDocumentCache=(function(i){return new i9(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new zB(n),this.Ii=new e9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new r9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new a9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class a9 extends V5{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Ri=new My,this.Vi=null}static mi(e){return new Oy(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _f{constructor(e,n){this.persistence=e,this.pi=new Ro((r=>O5(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=YB(this,n)}static mi(e,n){return new _f(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ie.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,Be.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Xe(),i=Xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Fy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Pb()?8:L5(kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new l9;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(_a()<=Qe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(_a()<=Qe.DEBUG&&xe("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(_a()<=Qe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):ie.resolve())}ys(e,n){if(Ix(n))return ie.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ig(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Xe(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,c);return this.Cs(n,f,l,h.readTime)?this.ys(e,ig(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,i){return Ix(n)||i.isEqual(Be.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ie.resolve(null):(_a()<=Qe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.vs(e,l,n,P5(i,Vu)).next((c=>c)))}))}Ds(e,n){let r=new Qt(dI(e));return n.forEach(((i,a)=>{Hf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return _a()<=Qe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ps.getDocumentsMatchingQuery(e,n,Rs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",c9=3e8;class h9{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new bt(Ye),this.xs=new Ro((a=>by(a)),Py),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZB(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function f9(t,e,n,r){return new h9(t,e,n,r)}async function MI(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let h=Xe();for(const f of i){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of a){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function d9(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const g=f.batch,v=g.keys();let x=ie.resolve();return v.forEach((k=>{x=x.next((()=>m.getEntry(h,k))).next((R=>{const b=f.docVersions.get(k);st(b!==null,48541),R.version.compareTo(b)<0&&(g.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),m.addEntry(R)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(h,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Xe();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function OI(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function p9(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,g)=>{const v=i.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(a,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,m.addedDocuments,g))));let x=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(fn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(g,x),(function(R,b,N){return R.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=c9?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(v,x,m)&&c.push(n.Pi.updateTargetData(a,x))}));let h=Bi(),f=Xe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(m9(a,l,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(Be.min())){const m=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return ie.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(n.Ms=i,a)))}function m9(t,e,n){let r=Xe(),i=Xe();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Bi();return n.forEach(((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Be.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):xe(jy,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function g9(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Iy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function y9(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ie.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Es(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ug(t,e,n){const r=ze(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!sl(l))throw l;xe(jy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function jx(t,e,n){const r=ze(t);let i=Be.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,m){const g=ze(h),v=g.xs.get(m);return v!==void 0?ie.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,m)})(r,l,ri(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Be.min(),n?a:Xe()))).next((c=>(v9(r,nB(e),c),{documents:c,Qs:a})))))}function v9(t,e,n){let r=t.Os.get(e)||Be.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class Bx{constructor(){this.activeTargetIds=lB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w9{constructor(){this.Mo=new Bx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="ConnectivityMonitor";class zx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(Ux,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(Ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function cg(){return Ph===null?Ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",x9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===mf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=cg(),c=this.zo(e,n.toUriEncodedString());xe(dm,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:f}=new URL(c),m=Qa(f);return this.Jo(e,c,h,r,m).then((g=>(xe(dm,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw $a(dm,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=x9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class S9 extends E9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=cg();return new Promise(((c,h)=>{const f=new jk;f.setWithCredentials(!0),f.listenOnce(Bk.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Bh.NO_ERROR:const g=f.getResponseJson();xe(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Bh.TIMEOUT:xe(wn,`RPC '${e}' ${l} timed out`),h(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const v=f.getStatus();if(xe(wn,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x?.error;if(k&&k.status&&k.message){const R=(function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(B)>=0?B:re.UNKNOWN})(k.status);h(new ve(R,k.message))}else h(new ve(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{xe(wn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);xe(wn,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=cg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$k(),c=zk(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");xe(wn,`Creating RPC '${e}' stream ${i}: ${m}`,h);const g=l.createWebChannel(m,h);this.I_(g);let v=!1,x=!1;const k=new T9({Yo:b=>{x?xe(wn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(xe(wn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),xe(wn,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Zo:()=>g.close()}),R=(b,N,B)=>{b.listen(N,(z=>{try{B(z)}catch(te){setTimeout((()=>{throw te}),0)}}))};return R(g,au.EventType.OPEN,(()=>{x||(xe(wn,`RPC '${e}' stream ${i} transport opened.`),k.o_())})),R(g,au.EventType.CLOSE,(()=>{x||(x=!0,xe(wn,`RPC '${e}' stream ${i} transport closed`),k.a_(),this.E_(g))})),R(g,au.EventType.ERROR,(b=>{x||(x=!0,$a(wn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),k.a_(new ve(re.UNAVAILABLE,"The operation could not be completed")))})),R(g,au.EventType.MESSAGE,(b=>{if(!x){const N=b.data[0];st(!!N,16349);const B=N,z=B?.error||B[0]?.error;if(z){xe(wn,`RPC '${e}' stream ${i} received error:`,z);const te=z.status;let Z=(function(A){const V=zt[A];if(V!==void 0)return SI(V)})(te),q=z.message;Z===void 0&&(Z=re.INTERNAL,q="Unknown error status: "+te+" with message "+z.message),x=!0,k.a_(new ve(Z,q)),g.close()}else xe(wn,`RPC '${e}' stream ${i} received:`,N),k.u_(N)}})),R(c,Uk.STAT_EVENT,(b=>{b.stat===Xm.PROXY?xe(wn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Xm.NOPROXY&&xe(wn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return new CB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="PersistentStream";class jI{constructor(e,n,r,i,a,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe($x,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe($x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k9 extends jI{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RB(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?si(l.readTime):Be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=lg(this.serializer),n.addTarget=(function(a,l){let c;const h=l.target;if(c=ng(h)?{documents:VB(a,h)}:{query:LB(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=AI(a,l.resumeToken);const f=sg(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=wf(a,l.snapshotVersion.toTimestamp());const f=sg(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=OB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=lg(this.serializer),n.removeTarget=e,this.q_(n)}}class I9 extends jI{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DB(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>NB(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{}class C9 extends A9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,og(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(re.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,og(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(re.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class b9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class P9{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Do(this)&&(xe(Ao,"Restarting streams for network reachability change."),await(async function(h){const f=ze(h);f.Ea.add(4),await ic(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Qf(f)})(this))}))})),this.Ra=new b9(r,i)}}async function Qf(t){if(Do(t))for(const e of t.da)await e(!0)}async function ic(t){for(const e of t.da)await e(!1)}function BI(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$y(n)?zy(n):al(n).O_()&&Uy(n,e))}function By(t,e){const n=ze(t),r=al(n);n.Ia.delete(e),r.O_()&&UI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function Uy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).Y_(e)}function UI(t,e){t.Va.Ue(e),al(t).Z_(e)}function zy(t){t.Va=new SB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),al(t).start(),t.Ra.ua()}function $y(t){return Do(t)&&!al(t).x_()&&t.Ia.size>0}function Do(t){return ze(t).Ea.size===0}function zI(t){t.Va=void 0}async function R9(t){t.Ra.set("Online")}async function N9(t){t.Ia.forEach(((e,n)=>{Uy(t,e)}))}async function D9(t,e){zI(t),$y(t)?(t.Ra.ha(e),zy(t)):t.Ra.set("Unknown")}async function V9(t,e,n){if(t.Ra.set("Online"),e instanceof II&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){xe(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(t,r)}else if(e instanceof Hh?t.Va.Ze(e):e instanceof kI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const r=await OI(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ia.get(f);m&&a.Ia.set(f,m.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const m=a.Ia.get(h);if(!m)return;a.Ia.set(h,m.withResumeToken(fn.EMPTY_BYTE_STRING,m.snapshotVersion)),UI(a,h);const g=new Es(m.target,h,f,m.sequenceNumber);Uy(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){xe(Ao,"Failed to raise snapshot:",r),await xf(t,r)}}async function xf(t,e,n){if(!sl(e))throw e;t.Ea.add(1),await ic(t),t.Ra.set("Offline"),n||(n=()=>OI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qf(t)}))}function $I(t,e){return e().catch((n=>xf(t,n,e)))}async function Yf(t){const e=ze(t),n=Ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Iy;for(;L9(e);)try{const i=await g9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,M9(e,i)}catch(i){await xf(e,i)}HI(e)&&qI(e)}function L9(t){return Do(t)&&t.Ta.length<10}function M9(t,e){t.Ta.push(e);const n=Ls(t);n.O_()&&n.X_&&n.ea(e.mutations)}function HI(t){return Do(t)&&!Ls(t).x_()&&t.Ta.length>0}function qI(t){Ls(t).start()}async function O9(t){Ls(t).ra()}async function F9(t){const e=Ls(t);for(const n of t.Ta)e.ea(n.mutations)}async function j9(t,e,n){const r=t.Ta.shift(),i=Dy.from(r,e,n);await $I(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Yf(t)}async function B9(t,e){e&&Ls(t).X_&&await(async function(r,i){if((function(l){return xB(l)&&l!==re.ABORTED})(i.code)){const a=r.Ta.shift();Ls(r).B_(),await $I(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Yf(r)}})(t,e),HI(t)&&qI(t)}async function Hx(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),xe(Ao,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qf(n)}async function U9(t,e){const n=ze(t);e?(n.Ea.delete(2),await Qf(n)):e||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function al(t){return t.ma||(t.ma=(function(n,r,i){const a=ze(n);return a.sa(),new k9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:R9.bind(null,t),t_:N9.bind(null,t),r_:D9.bind(null,t),H_:V9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$y(t)?zy(t):t.Ra.set("Unknown")):(await t.ma.stop(),zI(t))}))),t.ma}function Ls(t){return t.fa||(t.fa=(function(n,r,i){const a=ze(n);return a.sa(),new I9(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:O9.bind(null,t),r_:B9.bind(null,t),ta:F9.bind(null,t),na:j9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Yf(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new Hy(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(t,e){if(ji("AsyncQueue",`${e}: ${t}`),sl(t))return new ve(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.ga=new bt(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ka{constructor(e,n,r,i,a,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Ka(e,n,Da.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $9{constructor(){this.queries=Wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),a=i.queries;i.queries=Wx(),a.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function Wx(){return new Ro((t=>fI(t)),$f)}async function H9(t,e){const n=ze(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new z9,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=qy(l,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Wy(n)}async function q9(t,e){const n=ze(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W9(t,e){const n=ze(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&Wy(n)}function G9(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Wy(t){t.Ca.forEach((e=>{e.next()}))}var hg,Gx;(Gx=hg||(hg={})).Ma="default",Gx.Cache="cache";class K9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.key=e}}class GI{constructor(e){this.key=e}}class Q9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=dI(e),this.tu=new Da(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qx,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const v=i.get(m),x=Hf(this.query,g)?g:null,k=!!v&&this.mutatedKeys.has(v.key),R=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;v&&x?v.data.isEqual(x.data)?k!==R&&(r.track({type:3,doc:x}),b=!0):this.su(v,x)||(r.track({type:2,doc:x}),b=!0,(h&&this.eu(x,h)>0||f&&this.eu(x,f)<0)&&(c=!0)):!v&&x?(r.track({type:0,doc:x}),b=!0):v&&!x&&(r.track({type:1,doc:v}),b=!0,(h||f)&&(c=!0)),b&&(x?(l=l.add(x),a=R?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,g)=>(function(x,k){const R=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:b})}};return R(x)-R(k)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Ka(this.query,e.tu,a,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new GI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new WI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gy="SyncEngine";class Y9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class X9{constructor(e){this.key=e,this.hu=!1}}class J9{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ro((c=>fI(c)),$f),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Re.comparator),this.Au=new Map,this.Ru=new My,this.Vu={},this.mu=new Map,this.fu=Ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z9(t,e,n=!0){const r=ZI(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await KI(r,e,n,!0),i}async function eU(t,e){const n=ZI(t);await KI(n,e,!0,!1)}async function KI(t,e,n,r){const i=await y9(t.localStore,ri(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await tU(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&BI(t.remoteStore,i),c}async function tU(t,e,n,r,i){t.pu=(g,v,x)=>(async function(R,b,N,B){let z=b.view.ru(N);z.Cs&&(z=await jx(R.localStore,b.query,!1).then((({documents:M})=>b.view.ru(M,z))));const te=B&&B.targetChanges.get(b.targetId),Z=B&&B.targetMismatches.get(b.targetId)!=null,q=b.view.applyChanges(z,R.isPrimaryClient,te,Z);return Qx(R,b.targetId,q.au),q.snapshot})(t,g,v,x);const a=await jx(t.localStore,e,!0),l=new Q9(e,a.Qs),c=l.ru(a.documents),h=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,h);Qx(t,n,f.au);const m=new Y9(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function nU(t,e,n){const r=ze(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!$f(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ug(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&By(r.remoteStore,i.targetId),fg(r,i.targetId)})).catch(il)):(fg(r,i.targetId),await ug(r.localStore,i.targetId,!0))}async function rU(t,e){const n=ze(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function iU(t,e,n){const r=hU(t);try{const i=await(function(l,c){const h=ze(l),f=xt.now(),m=c.reduce(((x,k)=>x.add(k.key)),Xe());let g,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=Bi(),R=Xe();return h.Ns.getEntries(x,m).next((b=>{k=b,k.forEach(((N,B)=>{B.isValidDocument()||(R=R.add(N))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,k))).next((b=>{g=b;const N=[];for(const B of c){const z=gB(B,g.get(B.key).overlayedDocument);z!=null&&N.push(new No(B.key,z,rI(z.value.mapValue),ii.exists(!0)))}return h.mutationQueue.addMutationBatch(x,f,N,c)})).next((b=>{v=b;const N=b.applyToLocalDocumentSet(g,R);return h.documentOverlayCache.saveOverlays(x,b.batchId,N)}))})).then((()=>({batchId:v.batchId,changes:mI(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new bt(Ye)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await sc(r,i.changes),await Yf(r.remoteStore)}catch(i){const a=qy(i,"Failed to persist write");n.reject(a)}}async function QI(t,e){const n=ze(t);try{const r=await p9(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(st(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?st(l.hu,14607):i.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await sc(n,r,e)}catch(r){await il(r)}}function Kx(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=ze(l);h.onlineState=c;let f=!1;h.queries.forEach(((m,g)=>{for(const v of g.Sa)v.va(c)&&(f=!0)})),f&&Wy(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sU(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new bt(Re.comparator);l=l.insert(a,En.newNoDocument(a,Be.min()));const c=Xe().add(a),h=new Gf(Be.min(),new Map,new bt(Ye),l,c);await QI(r,h),r.du=r.du.remove(a),r.Au.delete(e),Ky(r)}else await ug(r.localStore,e,!1).then((()=>fg(r,e,n))).catch(il)}async function oU(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await d9(n.localStore,e);XI(n,r,null),YI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sc(n,i)}catch(i){await il(i)}}async function aU(t,e,n){const r=ze(t);try{const i=await(function(l,c){const h=ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((g=>(st(g!==null,37113),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);XI(r,e,n),YI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sc(r,i)}catch(i){await il(i)}}function YI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function XI(t,e,n){const r=ze(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||JI(t,r)}))}function JI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(By(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ky(t))}function Qx(t,e,n){for(const r of n)r instanceof WI?(t.Ru.addReference(r.key,e),lU(t,r)):r instanceof GI?(xe(Gy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||JI(t,r.key)):Oe(19791,{wu:r})}function lU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(xe(Gy,"New document in limbo: "+n),t.Eu.add(r),Ky(t))}function Ky(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(gt.fromString(e)),r=t.fu.next();t.Au.set(r,new X9(n)),t.du=t.du.insert(n,r),BI(t.remoteStore,new Es(ri(cI(n.path)),r,"TargetPurposeLimboResolution",Bf.ce))}}async function sc(t,e,n){const r=ze(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=Fy.As(h.targetId,f);a.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const m=ze(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ie.forEach(f,(v=>ie.forEach(v.Es,(x=>m.persistence.referenceDelegate.addReference(g,v.targetId,x))).next((()=>ie.forEach(v.ds,(x=>m.persistence.referenceDelegate.removeReference(g,v.targetId,x)))))))))}catch(g){if(!sl(g))throw g;xe(jy,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const x=m.Ms.get(v),k=x.snapshotVersion,R=x.withLastLimboFreeSnapshotVersion(k);m.Ms=m.Ms.insert(v,R)}}})(r.localStore,a))}async function uU(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){xe(Gy,"User change. New user:",e.toKey());const r=await MI(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((h=>{h.reject(new ve(re.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sc(n,r.Ls)}}function cU(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let i=Xe();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function ZI(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sU.bind(null,e),e.Pu.H_=W9.bind(null,e.eventManager),e.Pu.yu=G9.bind(null,e.eventManager),e}function hU(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aU.bind(null,e),e}class Ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f9(this.persistence,new u9,e.initialUser,this.serializer)}Cu(e){return new LI(Oy.mi,this.serializer)}Du(e){return new w9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ef.provider={build:()=>new Ef};class fU extends Ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof _f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new KB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new LI((r=>_f.mi(r,n)),this.serializer)}}class dg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uU.bind(null,this.syncEngine),await U9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $9})()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),r=(function(a){return new S9(a)})(e.databaseInfo);return(function(a,l,c,h){return new C9(a,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new P9(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Kx(this.syncEngine,n,0)),(function(){return zx.v()?new zx:new _9})())}createSyncEngine(e,n){return(function(i,a,l,c,h,f,m){const g=new J9(i,a,l,c,h,f);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);xe(Ao,"RemoteStore shutting down."),r.Ea.add(5),await ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dg.provider={build:()=>new dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class pU{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=ky.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{xe(Ms,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(xe(Ms,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function mm(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Ms,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await MI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Yx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mU(t);xe(Ms,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Hx(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Hx(e.remoteStore,i))),t._onlineComponents=e}async function mU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Ms,"Using user provided OfflineComponentProvider");try{await mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await mm(t,new Ef)}}else xe(Ms,"Using default OfflineComponentProvider"),await mm(t,new fU(void 0));return t._offlineComponents}async function eA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Ms,"Using user provided OnlineComponentProvider"),await Yx(t,t._uninitializedComponentsProvider._online)):(xe(Ms,"Using default OnlineComponentProvider"),await Yx(t,new dg))),t._onlineComponents}function gU(t){return eA(t).then((e=>e.syncEngine))}async function yU(t){const e=await eA(t),n=e.eventManager;return n.onListen=Z9.bind(null,e.syncEngine),n.onUnlisten=nU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rU.bind(null,e.syncEngine),n}function vU(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,f){const m=new dU({next:v=>{m.Nu(),l.enqueueAndForget((()=>q9(a,g))),v.fromCache&&h.source==="server"?f.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new K9(c,m,{includeMetadataChanges:!0,qa:!0});return H9(a,g)})(await yU(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firestore.googleapis.com",Jx=!0;class Zx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nA,this.ssl=Jx}else this.host=e.host,this.ssl=e.ssl??Jx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WB)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new w5;switch(r.type){case"firstParty":return new T5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Xx.get(n);r&&(xe("ComponentProvider","Removing Datastore"),Xx.delete(n),r.terminate())})(this),Promise.resolve()}}function wU(t,e,n,r={}){t=Du(t,Xf);const i=Qa(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(gE(`https://${c}`),yE("Firestore",!0)),a.host!==nA&&a.host!==c&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:i,emulatorOptions:r};if(!xo(h,l)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=xn.MOCK_USER;else{f=xb(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new xn(g)}t._authCredentials=new _5(new qk(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tc(n,nn._jsonSchema))return new nn(e,r||null,new Re(gt.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:qt("string",nn._jsonSchemaVersion),referencePath:qt("string")};class Cs extends Vo{constructor(e,n,r){super(e,n,cI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Re(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function rA(t,e,...n){if(t=In(t),Wk("collection","path",e),t instanceof Xf){const r=gt.fromString(e,...n);return fx(r),new Cs(t,null,r)}{if(!(t instanceof nn||t instanceof Cs))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return fx(r),new Cs(t.firestore,null,r)}}function iA(t,e,...n){if(t=In(t),arguments.length===1&&(e=ky.newId()),Wk("doc","path",e),t instanceof Xf){const r=gt.fromString(e,...n);return hx(r),new nn(t,null,new Re(r))}{if(!(t instanceof nn||t instanceof Cs))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return hx(r),new nn(t.firestore,t instanceof Cs?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FI(this,"async_queue_retry"),this._c=()=>{const r=pm();r&&xe(eE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;xe(eE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",nE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Hy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Jf extends Xf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function sA(t,e){const n=xE(),r=mf,i=yg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=wb("firestore");a&&wU(i,...a)}return i}function oA(t){if(t._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_U(t),t._firestoreClient}function _U(t){const e=t._freezeSettings(),n=(function(i,a,l,c){return new B5(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,tA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yr(fn.fromBase64String(e))}catch(n){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yr(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,yr._jsonSchema))return yr.fromBase64String(e.bytes)}}yr._jsonSchemaVersion="firestore/bytes/1.0",yr._jsonSchema={type:qt("string",yr._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(tc(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:qt("string",oi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:qt("string",ai._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=/^__.*__$/;class EU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}function aA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class Xy{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aA(this.Ac)&&xU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(e)}Cc(e,n,r,i=!1){return new Xy({Ac:e,methodName:n,Dc:r,path:hn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lA(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new TU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SU(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);hA("Data must be an object, but it was:",l,r);const c=uA(r,l);let h,f;if(a.merge)h=new Pr(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const v=IU(e,g,n);if(!l.contains(v))throw new ve(re.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);CU(m,v)||m.push(v)}h=new Pr(m),f=l.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,f=l.fieldTransforms;return new EU(new gr(c),h,f)}class Jy extends Yy{_toFieldTransform(e){return new fB(e.path,new ju)}isEqual(e){return e instanceof Jy}}function kU(t,e,n,r=!1){return Zy(n,t.Cc(r?4:3,e))}function Zy(t,e){if(cA(t=In(t)))return hA("Unsupported field value:",e,t),uA(t,e);if(t instanceof Yy)return(function(r,i){if(!aA(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let h=Zy(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xt.fromDate(r);return{timestampValue:wf(i.serializer,a)}}if(r instanceof xt){const a=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(i.serializer,a)}}if(r instanceof oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yr)return{bytesValue:AI(i.serializer,r._byteString)};if(r instanceof nn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ly(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ai)return(function(l,c){return{mapValue:{fields:{[tI]:{stringValue:nI},[gf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return Ry(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${jf(r)}`)})(t,e)}function uA(t,e){const n={};return Qk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,((r,i)=>{const a=Zy(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function cA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof oi||t instanceof yr||t instanceof nn||t instanceof Yy||t instanceof ai)}function hA(t,e,n){if(!cA(n)||!Gk(n)){const r=jf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function IU(t,e,n){if((e=In(e))instanceof Qy)return e._internalPath;if(typeof e=="string")return fA(t,e);throw Tf("Field path arguments must be of type string or ",t,!1,void 0,n)}const AU=new RegExp("[~\\*/\\[\\]]");function fA(t,e,n){if(e.search(AU)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qy(...e.split("."))._internalPath}catch{throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tf(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ve(re.INVALID_ARGUMENT,c+t+h)}function CU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bU extends dA{data(){return super.data()}}function ev(t,e){return typeof e=="string"?fA(t,e):e instanceof Qy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class pA extends tv{}function RU(t,e,...n){let r=[];e instanceof tv&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((h=>h instanceof rv)).length,c=a.filter((h=>h instanceof nv)).length;if(l>1||l>0&&c>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class nv extends pA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nv(e,n,r)}_apply(e){const n=this._parse(e);return mA(e._query,n),new Vo(e.firestore,e.converter,rg(e._query,n))}_parse(e){const n=lA(e.firestore);return(function(a,l,c,h,f,m,g){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){iE(g,m);const k=[];for(const R of g)k.push(rE(h,a,R));v={arrayValue:{values:k}}}else v=rE(h,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||iE(g,m),v=kU(c,l,g,m==="in"||m==="not-in");return Ht.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rv extends tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const h of c)mA(l,h),l=rg(l,h)})(e._query,n),new Vo(e.firestore,e.converter,rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends pA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iv(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(a,l)})(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new ol(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function NU(t,e="asc"){const n=e,r=ev("orderBy",t);return iv._create(r,n)}function rE(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hI(e)&&n.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Re.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _x(t,new Re(r))}if(n instanceof nn)return _x(t,n._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function iE(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mA(t,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DU{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[gf].arrayValue?.values?.map((r=>Mt(r.doubleValue)));return new ai(n)}convertGeoPoint(e){return new oi(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);st(DI(r),9688,{name:e});const i=new Mu(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return i.isEqual(n)||ji(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends dA{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:qt("string",Va._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class qh extends Va{data(e={}){return super.data(e)}}class La{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qh(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new qh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Rh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const h=new qh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Rh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:LU(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ky.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:qt("string",La._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class MU extends DU{constructor(e){super(),this.firestore=e}convertBytes(e){return new yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function OU(t){t=Du(t,Vo);const e=Du(t.firestore,Jf),n=oA(e),r=new MU(e);return PU(t._query),vU(n,t._query).then((i=>new La(e,r,t,i)))}function FU(t){return gA(Du(t.firestore,Jf),[new Ny(t._key,ii.none())])}function jU(t,e){const n=Du(t.firestore,Jf),r=iA(t),i=VU(t.converter,e);return gA(n,[SU(lA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ii.exists(!1))]).then((()=>r))}function gA(t,e){return(function(r,i){const a=new As;return r.asyncQueue.enqueueAndForget((async()=>iU(await gU(r),i,a))),a.promise})(oA(t),e)}function BU(){return new Jy("serverTimestamp")}(function(e,n=!0){(function(i){rl=i})(Ya),Fa(new Eo("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Jf(new x5(r.getProvider("auth-internal")),new S5(l,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(f.options.projectId,m)})(l,i),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ks(ax,lx,e),ks(ax,lx,"esm2020")})();const UU=sA();function zU({answers:t,otherInputs:e,questions:n,onBack:r,onShowLogin:i,onShowHistory:a,onBackToHome:l,onSignOut:c,isFromHistory:h,savedSimpleResponse:f,savedDetailedResponse:m}){const{user:g}=Ja(),[v,x]=he.useState(f||""),[k,R]=he.useState(m||""),[b,N]=he.useState(!h),[B,z]=he.useState(!h),[te,Z]=he.useState(null),[q,M]=he.useState(!1),[A,V]=he.useState(!1),[I,L]=he.useState(!1),j=(se,be)=>{if(!se)return se;if((se.match(/\*\*/g)||[]).length%2!==0)if(be){const pe=se.lastIndexOf("**");if(pe!==-1)return se.substring(0,pe)+se.substring(pe+2)}else return se+"**";return se},C=(se,be=!1)=>{if(!se)return null;const Se=j(se,be);try{return S.jsx(rj,{remarkPlugins:[g5],components:{h1:({node:pe,..._e})=>S.jsx("h1",{className:"text-2xl font-bold mb-2 mt-4 text-[#111111]",..._e}),h2:({node:pe,..._e})=>S.jsx("h2",{className:"text-xl font-bold mb-2 mt-3 text-[#111111]",..._e}),h3:({node:pe,..._e})=>S.jsx("h3",{className:"text-lg font-semibold mb-2 mt-2 text-[#111111]",..._e}),p:({node:pe,..._e})=>S.jsx("p",{className:"mb-2 text-[#111111]",..._e}),ul:({node:pe,..._e})=>S.jsx("ul",{className:"list-disc list-inside mb-2 space-y-1 text-[#111111]",..._e}),ol:({node:pe,..._e})=>S.jsx("ol",{className:"list-decimal list-inside mb-2 space-y-1 text-[#111111]",..._e}),li:({node:pe,..._e})=>S.jsx("li",{className:"ml-2 text-[#111111]",..._e}),code:({node:pe,inline:_e,...Tt})=>_e?S.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-sm font-mono text-[#111111]",...Tt}):S.jsx("code",{className:"block bg-gray-100 p-2 rounded text-sm font-mono overflow-x-auto text-[#111111]",...Tt}),a:({node:pe,..._e})=>S.jsx("a",{className:"text-[#72BCA3] underline hover:text-[#5FA98D]",..._e}),blockquote:({node:pe,..._e})=>S.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic my-2 text-[#111111]",..._e}),strong:({node:pe,..._e})=>S.jsx("strong",{className:"font-bold text-[#111111]",..._e}),em:({node:pe,..._e})=>S.jsx("em",{className:"italic text-[#111111]",..._e}),hr:({node:pe,..._e})=>S.jsx("hr",{className:"my-4 border-gray-300",..._e}),table:({node:pe,..._e})=>S.jsx("table",{className:"border-collapse border border-gray-300 my-2",..._e}),th:({node:pe,..._e})=>S.jsx("th",{className:"border border-gray-300 px-2 py-1 bg-gray-100 font-bold text-[#111111]",..._e}),td:({node:pe,..._e})=>S.jsx("td",{className:"border border-gray-300 px-2 py-1 text-[#111111]",..._e})},children:Se})}catch(pe){return console.error("Markdown rendering error:",pe),S.jsx("div",{className:"whitespace-pre-wrap",children:Se})}},J=se=>{const be=n.find(Se=>Se.id===se);if(!be)return"";if((se==="q5"||se==="q6")&&be.subOptions){const Se=t[be.id]||[],pe=se==="q5"?"none-med":"none-condition",_e=se==="q5"?"has-med":"has-condition";if(Se.includes(pe))return"";if(Se.includes(_e)){const Tt=se==="q5"?"others-med":"others-condition",Wt=Se.filter(ht=>be.subOptions.options.some(kt=>kt.id===ht)&&ht!==Tt).map(ht=>be.subOptions.options.find(Ot=>Ot.id===ht)?.label||"").filter(Boolean);return Se.includes(Tt)&&e[be.id]&&Wt.push(e[be.id]),Wt.join("")||""}return""}return t[be.id]?.map(Se=>be.options.find(pe=>pe.id===Se)?.label).filter(Boolean).join("")||""},ee=J("q1"),Ie=J("q2"),we=J("q3"),ae=J("q5"),ge=J("q6"),D=J("q4"),H=D?D.replace(//g,""):"",ne=()=>{const se=n.find(dt=>dt.id==="q1"),be=n.find(dt=>dt.id==="q4"),Se=n.find(dt=>dt.id==="q5"),pe=n.find(dt=>dt.id==="q6"),_e=t.q1?.[0],Cn=se?.options.find(dt=>dt.id===_e)?.id||"coq10",ht=(t.q4||[]).map(dt=>be?.options.find(oe=>oe.id===dt)?.label||"").filter(Boolean),kt=t.q5||[],Ot=[];kt.includes("none-med")?Ot.push(""):kt.includes("has-med")&&Se?.subOptions&&(kt.filter(Q=>Se.subOptions.options.some(oe=>oe.id===Q)).forEach(Q=>{const oe=Se.subOptions.options.find(Pe=>Pe.id===Q);oe&&Ot.push(oe.label)}),e.q5&&Ot.push(e.q5));const dn=t.q6||[],Ft=[];dn.includes("none-condition")?Ft.push(""):dn.includes("has-condition")&&pe?.subOptions&&(dn.filter(Q=>pe.subOptions.options.some(oe=>oe.id===Q)).forEach(Q=>{const oe=pe.subOptions.options.find(Pe=>Pe.id===Q);oe&&Ft.push(oe.label)}),e.q6&&Ft.push(e.q6));const Ge={"under-18":"under-18","18-30":"18-30","31-45":"31-45","46-60":"46-60","60-plus":"60-plus"},$e=t.q2?.[0]||"",ft=Ge[$e]||$e||"",lt={balanced:"omnivore","less-meat":"vegetarian",vegan:"vegan",takeout:"omnivore",fitness:"omnivore"},at=t.q3?.[0]||"",bn=lt[at]||at||"omnivore";return{ingredient_id:Cn,user_profile:{age_range:ft,sex:"not_specified",diet_type:bn,goals:ht,conditions:Ft,medications:Ot,pregnancy_status:"none"},language:"Chinese"}},O=async se=>{const be=ne(),Se=`${v5}/analyze`;try{N(!0),z(!0),Z(null),x(""),R(""),console.log("Making streaming API request to:",Se),console.log("Request body:",JSON.stringify(be,null,2));const pe=await fetch(Se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be),mode:"cors",signal:se});if(!pe.ok){const Ge=await pe.text();let $e=`API error: ${pe.status} ${pe.statusText}`;try{const ft=JSON.parse(Ge);$e=ft.detail||ft.error||$e}catch{Ge&&($e+=` - ${Ge}`)}throw new Error($e)}let _e="",Tt="",Cn=!1,Wt=!1;const ht=()=>{_e&&!se?.aborted&&(n_.flushSync(()=>{x(Ge=>Ge+_e)}),_e="")},kt=()=>{Tt&&!se?.aborted&&(n_.flushSync(()=>{R(Ge=>Ge+Tt)}),Tt="")},Ot=pe.body?.getReader(),dn=new TextDecoder("utf-8");let Ft="";if(!Ot)throw new Error("Response body is not readable");for(;;){if(se?.aborted){Ot.cancel();break}const{done:Ge,value:$e}=await Ot.read();if(Ge)break;Ft+=dn.decode($e,{stream:!0});let ft;for(;(ft=Ft.indexOf(`

`))!==-1;){const lt=Ft.substring(0,ft);if(Ft=Ft.substring(ft+2),!lt.trim()||lt.trim().startsWith(":"))continue;let at="",bn="";const dt=lt.split(`
`);for(const Q of dt)Q.trim().startsWith(":")||(Q.startsWith("event: ")?at=Q.substring(7).trim():Q.startsWith("data: ")&&(bn?bn+=`
`+Q.substring(6):bn=Q.substring(6)));if(bn){if(se?.aborted)break;try{const Q=JSON.parse(bn);if(at==="simple_chunk"){const oe=Q.chunk||"";oe&&!se?.aborted&&(Cn=!0,_e+=oe,ht(),console.log("Simple chunk received:",oe.length,"chars"))}else if(at==="simple_final")ht(),!se?.aborted&&!Cn?(x(Q.content||""),console.log("Simple final (fallback):",Q.content?.length,"chars")):console.log("Simple final ignored - chunks already received");else if(at==="simple_complete")ht(),se?.aborted||N(!1);else if(at==="detailed_chunk"){const oe=Q.chunk||"";oe&&!se?.aborted&&(Wt=!0,Tt+=oe,kt(),console.log("Detailed chunk received:",oe.length,"chars"))}else if(at==="detailed_final")kt(),!se?.aborted&&!Wt?(R(oe=>oe||Q.content||""),console.log("Detailed final (fallback):",Q.content?.length,"chars")):console.log("Detailed final ignored - chunks already received");else if(at==="detailed_complete")kt(),se?.aborted||z(!1);else if(at==="simple_answer"||Q.simple_answer)ht(),se?.aborted||(x(Q.simple_answer||""),N(!1));else if((at==="error"||Q.error)&&(ht(),kt(),!se?.aborted))throw new Error(Q.error||"Unknown error")}catch(Q){se?.aborted||console.error("Error parsing SSE data:",Q,bn)}}}}if(Ft.trim()){const Ge=Ft.split(`
`);let $e="",ft="";for(const lt of Ge)lt.startsWith("event: ")?$e=lt.substring(7).trim():lt.startsWith("data: ")&&(ft=lt.substring(6));if(ft){if(se?.aborted)return;try{const lt=JSON.parse(ft);if($e==="simple_chunk"){const at=lt.chunk||"";at&&!se?.aborted&&(Cn=!0,_e+=at,ht())}else if($e==="simple_final")ht(),!se?.aborted&&!Cn&&x(lt.content||"");else if($e==="simple_complete")ht(),se?.aborted||N(!1);else if($e==="simple_answer"||lt.simple_answer)ht(),se?.aborted||(x(lt.simple_answer||""),N(!1));else if($e==="detailed_chunk"){const at=lt.chunk||"";at&&!se?.aborted&&(Wt=!0,Tt+=at,kt())}else $e==="detailed_final"?(kt(),!se?.aborted&&!Wt&&R(at=>at||lt.content||"")):$e==="detailed_complete"&&(kt(),se?.aborted||z(!1))}catch(lt){se?.aborted||console.error("Error parsing final SSE data:",lt)}}}ht(),kt(),se?.aborted||(N(!1),z(!1))}catch(pe){if(se?.aborted)return;let _e="Failed to fetch AI response";if(pe instanceof TypeError)pe.message.includes("fetch")||pe.message.includes("Failed to fetch")?_e="":_e=`TypeError: ${pe.message}`;else if(pe instanceof Error){if(pe.name==="AbortError")return;_e=pe.message}Z(_e),N(!1),z(!1),console.error("Error fetching AI response:",pe),console.error("Error type:",pe?.constructor?.name),console.error("Error message:",pe instanceof Error?pe.message:String(pe))}},Ae=async()=>{if(!g){i();return}L(!0);try{const se=`${ee}${H}`;await jU(rA(UU,`users/${g.uid}/history`),{timestamp:BU(),questionText:se,answers:t,otherInputs:e,simpleResponse:v,detailedResponse:k,selectedIngredient:ee,ageRange:Ie,dietType:we,mainGoals:D,medications:ae,conditions:ge}),V(!0),setTimeout(()=>V(!1),3e3)}catch(se){console.error("Error saving results:",se),alert("")}finally{L(!1)}};he.useEffect(()=>{if(h)f&&m&&(x(f),R(m)),N(!1),z(!1);else{const se=new AbortController;return O(se.signal).catch(be=>{se.signal.aborted||console.error("Error in fetchAIResponse:",be)}),()=>{se.abort()}}},[h]);const Fe=()=>{r()};return S.jsxs("div",{className:"min-h-screen pb-32",style:{backgroundColor:"#F7F5F0"},children:[S.jsx("header",{className:"border-b-3 border-[#111111] sticky top-0 z-10",style:{backgroundColor:"#F7F5F0"},children:S.jsx("div",{className:"max-w-5xl mx-auto px-6 py-4",children:S.jsxs("div",{className:"flex items-center justify-between relative",children:[h&&S.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors font-normal",style:{boxShadow:"2px 2px 0 #111111"},children:[S.jsx(Ma,{className:"w-4 h-4"}),S.jsx("span",{children:""})]}),S.jsxs("button",{onClick:l,className:"absolute left-1/2 transform -translate-x-1/2 flex items-center gap-3 hover:opacity-80 transition-opacity",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:S.jsx("img",{src:Oa,alt:"",className:"w-full h-full object-cover"})}),S.jsx("h1",{className:"text-[#111111] brand-title hidden sm:block",children:""})]}),S.jsx("div",{className:"ml-auto",children:g?S.jsx(Cf,{onShowHistory:a,onSignOut:c}):S.jsx("button",{onClick:i,className:"px-6 py-2 bg-white border-2 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors font-medium",style:{boxShadow:"2px 2px 0 #111111"},children:""})})]})})}),S.jsxs("main",{className:"max-w-2xl mx-auto px-6 py-8",children:[S.jsxs(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[S.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:S.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#EAD5D1] border-3 border-[#111111] rounded-full",style:{boxShadow:"3px 3px 0 #111111"},children:[S.jsx(Ap,{className:"w-5 h-5 text-[#111111]"}),S.jsx("span",{className:"text-[#111111] font-bold text-lg",children:""})]})}),S.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:S.jsxs("p",{className:"text-[#111111] text-lg leading-relaxed text-left",children:[S.jsx("span",{children:""}),S.jsxs("span",{className:"text-[#72BCA3] font-semibold cursor-help relative inline-block",onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:["",q&&S.jsx("div",{className:"absolute top-full left-0 mt-2 w-max max-w-[90vw] p-5 bg-white border-3 border-[#111111] rounded-2xl z-50",style:{boxShadow:"5px 5px 0 #111111",width:"max-content",minWidth:"300px",whiteSpace:"normal"},onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:S.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(lb,{className:"w-5 h-5 text-[#72BCA3] flex-shrink-0 mt-0.5"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-[#6B6B6B] text-sm",children:""}),S.jsx("div",{className:"text-[#111111] text-base font-medium",children:Ie})]})]}),S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(cb,{className:"w-5 h-5 text-[#72BCA3] flex-shrink-0 mt-0.5"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-[#6B6B6B] text-sm",children:""}),S.jsx("div",{className:"text-[#111111] text-base font-medium",children:we})]})]}),S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(eb,{className:"w-5 h-5 text-[#C27566] flex-shrink-0 mt-0.5"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-[#6B6B6B] text-sm",children:""}),S.jsx("div",{className:"text-[#111111] text-base font-medium",children:ae||""})]})]}),S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx(WC,{className:"w-5 h-5 text-[#C27566] flex-shrink-0 mt-0.5"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-[#6B6B6B] text-sm",children:""}),S.jsx("div",{className:"text-[#111111] text-base font-medium",children:ge||""})]})]})]})})]}),S.jsxs("span",{children:["",S.jsx("strong",{children:ee}),"",S.jsx("strong",{children:H}),""]})]})}),S.jsxs(xs.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"mb-6",children:[S.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:S.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#EAD5D1] border-3 border-[#111111] rounded-full",style:{boxShadow:"3px 3px 0 #111111"},children:[S.jsx(Ap,{className:"w-5 h-5 text-[#111111]"}),S.jsx("span",{className:"text-[#111111] font-bold text-lg",children:""})]})}),S.jsx("div",{className:"p-5 bg-white border-3 border-[#111111] rounded-2xl",style:{boxShadow:"5px 5px 0 #111111"},children:S.jsx("div",{className:"text-[#111111] leading-relaxed text-left prose prose-sm max-w-none",children:te?S.jsxs("div",{className:"text-[#C27566]",children:[S.jsx("p",{className:"font-bold mb-2",children:""}),S.jsx("p",{children:te}),S.jsx("button",{onClick:()=>O(),className:"mt-4 px-4 py-2 bg-[#72BCA3] text-white rounded-full hover:bg-[#5FA98D] transition-colors",children:""})]}):v?C(v,b):b?S.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-3",children:[S.jsx(Sw,{className:"w-8 h-8 text-[#72BCA3] animate-spin"}),S.jsx("p",{className:"text-[#6B6B6B] text-sm",children:""})]}):null})})]}),S.jsxs(xs.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.5},className:"mb-8",children:[S.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:S.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#EAD5D1] border-3 border-[#111111] rounded-full",style:{boxShadow:"3px 3px 0 #111111"},children:[S.jsx(Ap,{className:"w-5 h-5 text-[#111111]"}),S.jsx("span",{className:"text-[#111111] font-bold text-lg",children:""})]})}),S.jsx("div",{className:"p-5 bg-white border-3 border-[#111111] rounded-2xl",style:{boxShadow:"5px 5px 0 #111111"},children:S.jsx("div",{className:"text-[#111111] leading-relaxed text-left prose prose-sm max-w-none",children:te?S.jsxs("div",{className:"text-[#C27566]",children:[S.jsx("p",{className:"font-bold mb-2",children:""}),S.jsx("p",{children:te}),S.jsx("button",{onClick:()=>O(),className:"mt-4 px-4 py-2 bg-[#72BCA3] text-white rounded-full hover:bg-[#5FA98D] transition-colors",children:""})]}):k?C(k,B):B?S.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-3",children:[S.jsx(Sw,{className:"w-8 h-8 text-[#72BCA3] animate-spin"}),S.jsx("p",{className:"text-[#6B6B6B] text-sm",children:""})]}):null})})]})]}),S.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.5},className:"mb-8",children:S.jsxs("div",{className:"p-5 bg-[#EAD5D1] border-3 border-[#111111] rounded-2xl",style:{boxShadow:"4px 4px 0 #111111"},children:[S.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[S.jsx(ib,{className:"w-6 h-6 text-[#C27566] flex-shrink-0 mt-0.5"}),S.jsx("h4",{className:"text-[#111111] font-bold text-lg",children:""})]}),S.jsxs("ul",{className:"space-y-2 text-[#111111] text-base",children:[S.jsxs("li",{className:"flex items-start gap-2",children:[S.jsx("span",{className:"text-[#C27566] mt-1",children:""}),S.jsx("span",{children:""})]}),S.jsxs("li",{className:"flex items-start gap-2",children:[S.jsx("span",{className:"text-[#C27566] mt-1",children:""}),S.jsx("span",{children:""})]}),S.jsxs("li",{className:"flex items-start gap-2",children:[S.jsx("span",{className:"text-[#C27566] mt-1",children:""}),S.jsx("span",{children:""})]})]})]})})]}),S.jsx(xs.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:1.1,duration:.5},className:"fixed bottom-0 left-0 right-0 border-t-3 border-[#111111] z-20",style:{backgroundColor:"#F7F5F0"},children:S.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-4",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[S.jsxs("button",{onClick:Fe,className:"flex-1 px-6 py-3 bg-white border-3 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors flex items-center justify-center gap-2 font-medium",style:{boxShadow:"3px 3px 0 #111111"},children:[S.jsx(Ma,{className:"w-4 h-4"}),S.jsx("span",{children:""})]}),S.jsx("button",{onClick:Ae,disabled:I||A||h||b||B||!!te||!v||!k,className:"flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-[#72BCA3] border-3 border-[#111111] rounded-full hover:bg-[#5FA98D] transition-colors disabled:opacity-70 disabled:cursor-not-allowed",style:{boxShadow:"3px 3px 0 #111111"},children:A?S.jsxs(S.Fragment,{children:[S.jsx(gm,{className:"w-5 h-5 text-white"}),S.jsx("span",{className:"text-white font-bold",children:""})]}):I?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),S.jsx("span",{className:"text-white font-bold",children:"..."})]}):S.jsxs(S.Fragment,{children:[S.jsx(nb,{className:"w-5 h-5 text-white"}),S.jsx("span",{className:"text-white font-bold",children:""})]})})]}),S.jsx("div",{className:"mt-3 text-center",children:S.jsx("p",{className:"text-[#6B6B6B] text-xs",children:"    AI"})})]})})]})}const $U="/assets/google_icon-PGu8DEWi.svg";function HU({onBack:t,onLoginSuccess:e,onShowForgotPassword:n}){const{signInWithEmail:r,signUpWithEmail:i,signInWithGoogle:a}=Ja(),[l,c]=he.useState(""),[h,f]=he.useState(""),[m,g]=he.useState(!1),[v,x]=he.useState(!1),[k,R]=he.useState(""),[b,N]=he.useState(!1),[B,z]=he.useState(!1),te=async A=>{A.preventDefault(),R(""),g(!0);try{B?await i(l,h):await r(l,h),e()}catch(V){R(V instanceof Error?V.message:"")}finally{g(!1)}},Z=async()=>{R(""),x(!0);try{await a(),e()}catch(A){R(A instanceof Error?A.message:"Google")}finally{x(!1)}},q=()=>{n&&n()},M=()=>{z(!B),R("")};return S.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F7F5F0"},children:[S.jsx("header",{className:"border-b-3 border-[#111111]",style:{backgroundColor:"#F7F5F0"},children:S.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("div",{className:"flex justify-start min-w-[96px]",children:S.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors",style:{boxShadow:"2px 2px 0 #111111"},children:[S.jsx(Ma,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:""})]})}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:S.jsx("img",{src:Oa,alt:"",className:"w-full h-full object-cover"})}),S.jsx("h1",{className:"text-[#111111] brand-title hidden sm:block",children:""})]}),S.jsx("div",{className:"flex justify-end min-w-[96px]"})]})})}),S.jsx("main",{className:"flex-1 flex items-center justify-center px-6 py-12",children:S.jsx("div",{className:"w-full max-w-md",children:S.jsxs("div",{className:"bg-white border-3 border-[#111111] rounded-3xl p-8",style:{boxShadow:"6px 6px 0 #111111"},children:[S.jsx("h2",{className:"text-3xl font-bold text-[#111111] text-center mb-2",children:B?"":""}),S.jsx("p",{className:"text-[#6B6B6B] text-center mb-8",children:B?"":""}),S.jsxs("form",{onSubmit:te,children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{htmlFor:"email",className:"block text-[#111111] font-medium mb-2",children:""}),S.jsx("input",{type:"email",id:"email",value:l,onChange:A=>c(A.target.value),placeholder:"eg: j.wick@continental.com",className:"w-full px-4 py-3 border-2 border-[#111111] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#72BCA3]",required:!0,disabled:m})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"password",className:"block text-[#111111] font-medium mb-2",children:""}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:b?"text":"password",id:"password",value:h,onChange:A=>f(A.target.value),placeholder:"6",className:"w-full px-4 py-3 pr-12 border-2 border-[#111111] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#72BCA3]",required:!0,disabled:m,minLength:6}),S.jsx("button",{type:"button",onClick:()=>N(!b),className:"absolute right-4 top-1/2 -translate-y-1/2 text-[#6B6B6B] hover:text-[#111111] transition-colors",disabled:m,children:b?S.jsx(BC,{className:"w-5 h-5"}):S.jsx(zC,{className:"w-5 h-5"})})]})]}),!B&&S.jsx("div",{className:"mb-8 text-right",children:S.jsx("button",{type:"button",onClick:q,className:"text-[#6B6B6B] hover:text-[#72BCA3] text-sm transition-colors",children:""})}),B&&S.jsx("div",{className:"mb-6"}),k&&S.jsx("div",{className:"mb-4 text-center",children:S.jsx("p",{className:"text-[#C27566] text-sm",children:k})}),S.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 bg-[#72BCA3] border-2 border-[#111111] rounded-full text-white text-lg font-bold hover:bg-[#5FA98D] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{boxShadow:"3px 3px 0 #111111"},children:m?S.jsxs("span",{className:"flex items-center justify-center gap-2",children:[S.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),B?"...":"..."]}):B?"":""})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsxs("p",{className:"text-[#6B6B6B] text-sm",children:[B?"":"",S.jsx("button",{onClick:M,className:"ml-1 text-[#72BCA3] hover:text-[#5FA98D] font-medium transition-colors",children:B?"":""})]})}),S.jsxs("div",{className:"my-8 relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("div",{className:"w-full border-t-2 border-[#111111]"})}),S.jsx("div",{className:"relative flex justify-center text-sm",children:S.jsx("span",{className:"px-4 bg-white text-[#6B6B6B]",children:"Or continue with"})})]}),S.jsx("button",{type:"button",onClick:Z,disabled:v,className:"w-full py-3 px-4 bg-[#1A1A1A] border-2 border-[#111111] rounded-full text-white font-medium hover:bg-[#333333] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",style:{boxShadow:"3px 3px 0 #111111"},children:v?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),S.jsx("span",{children:"..."})]}):S.jsxs(S.Fragment,{children:[S.jsx("img",{src:$U,alt:"Google",className:"w-5 h-5"}),S.jsx("span",{children:"Google"})]})})]})})})]})}function qU({onBack:t}){const[e,n]=he.useState(""),[r,i]=he.useState(!1),[a,l]=he.useState(""),[c,h]=he.useState(!1),f=async m=>{if(m.preventDefault(),!e){l("");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){l("");return}i(!0),l("");try{await QR(po,e),h(!0),setTimeout(()=>{t()},3e3)}catch(v){v.code==="auth/user-not-found"?l(""):v.code==="auth/invalid-email"?l(""):v.code==="auth/too-many-requests"?l(""):l("")}finally{i(!1)}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",style:{backgroundColor:"#F7F5F0"},children:S.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:S.jsx("div",{className:"bg-white border-3 border-[#111111] rounded-3xl p-8",style:{boxShadow:"6px 6px 0 #111111"},children:c?S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-[#72BCA3] rounded-full flex items-center justify-center mx-auto mb-4 border-3 border-[#111111]",style:{boxShadow:"3px 3px 0 #111111"},children:S.jsx(XC,{className:"w-8 h-8 text-white"})}),S.jsx("h2",{className:"text-2xl font-bold text-[#111111] mb-3",children:""}),S.jsxs("p",{className:"text-[#6B6B6B] mb-6",children:[" ",S.jsx("span",{className:"font-semibold text-[#111111]",children:e})]}),S.jsx("p",{className:"text-sm text-[#6B6B6B]",children:""})]}):S.jsxs(S.Fragment,{children:[S.jsx("h2",{className:"text-2xl font-bold text-[#111111] mb-3",children:""}),S.jsx("p",{className:"text-[#6B6B6B] mb-6",children:""}),S.jsxs("form",{onSubmit:f,children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#111111] mb-2",children:""}),S.jsx("input",{id:"email",type:"email",value:e,onChange:m=>{n(m.target.value),l("")},placeholder:"hello@johndoe.com",className:"w-full px-4 py-3 bg-white border-2 border-[#111111] rounded-xl focus:outline-none focus:border-[#72BCA3] transition-colors",style:{boxShadow:"2px 2px 0 #111111"},disabled:r}),a&&S.jsx("p",{className:"mt-2 text-sm text-[#C27566]",children:a})]}),S.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-[#72BCA3] text-white font-bold rounded-full border-3 border-[#111111] hover:bg-[#5FA98D] transition-all disabled:opacity-70 disabled:cursor-not-allowed mb-4",style:{boxShadow:"3px 3px 0 #111111"},onMouseEnter:m=>{r||(m.currentTarget.style.boxShadow="4px 4px 0 #111111",m.currentTarget.style.transform="translate(-1px, -1px)")},onMouseLeave:m=>{m.currentTarget.style.boxShadow="3px 3px 0 #111111",m.currentTarget.style.transform="translate(0, 0)"},children:r?S.jsxs("span",{className:"flex items-center justify-center gap-2",children:[S.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"..."]}):""}),S.jsxs("button",{type:"button",onClick:t,className:"w-full flex items-center justify-center gap-2 text-[#6B6B6B] hover:text-[#111111] transition-colors",children:[S.jsx(Ma,{className:"w-4 h-4"}),""]})]})]})})})})}const sE=sA();function WU({onBack:t,onViewRecord:e,onShowLogin:n,onBackToHome:r,onSignOut:i,onStartNew:a}){const{user:l}=Ja(),[c,h]=he.useState([]),[f,m]=he.useState(!0);he.useEffect(()=>{l&&g()},[l]);const g=async()=>{if(!l){h([]),m(!1);return}m(!0);try{const k=RU(rA(sE,`users/${l.uid}/history`),NU("timestamp","desc")),R=await OU(k),b=[];R.forEach(N=>{const B=N.data();b.push({id:N.id,timestamp:B.timestamp?.toDate()?.toISOString()||new Date().toISOString(),questionText:B.questionText,simpleResponse:B.simpleResponse,detailedResponse:B.detailedResponse,selectedIngredient:B.selectedIngredient,ageRange:B.ageRange,dietType:B.dietType,mainGoals:B.mainGoals,medications:B.medications,conditions:B.conditions,answers:B.answers||{},otherInputs:B.otherInputs||{}})}),h(b)}catch(k){console.error("Error loading history:",k),h([])}finally{m(!1)}},v=async k=>{if(l)try{await FU(iA(sE,`users/${l.uid}/history`,k));const R=c.filter(b=>b.id!==k);h(R)}catch(R){console.error("Error deleting record:",R),alert("")}},x=k=>{const R=new Date(k),b=new Date,N=new Date(R.getFullYear(),R.getMonth(),R.getDate()),z=new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-N.getTime(),te=Math.floor(z/864e5);return te===0?" "+R.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):te===1?" "+R.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):te<7?`${te}`:R.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})};return S.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#F7F5F0"},children:[S.jsx("header",{className:"border-b-3 border-[#111111] sticky top-0 z-10",style:{backgroundColor:"#F7F5F0"},children:S.jsx("div",{className:"max-w-5xl mx-auto px-6 py-4",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("div",{className:"flex justify-start min-w-[96px]",children:S.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-[#111111] rounded-full hover:bg-[#EAD5D1] transition-colors",style:{boxShadow:"2px 2px 0 #111111"},children:[S.jsx(Ma,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:""})]})}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:r,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:S.jsx("img",{src:Oa,alt:"",className:"w-full h-full object-cover"})})}),S.jsx("h1",{className:"text-[#111111] brand-title",children:""})]}),S.jsx("div",{className:"flex justify-end min-w-[96px]",children:l&&S.jsx(Cf,{onSignOut:i})})]})})}),S.jsx("main",{className:"max-w-4xl mx-auto px-6 py-8",children:f?S.jsxs("div",{className:"flex items-center justify-center py-16",children:[S.jsx("div",{className:"w-8 h-8 border-4 border-[#EAD5D1] border-t-[#111111] rounded-full animate-spin"}),S.jsx("span",{className:"ml-3 text-[#6B6B6B]",children:"..."})]}):c.length===0?S.jsxs(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[S.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-[#EAD5D1] border-3 border-[#111111] rounded-full flex items-center justify-center",style:{boxShadow:"4px 4px 0 #111111"},children:S.jsx(Tw,{className:"w-12 h-12 text-[#6B6B6B]"})}),S.jsx("h2",{className:"text-2xl font-bold text-[#111111] mb-2",children:""}),S.jsx("p",{className:"text-[#6B6B6B] mb-8",children:'""'}),S.jsx("button",{onClick:a,className:"inline-flex items-center gap-2 px-6 py-3 bg-[#72BCA3] border-3 border-[#111111] rounded-full text-white font-bold hover:bg-[#5FA98D] transition-colors",style:{boxShadow:"3px 3px 0 #111111"},children:""})]}):S.jsx("div",{className:"space-y-4",children:c.map((k,R)=>S.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"group bg-white border-3 border-[#111111] rounded-2xl p-6 hover:translate-x-[-2px] hover:translate-y-[-2px] transition-all cursor-pointer",style:{boxShadow:"4px 4px 0 #111111"},onMouseEnter:b=>{b.currentTarget.style.boxShadow="6px 6px 0 #111111"},onMouseLeave:b=>{b.currentTarget.style.boxShadow="4px 4px 0 #111111"},onClick:()=>e(k),children:S.jsxs("div",{className:"flex items-start justify-between gap-4",children:[S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx(Tw,{className:"w-4 h-4 text-[#6B6B6B] flex-shrink-0"}),S.jsx("span",{className:"text-sm text-[#6B6B6B]",children:x(k.timestamp)})]}),S.jsx("h3",{className:"text-[#111111] font-medium mb-2 line-clamp-2",children:k.questionText}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx("span",{className:"inline-block px-3 py-1 bg-[#EAD5D1] border-2 border-[#111111] rounded-full text-xs text-[#111111]",children:k.selectedIngredient}),S.jsx("span",{className:"inline-block px-3 py-1 bg-[#F7F5F0] border-2 border-[#111111] rounded-full text-xs text-[#6B6B6B]",children:k.ageRange})]})]}),S.jsx("button",{onClick:b=>{b.stopPropagation(),v(k.id)},className:"p-2 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-[#EAD5D1] rounded-full",children:S.jsx(ob,{className:"w-5 h-5 text-[#C27566]"})})]})},k.id))})})]})}const gs=[{id:"q2",question:"",options:[{id:"under-18",label:"18"},{id:"18-30",label:"1830"},{id:"31-45",label:"3145"},{id:"46-60",label:"4660"},{id:"60-plus",label:"60"}]},{id:"q3",question:"",options:[{id:"balanced",label:""},{id:"less-meat",label:" / "},{id:"vegan",label:""},{id:"takeout",label:" / "},{id:"fitness",label:" / "}]},{id:"q5",question:"",multiSelect:!1,options:[{id:"none-med",label:""},{id:"has-med",label:""}],subOptions:{triggerId:"has-med",question:"",options:[{id:"antidepressants",label:" / "},{id:"blood-pressure",label:""},{id:"blood-sugar",label:""},{id:"blood-thinners",label:""},{id:"antibiotics",label:""},{id:"stomach",label:" / "},{id:"hormonal",label:""},{id:"chinese-medicine",label:""},{id:"others-med",label:""}]},hasOtherInput:!0},{id:"q6",question:"",multiSelect:!1,options:[{id:"none-condition",label:""},{id:"has-condition",label:""}],subOptions:{triggerId:"has-condition",question:"",options:[{id:"hypertension",label:""},{id:"prediabetes",label:" / "},{id:"hyperlipidemia",label:" / "},{id:"thyroid",label:""},{id:"heart",label:""},{id:"liver-kidney",label:" / "},{id:"others-condition",label:""}]},hasOtherInput:!0},{id:"q4",question:" 2 ",multiSelect:!0,maxSelections:2,options:[{id:"energy",label:" / "},{id:"stress",label:" / "},{id:"gut-health",label:" / "},{id:"sleep",label:""},{id:"immunity",label:" / "},{id:"fitness",label:" / "},{id:"memory",label:" / "},{id:"metabolism",label:" / "},{id:"skin",label:" / "},{id:"vision",label:""}]},{id:"q1",question:"",options:[{id:"probiotics",label:""},{id:"vitamin_b",label:" B"},{id:"vitamin_c",label:" C"},{id:"vitamin_d",label:" D"},{id:"collagen",label:""},{id:"coq10",label:" Q10"},{id:"calcium",label:""},{id:"iron",label:""},{id:"magnesium",label:""},{id:"fish_oil",label:""}]}];function GU(){const[t,e]=he.useState(!1),[n,r]=he.useState(0),[i,a]=he.useState({}),[l,c]=he.useState({}),[h,f]=he.useState(!1),[m,g]=he.useState(!1),[v,x]=he.useState(!1),[k,R]=he.useState(!1),[b,N]=he.useState(!1),[B,z]=he.useState(""),[te,Z]=he.useState(""),q=()=>{e(!0)},M=(O,Ae)=>{const Fe={...i,[O]:Ae};a(Fe),n<gs.length-1?setTimeout(()=>{r(n+1)},300):setTimeout(()=>{g(!1),f(!0)},300)},A=(O,Ae)=>{c({...l,[O]:Ae})},V=()=>{n>0?r(n-1):e(!1)},I=()=>{f(!1),r(gs.length-1)},L=()=>{x(!0),N(!1)},j=()=>{x(!1)},C=()=>{x(!1)},J=()=>{R(!0)},ee=()=>{R(!1)},Ie=()=>{R(!1),f(!1),e(!0),r(0)},we=O=>{a(O.answers),c(O.otherInputs),z(O.simpleResponse||""),Z(O.detailedResponse||""),g(!0),f(!0),R(!1),e(!0)},ae=O=>{r(O)},ge=()=>{f(!1),R(!1),x(!1),e(!1),r(0),a({}),c({}),g(!1),z(""),Z("")},D=()=>{f(!1),R(!1),x(!1),e(!1),r(0),a({}),c({})},H=()=>{x(!1),N(!0)},ne=()=>{N(!1),x(!0)};return S.jsx(wN,{children:v?S.jsx(HU,{onBack:j,onLoginSuccess:C,onShowForgotPassword:H}):b?S.jsx(qU,{onBack:ne}):k?S.jsx(WU,{onBack:ee,onViewRecord:we,onShowLogin:L,onBackToHome:ge,onSignOut:D,onStartNew:Ie}):t?h?S.jsx(zU,{answers:i,otherInputs:l,questions:gs,onBack:I,onShowLogin:L,onShowHistory:J,onBackToHome:ge,onSignOut:D,isFromHistory:m,savedSimpleResponse:B,savedDetailedResponse:te}):S.jsx(xN,{question:gs[n],currentIndex:n,totalQuestions:gs.length,onAnswer:M,onOtherInput:A,onBack:V,selectedAnswers:i[gs[n].id]||[],otherInput:l[gs[n].id]||"",onShowLogin:L,onShowHistory:J,onJumpToQuestion:ae,onBackToHome:ge,onSignOut:D,allAnswers:i,allQuestions:gs}):S.jsx(_N,{onStart:q,onShowLogin:L,onShowHistory:J})})}PC.createRoot(document.getElementById("root")).render(S.jsx(GU,{}));
